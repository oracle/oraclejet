/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["knockout","ojs/ojcontext","ojs/ojmodule","ojs/ojcomposite","ojs/ojcustomelement-utils"],function(e,o,n,i,t){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;i.register("oj-module",{view:'\x3c!-- ko ojModule: {"view":config().view, "viewModel":config().viewModel,"cleanupMode":config().cleanupMode,"animation":animation} --\x3e\x3c!-- /ko --\x3e',metadata:{properties:{animation:{type:"object"},config:{type:"object|Promise",properties:{cleanupMode:{type:"string",enumValues:["none","onDisconnect"],value:"onDisconnect"},view:{type:"Array<Node>"},viewModel:{type:"object"}}}},events:{ojTransitionEnd:{},ojTransitionStart:{},ojViewConnected:{},ojViewDisconnected:{}},extension:{}},viewModel:function(n){var i=n.element,c=n.properties,s=this;function a(){s.busyCallback||(s.busyCallback=o.getContext(i).getBusyContext().addBusyState({description:"oj-module is waiting on config Promise resolution"}));var e=Promise.resolve(c.config);s.configPromise=e,e.then(function(o){e===s.configPromise&&(s.config(o),s.busyCallback(),s.busyCallback=null)},function(o){if(e===s.configPromise)throw s.busyCallback(),s.busyCallback=null,o})}function l(o,n){var i=o&&o[n];"function"==typeof i&&e.ignoreDependencies(i,o)}function r(e,o,n){var t={};o&&(t.viewModel=o),n&&(t.view=n);var c=new CustomEvent(e,{detail:t});i.dispatchEvent(c)}this.animation=n.properties.animation,this.config=e.observable({view:[]}),this.configPromise=null,this.propertyChanged=function(e){"animation"===e.property?s.animation=e.value:"config"===e.property&&a()},a(),this.connected=function(){var e,o,n,c=this.config();o=(e=c)?e.view:null,(n=o&&o.length>0?o[0][t.OJ_BIND_CONVERTED_NODE]||o[0]:null)&&i.contains(n)&&(l(c.viewModel,"connected"),r("ojViewConnected",c.viewModel))}.bind(this),this.disconnected=function(){var e=this.config();l(e.viewModel,"disconnected"),r("ojViewDisconnected",e.viewModel,e.view)}.bind(this)}})});
//# sourceMappingURL=ojmodule-element.js.map