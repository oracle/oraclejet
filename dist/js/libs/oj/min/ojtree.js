/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojdnd"],function(a,f){function b(){}b.pi="oj-expanded";b.vf="oj-collapsed";b.Ip="oj-hover";b.hj="oj-selected";b.hd="oj-disabled";b.Jra="oj-default";b.As="oj-treenode-temp";a.fa=function(a){this.Init(a)};a.b.ga(a.fa,a.b,"oj.TreeDndContext");a.fa.prototype.Init=function(b){a.fa.r.Init.call(this);this.O=b;this.options=b.options;this.K_()};a.b.g("TreeDndContext.prototype.Init",{Init:a.fa.prototype.Init});a.fa.prototype.i4=function(){var a=this.qc;return a.reorder||
a.wg};a.fa.prototype.Fpa=function(){var a=this.qc;return a.reorder||a.Ij};a.fa.prototype.dpa=function(){var b=this.qc,c=a.fa,e=b.reorder,f=b.wg;this.kV();this.d4();b=this.qc;if(e!=b.reorder||f!=b.wg)b.reorder||b.wg||this.O.aa.find("li").removeClass(c.oG).removeClass(c.cA).removeClass(c.yn).removeAttr("draggable");this.c4()};a.fa.prototype.d4=function(){var b=this.options.dnd,c=this.qc,e=a.fa,g=!0,h;c.reorder=!1;"object"!=typeof b?this.options.dnd={reorder:"disable"}:(h=b[e.Y7],"string"===typeof h&&
("enable"===h?(c.reorder=!0,g=!1):"disable"==h&&(g=!1)),g&&(this.options.dnd.reorder="disable"),h=b[e.P7],"object"==typeof h&&(h=h[e.hR],"object"==typeof h&&(g=h[e.S7],"function"==typeof g&&(c.Cy=g,c.wg=!0),g=h[e.Q7],"function"==typeof g&&(c.aE=g,c.wg=!0),g=h[e.R7],"function"==typeof g&&(c.sN=g,c.wg=!0),g=h[e.gR],f.isArray(g)?(c.kr=g.slice(),c.wg=!0):"string"==typeof g&&(c.kr=[g],c.wg=!0))),h=b[e.T7],"object"==typeof h&&(h=h[e.hR],"object"==typeof h&&(g=h[e.U7],"function"==typeof g&&(c.cE=g,c.Ij=
!0),g=h[e.W7],"function"==typeof g&&(c.eE=g,c.Ij=!0),g=h[e.V7],"function"==typeof g&&(c.dE=g,c.Ij=!0),g=h[e.X7],"function"==typeof g&&(c.fE=g,c.Ij=!0),g=h[e.gR],f.isArray(g)?(c.bE=g.slice(),c.Ij=!0):"string"==typeof g&&(c.bE=[g],c.Ij=!0))),c.reorder||(c.kr||c.Cy||(c.wg=!1,c.Cy=c.aE=c.sN=c.kr=null),c.fE||(c.Ij=!1,c.cE=c.eE=c.dE=c.fE=c.bE=null)),c.LE=c.reorder&&!c.wg)};a.fa.prototype.c4=function(){var b=this.qc,c=b.Ed,e=a.fa;if(b.wg||b.Ij||b.reorder){a.fa.rV?(c.dl=a.fa.rV,c.Ri=a.fa.Oca):(c.dl=f("\x3cdiv class\x3d'oj-tree-drop-marker'\x3e\x3cspan class\x3d'oj-tree-drop-ptr oj-component-icon'\x3e\x26#160;\x3c/span\x3e\x3c/div\x3e").css("pointer-events",
"none").hide().appendTo("body"),c.Ri=f("\x3cdiv /\x3e").addClass(e.f9).css("pointer-events","none").hide().appendTo("body"),a.fa.rV=c.dl,a.fa.Oca=c.Ri);b.J4=c.Ri.width();var c=this.O.element[0],g=f(c).children("ul:eq(0)");if(b.reorder||b.wg)b.CN=this.wI.bind(this),b.yN=this.Lca.bind(this),f(c).on("dragstart",b.CN),f(c).on("dragend",b.yN),g.length&&g.find("li").addClass(e.oG).addClass(e.cA).addClass(e.yn).attr("draggable","true");if(b.reorder||b.Ij)b.wN=this.Jca.bind(this),b.zN=this.Mca.bind(this),
b.BN=this.Qca.bind(this),b.AN=this.Nca.bind(this),b.xN=this.Kca.bind(this),f(c).on("drag",b.wN),f(c).on("dragenter",b.zN),f(c).on("dragover",b.BN),f(c).on("dragleave",b.AN),f(c).on("drop",b.xN)}};a.fa.prototype.hba=function(){this.kV()};a.fa.prototype.wI=function(d){var c,e,g=f(d.target).closest("li"),h=d.originalEvent.dataTransfer,k;c=this.qc;e=c.Ed;e.vb=null;e.wa=null;c.zr=null;c.MO=null;c.hz=null;c.Dy=!1;if(!c.reorder&&!c.wg||g.hasClass(b.hd)||this.O.i.Z.locked)d.preventDefault();else{e=this.O.isSelected(g)?
this.O.sa(null,!0):e=g;(c.wg||c.LE)&&this.ela(h,e);if(c.Cy){k=c.Cy(d,{item:void 0});if(d.isDefaultPrevented()||"boolean"===typeof k&&!k)return k;if(!c.kr&&!this.Raa(h)&&!c.reorder)return d.preventDefault(),!1}"uninitialized"===h.effectAllowed&&(h.effectAllowed=c.LE?"move":a.v.Fm(d)?"copy":"move");this.Eca(e,g,d)}};a.fa.prototype.Jca=function(a){var b=this.qc;b.aE&&b.aE(a)};a.fa.prototype.Mca=function(d){this.O.aa[0].firstChild||this.H$();var c=f(d.target),e=this.O.sa(c),g=this.qc,h=g.Ed,k=e&&0<e.length&&
e.hasClass("oj-tree-node"),l=d.originalEvent.dataTransfer,m=a.fa,n=!1,p=!1,r;k&&e.hasClass(b.As)&&(g.Rk=!0);if(!k||"UL"!=d.target.tagName||"group"!=d.target.getAttribute("role"))if(g.Pf=!g.Dy,!g.Pf&&!g.reorder||g.Pf&&this.wK(l,m.eG))this.hq();else{if(g.Pf&&(n=this.wK(l,m.dG),!g.Ij)){this.hq();return}h.wa=!1;g.zr&&this.lw(g.zr);c.hasClass("oj-tree")&&(e=g.zr);if(!e||!e.length||e.attr("id")!=g.hz){n&&k&&(g.zr=null,h.vb=2);g.Pf&&!n&&(h.vb=1);h.wa=e;g.zr=e;this.lV(d,e);if(this.zca()){h.wa.removeClass(m.pG).addClass(m.yn).addClass(m.YR);
g.cE&&(r=g.cE(d,{item:g.Rk?null:e,position:g.Rk?"first":g.Jg,reference:g.Rk?null:h.wa}));if(void 0===r)this.tY(l)?(d.preventDefault(),d.stopPropagation()):p=g.Pf||!g.reorder;else if(!1===r||d.isDefaultPrevented())d.preventDefault(),d.stopPropagation();else if(g.Pf||!g.reorder)p=g.Pf||!g.reorder;p&&this.hq();return r}this.lw(h.wa);h.wa=null}this.$s()}};a.fa.prototype.Qca=function(a){var b=this.qc,e=b.Ed,f=a.originalEvent.dataTransfer,h=!1,k,l,m;if(e.wa&&e.wa.length&&(l=e.wa,l.hasClass("oj-tree-node")&&
(k=l.attr("id"),k!=b.hz&&(this.lV(a,l),this.rI())))){b.eE&&(m=b.eE(a,{item:b.Rk?null:l,reference:b.Rk?null:e.wa,position:b.Rk?"first":e.qO}));if(void 0===m)this.tY(f)?(a.preventDefault(),a.stopPropagation()):h=b.Pf||!b.reorder;else if(!1===m||a.isDefaultPrevented())a.preventDefault(),a.stopPropagation();else if(b.Pf||!b.reorder)h=b.Pf||!b.reorder;h&&this.hq();return m}this.$s()};a.fa.prototype.Kca=function(a){var b=this.qc,e=b.Ed,f=!1,h;if(e.wa){if(b.fE)h=b.fE(a,{reference:b.Rk?null:e.wa,position:b.Rk?
"first":e.qO,reorder:!b.Pf&&b.reorder});else if(b.Pf||!b.reorder)f=!0;f||h&&!a.isDefaultPrevented()||this.Aca(a)}b.Pf&&this.hq();f||(a.preventDefault(),a.stopPropagation());b.MO=null;return h};a.fa.prototype.Lca=function(a){var b=this.qc,e=b.Ed;b.sN&&b.sN(a,{reorder:b.reorder&&!1===e.vb});this.Fca();this.hq()};a.fa.prototype.H$=function(){this.oY||(this.oY=f("\x3cli class\x3d'"+b.As+" oj-tree-node oj-tree-leaf oj-valid-drop' id\x3d'"+b.As+"'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3ca href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x3c/ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"));
this.O.aa.append(this.oY)};a.fa.prototype.Nca=function(a){var b=this.qc,e=b.Ed,g=f(a.target),h=g.closest("li"),k=h&&0<h.length&&h.hasClass("oj-tree-node");h.attr("id");var l=a.originalEvent.dataTransfer;b.dE&&b.dE(a,{item:b.Rk?null:h});g.hasClass("oj-tree")||!k||"none"==l.dropEffect?this.Bca(a):b.MO=h;e.wa&&this.lw(e.wa)};a.fa.prototype.zca=function(){var a=this.qc,c=a.Ed,e;a.JE=!1;e=this.rI();var f=a.bqa;f&&(a.Vsa&&clearTimeout(a.Nm),c.wa&&c.wa.length&&c.wa.hasClass(b.vf)&&(a.Nm=setTimeout(this.Cca.bind(this),
f)));a=typeof e;return"boolean"==a&&e||"string"==a};a.fa.prototype.Cca=function(){var a=this.qc,b=a.Ed;a.Nm=!1;this.O.ee(b.wa,this.rI.bind(this),!0)};a.fa.prototype.Aca=function(b){var c=this.qc,e=c.Ed;c.Dy&&c.reorder&&"object"==typeof e.vb&&0<e.vb.length&&(this.O.vx(e.vb,e.wa,e.qO,a.v.Fm(b)),e.vb=!1)};a.fa.prototype.jB=function(a){a.hasClass(b.hj)&&(a.removeClass(b.hj),this.O.Dj(a,!0));var c=(a=this.O.getChildren(a))&&a.length?a.length:0,e;for(e=0;e<c;e++)this.jB(f(a[e]))};a.fa.prototype.lV=function(a,
c){var e=this.qc;c&&(c.hasClass(b.As)?e.Jg="after":(a=a.originalEvent,e.off=c.offset(),e.Jg=a.pageY-(e.off.top||0),e.Jg=e.Jg>=this.O.i.Z.Uo?"after":0>e.Jg?"before":"inside","after"===e.Jg&&c.hasClass(b.pi)&&(e.Jg="first")))};a.fa.prototype.Bca=function(a){var b=this.qc,e=b.Ed;b.after=!1;b.before=!1;b.Lu=!1;b.Msa=null;this.$s();e.wa&&e.wa[0]===a.target.parentNode&&b.Nm&&(clearTimeout(b.Nm),b.Nm=!1)};a.fa.prototype.hq=function(){this.$s();var a=this.qc,b=a.Ed;b.vb=!1;b.wa=!1;a.Nm&&clearTimeout(a.Nm);
a.hz=null;a.Pf=!1;a.zr=null;a.MO=null;a.after=!1;a.before=!1;a.Lu=!1;a.off=!1;a.JE=!1;a.Nm=!1;a.Pf=!1;a.Rk=!1};a.fa.prototype.kV=function(){var a=this.qc,b;b=f(this.O.ua[0]);b.off("dragstart",a.CN);b.off("dragend",a.yN);b.off("drag",a.wN);b.off("dragenter",a.zN);b.off("dragover",a.BN);b.off("dragleave",a.AN);b.off("drop",a.xN);this.hq();this.K_()};a.fa.prototype.rI=function(){var a=this.qc,b=a.Ed,e=this.O,f=!1;if(!b.wa||!b.wa.length)return!1;if("number"==typeof b.vb&&(1===b.vb||2===b.vb))f=!0;else if(!b.vb)return!1;
a.off=b.wa.offset();this.O.xC&&(a.off.right=a.off.left+b.wa.width()-b.wa.find("\x3ea").width()-30);a.U5=b.wa.find("a").width();f?(a.before="before"==a.Jg,a.after="after"==a.Jg,a.Lu="inside"==a.Jg):(e.Ex(b.vb,b.wa,"before"),a.before=e.SA(),e.Ex(b.vb,b.wa,"after"),a.after=e.SA(),this.O.bm(b.wa)?(e.Ex(b.vb,b.wa,"inside"),a.Lu=e.SA()):a.Lu=!1);a.JE=!0;return this.Dca()};a.fa.prototype.Dca=function(){var b=this.qc,c=!1,e=a.fa,f=b.Ed,h=this.O.xC,k,l,m,n=this.O.i.Z.Uo,p=!1;if(!b.JE)return this.$s(),p;if("after"==
b.Jg&&b.after||"inside"==b.Jg&&b.Lu||"before"==b.Jg&&b.before||"first"==b.Jg)p=b.Jg;"first"===p&&(c=f.wa.find("li:eq(0)"),b.off=c.offset());l=h?b.off.right-18:b.off.left+5;c=!this.O.isLeaf(f.wa);k=h?l+b.U5+18:l;l=h?k-b.J4:l+8;m=b.off.top-3;switch(p){case "before":case "first":this.ux(f.dl,{left:k,top:m-7});f.Ri&&this.ux(f.Ri,{left:l,top:m});break;case "after":m+=n;this.ux(f.dl,{left:k,top:m-2});f.Ri&&this.ux(f.Ri,{left:l,top:m+6});break;case "inside":this.ux(f.dl,{left:k+(h?c?-4:0:4),top:b.off.top+
n/2-8});f.Ri&&f.Ri.hide();break;default:this.$s()}p?f.wa.removeClass(e.pG).addClass(e.yn):f.wa.removeClass(e.yn).removeClass(e.yn);return f.qO=p};a.fa.prototype.$s=function(){var a=this.qc.Ed;a&&(a.dl&&a.dl.hide(),a.Ri&&a.Ri.hide(),a.wa&&this.lw(a.wa))};a.fa.prototype.ux=function(a,b){b.left+="px";b.top+="px";a.css(b).show()};a.fa.prototype.Eca=function(b,c,e){var f=this.qc,h=f.Ed,k=a.fa;h.vb=b;h.vb.addClass(k.cA);f.hz=c.attr("id");try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=
function(){return!1},e.currentTarget.style&&(e.currentTarget.style.MozUserSelect="none")}catch(l){}this.O.Lha()&&h.dl&&h.dl.addClass("oj-tree-"+this.O.i.Eb.$u);b=this.O.ua;f.Jna=b.offset();f.eoa=parseInt(b.width(),10);f.ch=parseInt(b.height(),10);f.Dy=!0};a.fa.prototype.Fca=function(){var b=this.qc,c=b.Ed,e=a.fa;c.wa&&this.lw(c.wa);"number"!=typeof c.vb&&c.vb&&c.vb.removeClass(e.cA);b.Dy=!1};a.fa.prototype.ela=function(b,c){var e=this.qc,f=a.fa,h,k;(h=this.O.WS(c))&&(k=JSON.stringify(h));if(e.kr)for(h=
0;h<e.kr.length;h++)b.setData(e.kr[h],k);b.setData(f.dG,"0");e.LE&&b.setData(f.eG,"0")};a.fa.prototype.wK=function(a,b){var e=a.types,f=e.length,h;for(h=0;h<f;h++)if(b==e[h])return!0;return!1};a.fa.prototype.tY=function(a){var b=this.qc.bE,e=!1,f;if(b)for(e=!(0<b.length),f=0;f<b.length;f++){if(this.wK(a,b[f])){e=!0;break}}else e=!0;return e};a.fa.prototype.Raa=function(b){var c=(b=b.types)&&b.length?b.length:0,e=a.fa,f=!1,h,k;for(k=0;k<c;k++)if(h=b[k],h!=e.dG&&h!=e.eG){f=!0;break}return f};a.fa.prototype.lw=
function(b){var c=a.fa;b&&b.removeClass(c.yn).removeClass(c.pG).removeClass(c.YR)};a.fa.prototype.K_=function(){var a={};this.qc=a;a.reorder=!1;a.LE=!1;a.Pf=!1;a.Dy=!1;a.hz=null;a.zr=null;a.CN=null;a.yN=null;a.wN=null;a.zN=null;a.BN=null;a.AN=null;a.xN=null;a.wg=!1;a.Ij=!1;a.Cy=null;a.aE=null;a.Bsa=null;a.cE=null;a.eE=null;a.dE=null;a.Csa=null;a.bE=null;a.after=!1;a.Lu=!1;a.before=!1;a.off=!1;a.JE=!1;a.Nm=!1;a.Jna=!1;a.eoa=!1;a.ch=!1;a.J4=100;a.U5=100;a.bqa=500;a.Ed={};a.Ed.vb=!1;a.Ed.wa=!1;a.Ed.dl=
!1;a.Ed.Ri=!1};a.fa.prototype.w1=function(a){this.O.w1(a)};a.fa.oG="oj-draggable";a.fa.cA="oj-drag";a.fa.YR="oj-active-drop";a.fa.yn="oj-valid-drop";a.fa.pG="oj-invalid-drop";a.fa.Kra="oj-drop";a.fa.Ira="oj-tree-drop-marker";a.fa.f9="oj-tree-drop-marker-line";a.fa.Y7="reorder";a.fa.P7="drag";a.fa.T7="drop";a.fa.hR="node";a.fa.gR="dataTypes";a.fa.S7="dragStart";a.fa.Q7="drag";a.fa.R7="dragEnd";a.fa.U7="dragEnter";a.fa.W7="dragOver";a.fa.V7="dragLeave";a.fa.X7="drop";a.fa.dG="_ojtree";a.fa.eG="_ojtreereorder";
(function(){function d(a){r.push(a);f(a.d0).keydown(c)}function c(b){var c="";a.v.Fm(b)?c+="ctrl+":b.shiftKey&&(c+="shift+");var d=b.which;switch(d){case 32:c+="space";break;case 37:c+="left";break;case 38:c+="up";break;case 39:c+="right";break;case 40:c+="down";break;case 46:c+="del";break;case 33:c+="pgup";break;case 34:c+="pgdn";break;case 35:c+="end";break;case 36:c+="home";break;case 56:c="*";break;case 113:case 121:c+="f"+(1-(112-d))}if(0===c.length||"shift+"==c||"ctrl+"==c)return!0;var e=null;
f.each(r,function(a,d){if(d.fy.i.ui.Lj)return d.fy.i.ui.Lr=!1,"shift+f10"==c?d.fy.i.menu.OD=d.fy.i.ui.Hb:d.NX[c]&&(b.preventDefault(),e=d.NX[c].call(d.fy,b)),!1});if(null!=e)return e}function e(a){f.each(r,function(b){if(r[b].d0===a)return f(a).off("keydown"),r[b]=null,r.splice(b,1),!1})}function g(a){var b=!0,c;for(c in a)if(a.hasOwnProperty(c)){b=!1;break}return b}function h(a){var b=!1,c=!0;a.VE&&(a.title&&(b=f("style[id\x3d'"+a.title+"-stylesheet']")[0]),b?c=!1:(b=document.createElement("style"),
b.setAttribute("type","text/css"),a.title&&b.setAttribute("id",a.title+"-stylesheet")),b.styleSheet?c?(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet.cssText=a.VE):b.styleSheet.cssText=b.styleSheet.cssText+" "+a.VE:(b.appendChild(document.createTextNode(a.VE)),document.getElementsByTagName("head")[0].appendChild(b)))}var k={cut:"ojtreecut",copy:"ojtreecopy",paste:"ojtreepaste",remove:"ojtreeremove",rename:"ojtreerename"},l={cut:"labelCut",copy:"labelCopy",paste:"labelPaste",
remove:"labelRemove",rename:"labelRename"},m,n,p;f(function(){/msie/.test(navigator.userAgent.toLowerCase())?(n=f('\x3ctextarea cols\x3d"10" rows\x3d"2"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),p=f('\x3ctextarea cols\x3d"10" rows\x3d"2" style\x3d"overflow: hidden;"\x3e\x3c/textarea\x3e').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),m=n.width()-p.width(),n.add(p).remove()):(n=f("\x3cdiv /\x3e").css({width:100,height:100,overflow:"auto",position:"absolute",
top:-1E3,left:0}).prependTo("body").append("\x3cdiv /\x3e").find("div").css({width:"100%",height:200}),m=100-n.width(),n.parent().remove())});var r=[],s=-1;a.ya("oj.ojTree",f.oj.baseComponent,{widgetEventPrefix:"oj",defaultElement:"\x3cdiv\x3e",options:{dnd:{reorder:"disable"},expandParents:!1,initExpanded:null,xpa:[],selection:[],selectionMode:"single",selectedParentCollapse:!1,selectedParentExpand:!0,selectPrevOnDelete:!1,data:null,emptyText:null,icons:!0,types:null,before:null,collapse:null,create:null,
collapseAll:null,cut:null,dehover:null,remove:null,destroy:null,expand:null,expandAll:null,hover:null,loaded:null,move:null,optionChange:null,paste:null,refresh:null,rename:null},collapse:function(a,c){var d=(c=c||!1)?0:this.cH;a=this.sa(a);if(!a.length||-1===a||!a.hasClass(b.pi)||this.i.Z.locked||a.hasClass(b.hd))return!1;var e=this.xb({obj:a,func:"collapse"},"before");if("boolean"!=typeof e||e)a.removeClass(b.pi).addClass(b.vf).attr("aria-expanded","false"),f(a.children()[0]).removeClass(b.hj).addClass("oj-default"),
!c&&d?this.Vq(a,!0):this.tM(f(a.children("UL")[0]),a)},Vq:function(a,b){var c,d,e;c=f(a.children("ul"));this.KY?c[0].addEventListener("webkitTransitionEnd",this.QC):c[0].addEventListener("transitionend",this.QC);b?(d=c[0].offsetHeight,e=0):(d=0,e=this.Yda(c[0]));c.css("max-height",d+"px");c.css("overflow","hidden");b||(c[0].style.display="block");setTimeout(function(){c.addClass("oj-tree-transition");c.css("max-height",e+"px")},20)},Yda:function(a){var b,c,d,e,g=f("\x3cdiv style\x3d'position: absolute'\x3e");
b=a.parentNode;c=a.nextSibling;b.removeChild(a);e=a.style.display;a.style.display="block";g.append(a);this.ua[0].appendChild(g[0]);d=a.offsetHeight||a.scrollHeight;a.style.display=e;this.ua[0].removeChild(g[0]);g[0].removeChild(a);c?b.insertBefore(a,c):b.appendChild(a);return d+10},ou:function(a){a=f(a.target);var b=a.closest("li");this.KY?a[0].removeEventListener("webkitTransitionEnd",this.QC):a[0].removeEventListener("transitionend",this.QC);a.removeClass("oj-tree-transition");this.tM(a,b)},tM:function(a,
c){c.hasClass(b.vf)?(a[0].style.display="none",a.css("max-height",""),this.xb({obj:c},"collapse"),this.after_close(c)):(a[0].style.display="block",a.css("max-height",""),this.xb({obj:c},"expand"))},collapseAll:function(a,c){var d=a?a:-1,e=this;if(!this.i.Z.locked&&((a=a?this.sa(a):this.ua)&&-1!==d&&(d=a),a&&-1!==d||(a=this.aa),!a.hasClass(b.hd))){var f;-1!==d&&this.isExpanded(a)&&(f=a[0]);var g=a.find("li.oj-expanded");g.length&&g.each(function(){e.collapse(this,!c)});f&&(this.collapse(f,!c),g.splice(0,
0,f));g.length&&this.xb({obj:g,targ:d},"collapseAll")}},expand:function(a,b){this.ee(a,!1,b)},expanded:function(a,b){var c,d,e=this;if(a&&"array"===f.type(a)){if(this.i.Z.locked)return null;d=a.length;f.each(a,function(a,c){e.ee(c,!1,b)});return null}a=this.aa.find("li.oj-expanded");d=a.length;c=[];for(var g=0;g<d;g++)c.push(a[g]);return f(c)},expandAll:function(a,b){this.AI(a,b)},toggleExpand:function(a,c){if((a=this.sa(a))&&a.length&&-1!==a&&!a.hasClass(b.hd)&&!this.i.Z.locked){if(a.hasClass(b.vf))return this.expand(a,
c);if(a.hasClass(b.pi))return this.collapse(a,c)}},deselect:function(a){var b=this.options.selection.slice(0);this.Zs(a);this.Fw("selection",b,null,null)},deselectAll:function(a){if(!this.i.Z.locked){var b=this.options.selection.slice(0);this.fB(a);this.Fw("selection",b,null,null)}},select:function(a){this.Dj(a,!0)},toggleSelect:function(a){a=this.sa(a);if(!a.length||a.hasClass(b.hd)||this.i.Z.locked)return!1;this.isSelected(a)?this.deselect(a):this.Dj(a,!0);return!0},isCollapsed:function(a){return(a=
this.sa(a))&&-1!==a&&a.hasClass(b.vf)},isExpanded:function(a){return(a=this.sa(a))&&-1!==a&&a.hasClass(b.pi)},isLeaf:function(a){return this.xK(a)},isSelected:function(a){a=this.sa(a);var b=!1;a&&a.length&&this.i.ui.selected&&(b=0<=this.i.ui.selected.index(a));return b},create:function(a,b,c){var d,e,g;e=f.isArray(c);if(!e||1==c.length)return d=this.uw(a,b,e?c[0]:c),this.Vn().jB(d),d;e=[];if("before"!=b)for(g=c.length-1;0<=g;g--)d=this.uw(a,b,c[g]),e.unshift(d[0]),this.Vn().jB(d);else for(g=0;g<c.length;g++)d=
this.uw(a,b,c[g]),e.push(d[0]),this.Vn().jB(d);return f(e)},remove:function(a){a=this.sa(a);if(!a.length||a.hasClass(b.hd)||this.i.Z.locked)return!1;var c=this.xb({obj:a,func:"remove"},"before");if("boolean"==typeof c&&!c)return!1;this.Tp();var c=this.tj(a),d=f([]),e=this,g=this.Wl(a);a.each(function(){d=d.add(e.Wl(this))});a=a.detach();-1!==c&&0===c.find("\x3e ul \x3e li").length&&c.removeClass("oj-expanded oj-collapsed").addClass("oj-tree-leaf").removeAttr("aria-expanded");this.Zg(c);this.xb({obj:a,
prev:g,parent:c},"remove");return a},getText:function(a){a=this.sa(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");return a[0].textContent},rename:function(a,b){this.E_(a,b)},hover:function(a){if(!this.i.menu.OD&&(a=this.sa(a),a.length&&!a.hasClass(b.hd)&&!this.i.Z.locked&&!a.hasClass(b.Ip))){var c=this.xb({obj:a,func:"hover"},"before");if("boolean"!=typeof c||c)a.hasClass(b.Ip)||this.dehover(),this.i.ui.Hb=a.children("a").addClass(b.Ip).parent(),this.aa.attr("aria-activedescendant",
this.i.ui.Hb.attr("id")),this.OV(a),this.xb({obj:a},"hover")}},dehover:function(){if(!this.i.menu.OD){var a=this.i.ui.Hb,c;if(a&&a.length&&!a.hasClass(b.hd)&&!this.i.Z.locked){c=a.find("a.oj-hover");if(!c.length&&(c=this.aa.find("a.oj-hover"),!c.length))return;c.removeClass(b.Ip).parent();this.aa.removeAttr("aria-activedescendant");this.i.ui.Hb=null;void 0!=a.attr("id")&&this.xb({obj:a},"dehover")}}},getPath:function(a,b){var c=[],d=this;a=this.sa(a);if(-1===a||!a||!a.length)return!1;a.parentsUntil(".oj-tree",
"li").each(function(){c.push(b?this.id:d.getText(this))});c.reverse();c.push(b?a.attr("id"):this.getText(a));return c},getRoot:function(){return this.ua.children("ul:eq(0)")},refresh:function(a){this._super();this.i.Z.locked||this.Qd(a?a:-1)},move:function(a,b,c,d){this.vx(a,b,c,d)},getType:function(a){return this.IJ(a)},setType:function(a,b){return this.Mla(a,b)},getNodeBySubId:function(a){return a?this.wja(a):this.element?this.element[0]:null},getSubIdByNode:function(a){return this.Yea(a)},getContextByNode:function(a){var b,
c;a=this.sa(null==a||void 0==a?0:a);b=-1!=a&&0<a.length;c=-1==a;return b||c?{subId:b?"oj-tree-node":"oj-tree",node:b?a:!1,leaf:b?this.xK(a):!1}:null},getParent:function(a){return(a=this.tj(a))&&0<a.length?a:null},getPrevSibling:function(a){return(a=this.Wl(a,!0))&&0<a.length?a:null},getNextSibling:function(a){return(a=this.qq(a,!0))&&0<a.length?a:null},getChildren:function(a){return(a=(a=this.Jda(a?a:-1))&&a.length?a.not("."+b.As):a)&&0<a.length?a:null},scrollIntoView:function(a,b,c){a?(a=a.node,
a=this.sa(a)):a=-1;-1==a&&(a=this.ua.find("\x3e ul \x3e li:first-child"));if(a&&a.length)return b="top"==b,c&&(this.aa.focus(),this.hover(a)),a[0].scrollIntoView(b),this},_ComponentCreate:function(){this._super();this.Nga=this.Iia();this.bt=this.element.attr("id");void 0===this.bt&&(this.bt="oj-tree-"+this.bh(),this.element.attr("id",this.bt));this.bt="#"+this.bt;this.ua=this.element;this.aa=null;this.i={};this.m1=null;this.xC="rtl"===this.dc();this.Mt=a.v.Ud();this.bha();if(this.cH=this.Bda())this.KY=
a.Na.Fy().browser===a.Na.sl.uQ,this.QC=f.proxy(this.ou,this);this.Mh()},_destroy:function(){this.dba();this.i.html.Ru&&(this.ua.append(this.i.html.Ru),this.i.html.CE.remove(),this.i.html.CE=!1,this.i.html.WE=!1);this.i.Pa.type=0;this._super()},_setOption:function(a,b,c){var d;if("selection"===a)b="string"==typeof b?[b]:b&&b.length?b:[],this.i.Z.Kr=!0,this.uga(b),this.i.Z.Kr=!1,b=this.wJ();else if("selectionMode"===a)"none"===b?d=0:"single"===b?d=1:"multiple"===b?d=-1:(d=0,b="none"),d!=this.i.Z.Sm&&
(this.i.Z.Sm=d);else if("icons"===a)"boolean"==f.type(b)&&b!=this.i.Eb.icons&&((this.i.Eb.icons=b)?this.aM():this.hK());else if("contextMenu"===a)this.Zp(),b&&this.co(b);else if("disabled"===a)this.Dfa(b);else{if("data"===a){this._super(a,b,c);this.cY();this.dY();this.eY();this.aZ();return}if("dnd"===a){this._super(a,b,c);this.Vn().dpa();return}"emptyText"==a&&(b=this.oB(b))}this._super(a,b,c)},Fv:function(a,b,c){return"selection"===a?this.nU(b,c):this._superApply(arguments)},nU:function(a,b){var c,
d,e,g,h,k=!1,l=!1;g=a&&a.length?a.length:0;h=b&&b.length?b.length:0;if(g!==h)k=!0;else if(0==g&&0===h)k=!1;else for(c=0;c<g;c++){e=f(a[c]).attr("id");l=!1;for(d=0;d<h;d++)if(e==f(b[d]).attr("id")){l=!0;break}if(!l){k=!0;break}}return!k},dba:function(){this.Tv&&(this.Tv.hba(),this.Tv=null);var a=this.bh();this.ua.unbind(".oj-tree").undelegate(".oj-tree").removeData("oj-tree-instance-id").find("[class^\x3d'oj-tree']").addBack().attr("class",function(){return this.className.replace(/oj-tree[^ ]*|$/ig,
"")});var b=this.ua.attr("class"),b=b.trim();0===b.length&&this.ua.removeAttr("class");e(this.aa);f(document).unbind(".oj-tree-"+a).undelegate(".oj-tree-"+a);this.aa.remove();this.aa=null},sa:function(a,b){if("undefined"===typeof a||null===a)return b?this.i.ui.selected:this.i.ui.Ob;var c=f(a,this.ua);if(c.is(".oj-tree")||-1===a)return-1;c=c.closest("li",this.ua);return c.length?c:!1},Wl:function(a,c){a=this.sa(a);if(-1===a)return this.ua.find("\x3e ul \x3e li:last-child");if(!a.length)return!1;if(c)return 0<
a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass(b.pi);)a=a.children("ul:eq(0)").children("li:last");return a}var d=a.parentsUntil(".oj-tree","li:eq(0)");return d.length?d:!1},qq:function(a,c){a=this.sa(a);return-1===a?this.ua.find("\x3e ul \x3e li:first-child"):a.length?c?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass(b.pi)?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".oj-tree","li").next("li").eq(0):
!1},tj:function(a){a=this.sa(a);if(-1==a||!a.length)return!1;a=a.parentsUntil(".oj-tree","li:eq(0)");return a.length?a:-1},Jda:function(a){a=this.sa(a);return-1===a?this.ua.children("ul:eq(0)").children("li"):a.length?a.children("ul:eq(0)").children("li"):!1},xK:function(a){return(a=this.sa(a))&&-1!==a&&a.hasClass("oj-tree-leaf")},Bea:function(a){a=this.aa.find(a);var b=!1;a&&a.length&&0<a.length&&f(a).is("li")&&(b=a);return b},Jja:function(b,c){var d=b.parents("div").eq(0);(d=a.Components.Tf(d))&&
c&&d("getCI",c);return this},getCI:function(a){a.kl=this},baa:function(a,b){void 0!=a&&void 0!=b&&f.each(b,function(b,c){void 0==a[b]&&(a[b]=c)})},Dfa:function(a){var c;"undefined"!==typeof a&&((c=this.aa.hasClass(b.hd))||(c=!1),c!=a&&(a?(this.aa.addClass(b.hd),this.aa.prop("disabled",!0)):(this.aa.removeClass(b.hd),this.aa.prop("disabled",!1)),this.Fma(a)))},Fma:function(a){a?(this.i.Z.locked=!0,this.i.ui.opacity=this.ua.children("ul").css("opacity"),this.aa.addClass(b.hd).css("opacity","0.9")):
(this.i.Z.locked=!1,this.aa.removeClass(b.hd).css("opacity",this.i.ui.opacity))},osa:function(){return this.i.Z.locked},uga:function(a){var b=a.slice(0),c=[],d=this,e,g,h,k;f.grep(b,function(a,f){if(e=d.Bea(a))c.push(e),b[f]=e[0];else return!1;return!0});a=this.wJ();f.each(a,function(a,b){k=c.length;g=f(b).attr("id");h=!1;for(a=0;a<k;a++)if(g==c[a].attr("id")){h=!0;break}h||d.Zs(b)});this.Gla(c,null)},Ex:function(a,b,c,d,e){var f={};b=-1!==b&&b?this.sa(b):-1;this.Jja(a,f);f.gp=this;f.vb=f.kl.sa(a);
f.wa=b;f.Om="undefined"===typeof c||!1===c?"last":c;if(!e&&this.i.Z.Kg.vb&&this.i.Z.Kg.vb[0]===f.vb[0]&&this.i.Z.Kg.wa[0]===f.wa[0]&&this.i.Z.Kg.Om===f.Om)d&&d.call(this,this.i.Z.Kg);else{if(-1!==f.wa&&f.wa){if(!/^(before|after)$/.test(f.Om)&&!this.bm(f.wa))return this.cm(f.wa,function(){this.Ex(a,b,c,d,!0)});switch(f.Om){case "before":f.Gj=f.wa.index();f.ir=f.gp.tj(f.wa);break;case "after":f.Gj=f.wa.index()+1;f.ir=f.gp.tj(f.wa);break;case "inside":case "first":f.Gj=0;f.ir=f.wa;break;case "last":f.Gj=
f.wa.find(" \x3e ul \x3e li").length;f.ir=f.wa;break;default:f.Gj=f.Om,f.ir=f.wa}}else switch(f.ir=-1,f.Om){case "first":case "before":case "inside":f.Gj=0;break;case "after":case "last":f.Gj=f.gp.ua.find(" \x3e ul \x3e li").length;break;default:f.Gj=f.Om}f.Km=-1==f.ir?f.gp.ua:f.ir;f.Mm=f.kl.tj(f.vb);f.ysa=f.vb.index();-1===f.Mm&&(f.Mm=f.kl?f.kl.ua:this.ua);!/^(before|after)$/.test(f.Om)&&f.Mm&&f.Km&&f.Mm[0]===f.Km[0]&&f.vb.index()<f.Gj&&f.Gj++;f.PO=f.Km.find(" \x3e ul \x3e li:nth-child("+(f.Gj+1)+
")");this.i.Z.Kg=f;d&&d.call(this,this.i.Z.Kg,"prepare_move")}},SA:function(){var a=this.i.Z.Kg,b=!0,c;c=-1===a.wa?this.ua:a.wa;if(!a||!a.vb||a.PO[0]===a.vb[0]||!a.wa)return!1;if(!a.ZD){if(a.Mm&&a.Km&&a.Mm[0]===a.Km[0]&&a.Gj-1===a.vb.index())return!1;a.vb.each(function(){if(-1!==c.parentsUntil(".oj-tree","li").addBack().index(this))return b=!1})}return b},E_:function(a,b){var c;a=this.sa(a);this.Tp();c=this.getText(a);if(a&&a.length){var d=this.xb({obj:a,func:"rename",title:b,prevTitle:c},"before");
if("boolean"==typeof d&&!d)return}a&&a.length&&this.WL.apply(this,Array.prototype.slice.call(arguments))&&this.xb({obj:a,title:b,prevTitle:c},"rename")},vx:function(a,c,d,e,g,h){g||(a=this.sa(a));if(!(a.hasClass&&a.hasClass(b.hd)||this.i.Z.locked)){if(!g)return this.Ex(a,c,d,function(a){a.kl===a.gp||a.ZD||a.kl.deselect(a.vb);this.vx(a,!1,!1,e,!0,h)});e&&(this.i.Z.Kg.ZD=!0);if(!h&&!this.SA())return!1;this.Tp();c=!1;e?(c=a.vb.clone(!0),c.find("*[id]").addBack().each(function(){this.id&&(this.id="copy_"+
this.id)})):c=a.vb;a.PO.length?a.PO.before(c):(a.Km.children("ul").length||f("\x3cul /\x3e").appendTo(a.Km),a.Km.children("ul:eq(0)").append(c));try{a.kl.Zg(a.Mm),a.gp.Zg(a.Km),a.Mm.find("\x3e ul \x3e li").length||a.Mm.removeClass("oj-expanded oj-collapsed").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove()}catch(k){}e&&(this.i.Z.Kg.ZD=!0,this.i.Z.Kg.NO=c);c=f.extend(!0,{},this.i.Z.Kg);c.obj=a.vb;this.xb(c,"move");return this.i.Z.Kg}},Zra:function(){return this.i.Fc.Kg},
IJ:function(a){var b=null;this.options.types&&(b=this.sa(a));return b&&b.length?b.attr(this.options.types.attr)||"default":!1},Mla:function(a,b){var c=this.options.types,d,e=!1;a=this.sa(a);c&&a&&-1!=a&&a.length&&b&&(d=c.attr)&&c[b]&&(a.attr(d,b),a.addClass("oj-tree-type"),e=!0);return e},Paa:function(a,b){b=this.sa(b);var c=!1,d=this.IJ(b),e=this.rq().types,g=!1;if(-1===b)if(e[a])c=e[a];else return;else{if(!1===d)return;(g=this.i.types.hc.useData?b.data("oj-tree"):!1)&&g.types&&"undefined"!==typeof g.types[a]?
c=g.types[a]:e.types[d]&&"undefined"!==typeof e.types[d][a]?c=e.types[d][a]:e.types["default"]&&"undefined"!==typeof e.types["default"][a]&&(c=e.types["default"][a])}f.isFunction(c)&&(c=c.call(this,b));return c},Zg:function(c){var d,e,g,h=this.Vn(),k=a.fa;h.i4()&&(d=k.oG,e="draggable",g=!0);h.Fpa()&&(d+=" "+k.yn);c=c&&-1!=c?f(c):this.aa;c=c.is("li")?c.find("li").addBack():c.find("li");c.removeClass("oj-tree-last").addClass("oj-tree-node").addClass(d).attr(e,g).filter("li:last-child").addClass("oj-tree-last").end().filter(":has(li)").not(".oj-expanded").removeClass("oj-tree-leaf").addClass(b.vf).attr("aria-expanded",
"false");c.not(".oj-expanded, .oj-collapsed").addClass("oj-tree-leaf").children("ul").remove();var l=this.options.types?this.options.types.attr:!1;c.find("li");var m,n;f.each(c,function(){n=f(this);m=n.find("\x3e ins");1<m.length&&(m=f(m[0]));n.hasClass("oj-tree-leaf")?(m.removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default"),m.addClass("oj-tree-icon")):(m.addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default"),m.removeClass("oj-tree-node-icon"));
l&&n.attr(l)&&n.addClass("oj-tree-type")})},uw:function(a,c,d,e,g){a=a||-1;a=this.sa(a);if(-1!==a&&!a.length)return null;var h;c="undefined"===typeof c?"last":c;if(!g&&!this.bm(a))return this.cm(a,function(){this.uw(a,c,d,e,!0)}),null;this.Tp();d=this.fm(d);if(!d)return null;d=d.children();g=f(d[0]);-1===a&&(a=this.ua,"before"===c&&(c="first"),"after"===c&&(c="last"));switch(c){case "before":a.before(g);h=this.tj(a);break;case "after":a.after(g);h=this.tj(a);break;case "inside":case "first":a.children("ul").length||
a.append("\x3cul /\x3e");a.children("ul").prepend(g);h=a;break;case "last":a.children("ul").length||a.append("\x3cul /\x3e");a.children("ul").append(g);h=a;break;default:a.children("ul").length||a.append("\x3cul /\x3e"),c||(c=0),h=a.children("ul").children("li").eq(c),h.length?h.before(g):a.children("ul").append(g),h=a}if(-1===h||h.get(0)===this.ua.get(0))h=-1;this.Zg(h);this.xb({obj:g,parent:h},"create");e&&e.call(this,g);1<this.aa[0].childNodes.length&&this.aa.find("."+b.As).remove();return g},
ee:function(a,c,d){a=this.sa(a);if(!a||!a.length)return!1;d=d||!1;if(!a.hasClass(b.hd)&&!this.i.Z.locked){if(!a.hasClass(b.vf))return c&&c.call(),!1;var e=this.xb({obj:a,func:"expand"},"before");if("boolean"!=typeof e||e){var e=d?0:this.cH,g=this;this.bm(a)?(this.options.expandParents&&a.parentsUntil(".oj-tree",".oj-collapsed").each(function(){g.ee(this,!1,!0)}),a.removeClass(b.vf).addClass(b.pi).attr("aria-expanded","true").children("a").removeClass("oj-tree-loading"),f(a.children()[0]).removeClass(b.hj).addClass("oj-default"),
!d&&e?this.Vq(a,!1):this.tM(f(a.children("UL")[0]),a),c&&c.call()):(a.children("a").addClass("oj-tree-loading"),this.cm(a,function(){g.ee(a,c,d)},c))}}},AI:function(a,b,c){var d=a?a:-1;(a=a?this.sa(a):-1)&&-1!==a?d=a:a=this.aa;c?a=a.find("li.oj-collapsed"):(c=a,a=a.is(".oj-collapsed")?a.find("li.oj-collapsed").addBack():a.find("li.oj-collapsed"));var e=this;a.each(function(){var a=this;e.bm(this)?e.ee(this,!1,!b):e.expand(this,function(){e.AI(a,b,c)},!b)});0===c.find("li.oj-collapsed").length&&this.xb({obj:a,
targ:d},"expandAll")},Dj:function(c,d,e){var f=this.i.Z,g=this.i.ui,h=f.Sm;if(0==h)return!1;c=this.sa(c);if(-1==c||!c||!c.length||c.hasClass(b.hd)||f.locked)return!1;e&&"touchend"==e.type||(g.Lr=!1);var k=this.isSelected(c);if(!k){var l=this.xb({obj:c,func:"select"},"before");if("boolean"==typeof l&&!l)return!1}var l=this.options.selection.slice(0),m=this.options,n=g.hc.selectMultipleModifier,p=g.hc.selectRangeModifier,r=g.hc.disableSelectingChildren,n="on"==n||!1!==n&&e&&a.v.Fm(e),p=!1!==p&&e&&e[p+
"Key"]&&g.Ob&&this.i.ui.Ob[0]!==c[0]&&g.Ob.parent()[0]===c.parent()[0],s=!0,B=this;if(d){if(r&&n&&(c.parentsUntil(".oj-tree","li").children("a.oj-selected").length||c.children("ul").find("a.oj-selected:eq(0)").length))return!1;s=!1;switch(!0){case p:g.Ob.addClass("oj-tree-last-selected");c=c[c.index()<g.Ob.index()?"nextUntil":"prevUntil"](".oj-tree-last-selected").addBack();-1==h||c.length<h?(g.Ob.removeClass("oj-tree-last-selected"),g.selected.each(function(){this!==g.Ob[0]&&B.Zs(this)}),k=!1,s=
!0):s=!1;break;case g.Lr&&-1==h:g.Lr=!1;this.toggleSelect(c);s=!1;break;case k&&!n:if(!e)break;this.fB();g.kP||(k=!1);s=!0;break;case !k&&!n:e?g.selected&&1==g.selected.length?this.Zs(g.selected):this.fB(g.selected):1===h?this.Zs(g.selected):1<h&&this.fB();s=!0;break;case k&&n:this.deselect(c);break;case !k&&n:if(-1==h||g.selected.length+1<=h)s=!0}}d=!1;s&&!k&&(p||(g.Ob=c),c.children("a").addClass(b.hj),c.attr("aria-selected","true"),d=!0,m.selectedParentExpand&&c.parents(".oj-collapsed").each(function(){B.ee(this,
!1,!0)}),g.selected=g.selected.add(c),this.OV(c.eq(0)),f.Kr||this.Fw("selection",l,null,e));return d},Zs:function(a){a=this.sa(a);if(!a.length)return!1;a.hasClass(b.hd)||this.i.Z.locked||!this.isSelected(a)||(a.children("a").removeClass(b.hj),a.removeAttr("aria-selected"),this.i.ui.selected=this.i.ui.selected.not(a),this.i.ui.Ob&&this.i.ui.Ob.length&&this.i.ui.Ob.get(0)===a.get(0)&&(this.i.ui.Ob=this.i.ui.selected.eq(0)))},fB:function(a){if(!this.i.Z.locked&&(a=a?f(a).find("a.oj-selected").parent():
this.ua.find("a.oj-selected").parent(),a.not(".oj-disabled"),0!==a.length)){var b=this;f.each(a,function(){b.Zs(this)})}},Gla:function(a,b){if(this.i.Z.locked)return null;if(a&&0<a.length){var c=this;f.each(a,function(a,d){d&&c.Dj(d,!0,b)})}},GX:function(a){a.preventDefault();a.currentTarget.blur();f(a.currentTarget).hasClass("oj-tree-loading")||(this.Ik(),this.Dj(a.currentTarget,!0,a)&&this.aa.focus());this.i.ui.Lr=!1},hV:function(a,c){a=f(a);if(!a.hasClass(b.hd)&&!this.i.Z.locked){var d=a.parent(),
e=d.hasClass(b.vf);if(d.hasClass(b.pi)||e)c?(a.addClass(b.Ip),a.removeClass("oj-default"),a.removeClass(b.hj)):(a.removeClass(b.Ip),a.addClass("oj-default"))}},Qd:function(a){this.m_(a)},m_:function(a){var b=a?a:-1,c=this;this.Xka();a||(a=-1);(a=this.sa(a))?b=a:a=-1;-1!==a?a.children("UL").remove():(this.aa.empty(),this.LZ());this.cm(a,function(){c.xb({obj:b},"refresh");c.UC()})},qL:function(a){this.saveSelected();this.m_(a)},after_close:function(a){this.xb({obj:a},"after_close",!0)},Eka:function(){var a=
this;this.i.Z.Mg.length&&f.each(this.i.Z.Mg,function(b,c){a.ee(c,!1,!0)});this.xb({},"reopen",!0)},wJ:function(a){var b,c,d;a=a?f(a).find("a.oj-selected").parent():this.i.ui.selected;b=[];d=a.length;for(c=0;c<d;c++)b.push(a[c]);return b},WL:function(a,b){a=this.sa(a);if(!a.length)return!1;a=a.children("a:eq(0)");a=a.find("span:eq(0)");this.xb({obj:a,name:b},"set_text",!0);return a[0].textContent=b},aZ:function(){0!==this.i.Pa.type&&-1!==this.i.Pa.type?this.cm(-1,function(){this.cZ();this.UC()}):(this.caa(),
this.cZ())},cm:function(a){this.xb({obj:a},"load_node",!0)},bm:function(){return!0},dia:function(a,b,c){var d=this;this.gia(a,function(){d.xb({obj:d.sa(a)},"load_node",!0);b.call(this)},c)},Nha:function(a){a=this.sa(a);return-1===a||!a||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},Tja:function(a){(a=this.sa(a))&&-1!==a&&a.removeData("oj-tree-children");return this.qL(a)},fia:function(a,b,c){var d=this;this.cia(a,function(){d.xb({obj:d.sa(a)},"load_node",!0);b.call(this)},
c)},Pha:function(a){var b=this.options.data;a=this.sa(a);return-1==a||!a||!b.ajax&&!this.i.Pa.WO&&!f.isFunction(b.data)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").length},eia:function(a,b,c){var d=this;this.bia(a,function(){d.xb({obj:d.sa(a)},"load_node",!0);b.call(this)},c)},Oha:function(a){var b=this.options.data,c=null,d=null;b&&(c=b.data||null,d=b.ajax||null);a=this.sa(a);return-1==a||!a||!d&&!f.isFunction(c)||a.is(".oj-expanded, .oj-tree-leaf")||0<a.children("ul").children("li").size()},
reselect:function(){var a=this,b=this.i.ui.qz,b=f.map(f.makeArray(b),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});f.each(b,function(b,c){c&&"#"!==c&&a.select(c)});this.i.ui.selected=this.i.ui.selected.filter(function(){return this.parentNode});this.xb(null,"reselect",!0)},saveSelected:function(){var a=this.i.ui;a.qz=[];a.selected.each(function(){this.id&&a.qz.push("#"+this.id.toString().replace(/^#/,
"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))});this.xb(a.qz,"savedselected",!0)},rollback:function(a){a&&f.isArray(a)},get_rollback:function(){this.xb(null,"get_rollback",!0);return{Ksa:this.bh(),oh:this.ua.children("ul").clone(!0),zsa:this.data}},gia:function(a,b){var c=this.ER(a&&-1!=a?a[0].id:a?a:-1,a);if(c.success&&c.az){var d=!a||-1===a,e=this.options.data;if(e.data&&!e.ajax||e.data&&e.ajax&&d)d&&((c=this.fm(c.az,a))?(this.aa.empty().append(c.children()),
this.Zg()):this.i.Pa.vg&&this.aa.empty()),b&&b.call(this);else if(!e.data&&e.ajax||e.data&&e.ajax&&!d)(c=this.fm(c.az,a))?(d?(d=this.aa,d.empty().append(c.children()),d.attr("role","tree").attr("tabindex","0").css("outline","none"),-1===this.i.Z.Sm&&d.attr("aria-multiselectable",!0)):(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")),this.Zg(a),b&&b.call(this)):d?this.i.Pa.vg&&(this.aa.empty(),b&&b.call(this)):(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading"),e.correct_state&&(this.fq(a),b&&b.call(this)))}},ER:function(a,b){var c=[],d=this.m1,e,g={},h={success:!1,az:null};-1==a&&(a=null,g.start=0);e=d.ff(a);0<e&&(g.count=e,d.Nf(a,g,{success:f.proxy(function(a){for(var e=a.R(),f,g=0;g<e;g++){b={};(f=a.getData(g))&&(b.attr=f);b.title=a.Vf[g].title;f.I4&&(b.metadata=a.Vf[g].metadata);var k=b.attr.id;f=d.ff(k);0<f&&(f=this.ER(k,b),b.children=f.az);c.push(b)}h.success=!0;h.az=c},this),error:function(){h.success=!1}}));return h},
Uja:function(a){a=this.sa(a);if(!this.i.Z.locked){var c=!a||-1!==a||!a.length;if(c||!a.hasClass(b.hd)){var d=this.options.data.json;!c&&this.i.Pa.Wu&&(f.isFunction(d.data)||d.ajax)&&a.removeData("oj-tree-children");return this.qL(a)}}},cia:function(a,b,c){function d(){}function e(){}var g=this.rq().data,h=g&&g.data||null,k=g&&g.ajax||null;!g||h||k||(h=g);if((a=this.sa(a))&&-1!==a&&(this.i.Pa.WO||this.i.Pa.Wu)&&!a.is(".oj-expanded, .oj-tree-leaf")&&0===a.children("ul").children("li").length&&a.data("oj-tree-children")){if(g=
this.fm(a.data("oj-tree-children"),a))a.append(g),this.i.Pa.Wu||a.removeData("oj-tree-children");this.Zg(a);b&&b.call(this)}else{if(a&&-1!==a){if(a.data("oj-tree-is-loading"))return;a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k:throw"ojTree - neither data nor ajax settings supplied.";case f.isFunction(h):h.call(this,a,f.proxy(function(d){(d=this.fm(d,a))?(-1!==a&&a?(a.append(d).children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading")):this.aa.empty().append(d.children()),
this.Zg(a),b&&b.call(this)):(-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.Pa.vg&&this.fq(a)):this.i.Pa.vg&&this.aa.empty(),c&&c.call(this))},this));break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||((g=this.fm(h,a))?(this.aa.empty().append(g.children()),this.Zg()):this.i.Pa.vg&&this.aa.empty());b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:e=function(b,d,e){var f=this.rq().data.ajax.error;f&&f.call(this,d,e,b);-1!=
a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.Pa.vg&&this.fq(a)):("error"==d||"success"===d&&this.i.Pa.vg)&&this.aa.empty();c&&c.call(this)},d=function(c,d,g){var h=this.rq().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if("string"==typeof c){d=c.replace(/^[\s\n]+$/,"");try{d=f.parseJSON(d)}catch(k){d=null}if(!d)return e.call(this,g,"Bad JSON","")}(c=this.fm(c,a))?(-1!==a&&a?(a.append(c).children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading")):(g=this.aa,g.empty().append(c.children()),g.attr("role","tree").attr("tabindex","0").css("outline","none"),-1===this.i.Z.Sm&&g.attr("aria-multiselectable",!0)),this.Zg(a),b&&b.call(this)):-1!==a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),this.i.Pa.vg&&(this.fq(a),b&&b.call(this))):this.i.Pa.vg&&(this.aa.empty(),b&&b.call(this))},g.ajax.context=this,g.ajax.error=e,g.ajax.success=d,g.dataType||(g.ajax.dataType=
"json"),f.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),f.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),f.ajax(g.ajax)}}},fm:function(a,c,d){var e=!1,g,h,k,l;if(!a)return e;this.i.Pa.Wu&&c&&-1!==c&&c.data("oj-tree-children",e);if("string"==typeof a)try{a=f.parseJSON(a)}catch(m){a=[]}if(f.isArray(a)){e=f("\x3cul\x3e");if(!a.length)return!1;h=0;for(k=a.length;h<k;h++)g=this.fm(a[h],c,!0),g.length&&(e=e.append(g));e=e.children()}else{"string"==typeof a&&(a={data:a});
l="string"==typeof a.title?a.title:" ";e=f("\x3cli role\x3d'treeitem' /\x3e");a.attr&&(this.i.types.Cu&&!a.attr.type&&(a.attr.type="oj-tree-deftype",e.addClass("oj-tree-type")),e.attr(a.attr));a.metadata&&e.data(a.metadata);a.children&&0===a.children.length&&e.addClass(b.vf);a.state&&"s"===a.state&&e.addClass(b.hj);a.data||(a.data={dummy:0});var n=!1,p;g=f("\x3ca tabindex\x3d'-1' /\x3e");f.each(a.data,function(b,c){f.isFunction(c)&&(c=c.call(this,a));"string"!=typeof c&&("attr"==b?g.attr(c):"style"==
b&&g.css(c),"language"==b&&g.addClass(c));n||(p=f("\x3cspan class\x3d'oj-tree-title'\x3e"),p[0].textContent=l,g.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-node-icon oj-component-icon'\x3e\x26#160;\x3c/ins\x3e",p),n=!0);!c.icon&&a.icon&&(c.icon=a.icon);c.icon&&(-1===c.icon.indexOf("/")?g.children("ins").addClass(c.icon):g.children("ins").css("background","url('"+c.icon+"') center center no-repeat"))});e.append(g);e.prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default'\x3e\x26#160;\x3c/ins\x3e");
a.children&&(this.i.Pa.WO&&"expanded"!==a.state?e.addClass(b.vf).attr("aria-expanded","false").data("oj-tree-children",a.children):(this.i.Pa.Wu&&e.data("oj-tree-children",a.children),f.isArray(a.children)&&a.children.length&&(g=this.fm(a.children,c,!0),g.length&&(c=f("\x3cul role\x3d'group' /\x3e"),c.append(g),e.append(c)))))}d||(d=f("\x3cul /\x3e"),d.append(e),e=d);return e},WS:function(a,b,c,d){var e=[],h=this.options,k=this,l,m,n,p,r,s,B,z;(a=this.sa(a))&&-1!==a||(a=this.ua.find("\x3e ul \x3e li"));
b=f.isArray(b)?b:["id","class"];!d&&h.types&&b.push(h.types.attr);c=f.isArray(c)?c:[];a.each(function(){p=f(this);l={};b.length&&(l.attr={});f.each(b,function(a,b){(m=p.attr(b))&&m.length&&m.replace(/oj-tree[^ ]*/ig,"").length&&(m=(" "+m).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),m.length&&(l.attr[b]=m))});k.Vn().i4()&&k.isSelected(p)&&(l.state="s");n=p.data();g(n)||(l.metadata=n);r=p.children("a");m=null;r.each(function(){s=f(this);
c.length||s.children("ins").get(0).style.backgroundImage.length||s.children("ins").get(0).className&&s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").length?(z=k.getText(s),f.each(c,function(a,b){B=(" "+(s.attr(b)||"")).replace(/ oj-tree[^ ]*/ig,"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");B.length&&(m||(m={attr:{}}),m.attr[b]=B)}),s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length&&(B=s.children("ins").get(0).className.replace(/oj-tree[^ ]*|$/ig,
"").replace(/ oj-[^ ]*/ig,"").replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""),B.length&&(m||(m={}),m.icon=B)),s.children("ins").get(0).style.backgroundImage.length&&(B=s.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")",""),B.length&&(m||(m={}),m.icon=B))):z=k.getText(s);null!=m&&(l.data||(l.data=[]),1<r.length?l.data.push(m):l.data=m);l.title=z});p=p.find("\x3e ul \x3e li");p.length&&(l.children=k.WS(p,b,c,!0));e.push(l)});return e},fq:function(a){a=this.sa(a);if(!a||
-1===a)return!1;a.removeClass("oj-collapsed oj-expanded").removeAttr("aria-expanded").addClass("oj-tree-leaf").children("ul").remove();a.find("ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default").addClass("oj-tree-icon");this.xb({obj:a},"correct_state",!0)},cZ:function(){this.xb(null,"loaded")},bia:function(a,b,c){function d(){}function e(){}var g=this.rq().data,h=g&&g.data||null,k=g&&g.ajax||null;if((a=this.sa(a))&&-1!==a){if(a.data("oj-tree-is-loading"))return;
a.data("oj-tree-is-loading",!0)}switch(!0){case !h&&!k&&g&&"string"===typeof g:this.$Y(g,a,b,c);break;case f.isFunction(h):h.call(this,a,f.proxy(function(d){this.$Y(d,a,b,c)},this));break;case !h&&!k:a&&-1!=a||(this.aa.empty().append(this.i.html.RD).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon' \x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
this.aa.find("li").children("ins:first-child").addClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default"),this.rC(this.aa),this.i.types.Cu&&this.Zv(this.aa),this.Zg(),this.aa.find("ul").attr("role","group"),this.aa.find("li").attr("role","treeitem"),this.aa.find("a").attr("tabindex",-1));b&&b.call(this);break;case !!h&&!k||!!h&&!!k&&(!a||-1===a):a&&-1!=a||(g=f(h),g.is("ul")||(g=f("\x3cul /\x3e").append(g)),this.aa.empty().append(g.children()).find("li, a").filter(function(){return!this.firstChild||
!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.aa.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.rC(this.aa),this.i.types.Cu&&this.Zv(this.aa),
this.Zg(),this.aa.find("ul").attr("role","group"),this.aa.find("li").attr("role","treeitem"),this.aa.find("a").attr("tabindex","-1"));b&&b.call(this);break;case !h&&!!k||!!h&&!!k&&a&&-1!==a:a=this.sa(a),e=function(b,d,e){var f=this.rq().data.ajax.error;f&&f.call(this,b,d,e);-1!=a&&a.length?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),a.removeData("oj-tree-is-loading"),"success"===d&&this.i.Pa.vg&&this.fq(a)):"success"===d&&this.i.Pa.vg&&this.aa.empty();c&&c.call(this)},d=function(c,
d,g){var h=this.rq().data.ajax.success;h&&(c=h.call(this,c,d,g)||c);if(""===c||c&&c.toString&&""===c.toString().replace(/^[\s\n]+$/,""))return e.call(this,g,d,"");if(c){c=f(c);c.is("ul")||(c=f("\x3cul /\x3e").append(c));-1!=a&&a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),this.ika(a),a.append(c).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
a.removeData("oj-tree-is-loading"),a.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),c=a):(this.aa.empty().append(c.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),
this.aa.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),c=this.aa);this.Sfa(c);this.rC(c);d=c.children("UL");if(1<=d.length){d=d.first().find("span.oj-tree-title");var k=this;f.each(d,function(){this.textContent=k.oB(this.textContent)})}this.i.types.Cu&&c&&this.Zv(this.aa);this.Zg(a);b&&b.call(this)}else a&&-1!==a?(a.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
a.removeData("oj-tree-is-loading"),this.i.Pa.vg&&(this.fq(a),b&&b.call(this))):this.i.Pa.vg&&(this.aa.empty(),b&&b.call(this)),this.aa.find("ul").attr("role","group"),this.aa.find("li").attr("role","treeitem")},g.ajax.context=this,g.ajax.error=e,g.ajax.success=d,g.ajax.dataType||(g.ajax.dataType="html"),f.isFunction(g.ajax.url)&&(g.ajax.url=g.ajax.url.call(this,a)),f.isFunction(g.ajax.data)&&(g.ajax.data=g.ajax.data.call(this,a)),f.ajax(g.ajax)}},Sfa:function(a){a=a.find(a.is("ul")?"li ul":"ul").filter(function(){return!this.firstChild||
0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});f.each(a,function(){f(this).closest("li").addClass(b.vf)})},ika:function(a){a=a.find("ul").filter(function(){return!this.firstChild||0==this.childNodes.length||1==this.childNodes.length&&3==this.firstChild.nodeType});0<a.length&&a.remove()},$Y:function(a,b,c){if(a&&""!==a&&a.toString&&""!==a.toString().replace(/^[\s\n]+$/,"")){a=f(a);a.is("ul")||(a=f("\x3cul /\x3e").append(a));-1!=b&&b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),
b.append(a).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),b.removeData("oj-tree-is-loading"),a=b,this.Zv(this.Tsa)):(this.aa.empty().append(a.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||
"INS"!==this.firstChild.tagName}).prepend("\x3cins class\x3d'oj-tree-icon oj-tree-disclosure-icon'\x3e\x26#160;\x3c/ins\x3e").end().filter("a").children("ins:first-child").not(".oj-tree-node-icon").addClass("oj-tree-node-icon").addClass("oj-tree-icon"),this.aa.find("li.oj-tree-leaf ins:first-child").removeClass("oj-tree-icon oj-tree-disclosure-icon oj-component-icon oj-clickable-icon oj-default").removeClass("oj-tree-node-icon").addClass("oj-tree-icon"),a=this.aa,this.Zv(this.aa));a&&this.rC(a);a=
a.children("UL");if(1<=a.length){a=a.first().find("span.oj-tree-title");var d=this;f.each(a,function(){this.textContent=d.oB(this.textContent)})}this.Zg(b);c&&c.call(this)}else b&&-1!==b?(b.children("a.oj-tree-loading").removeClass("oj-tree-loading"),b.removeData("oj-tree-is-loading"),this.i.Pa.vg&&(this.fq(b),c&&c.call(this))):this.i.Pa.vg&&(this.aa.empty(),c&&c.call(this))},rC:function(a){f.each(a.find("li a"),function(a,b){var c=b.innerHTML,c=c.replace("ins\x3e","ins\x3e\x3cspan class\x3d'oj-tree-title'\x3e");
b.innerHTML=c+"\x3c/span\x3e"})},Zv:function(a){var b,c;this.i.types.Cu&&(c=(b=this.options.types)?b.attr:this.i.types.hc.attr,f.each(a.find("li"),function(a,b){b=f(b);b.attr(c)||b.attr(c,"oj-tree-deftype").addClass("oj-tree-type")}))},Xka:function(){var a=this;this.i.Z.Mg=[];this.aa.find("li.oj-expanded").each(function(){this.id&&a.i.Z.Mg.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"))})},UC:function(a){var b=
this,c=!0,d=[],e=[],g,h;a||(this.i.Z.ZO=!1,this.i.Z.lqa=!0);this.Hha()&&(this.i.Z.Mg=[],this.aa.find("li.oj-collapsed").each(function(){h="#"+f(this).attr("id");b.isExpanded(h)||b.i.Z.Mg.push(h)}));this.i.Z.Mg=f.map(f.makeArray(this.i.Z.Mg),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.Z.ml=f.map(f.makeArray(this.i.Z.ml),function(a){return"#"+a.toString().replace(/^#/,"").replace(/\\\//g,
"/").replace(/\//g,"\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:")});this.i.Z.Mg.length&&(this.i.Z.ml=this.i.Z.ml.concat(this.i.Z.Mg),this.i.Z.ml=this.i.Z.ml.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[]));this.i.Z.ml.length&&(f.each(this.i.Z.ml,function(a,c){if("#"==c)return!0;g=b.ua.find(c);g.length?b.isExpanded(c)||d.push(c):e.push(c)}),d.length&&(this.i.Z.ml=e,f.each(d,function(a,d){b.bm(d)||(b.cm(d,function(){b.UC(!0)},function(){b.UC(!0)}),c=!1)})));this.i.Z.Mg.length&&
f.each(this.i.Z.Mg,function(a,c){b.isExpanded(c)||b.ee(c,!1,!0)});c&&(this.i.Z.ZO&&clearTimeout(this.i.Z.ZO),this.i.Z.ZO=setTimeout(function(){b.xb({},"reload_nodes",!0)},50),this.i.Z.lqa=!1,this.Eka())},setTheme:function(a,b){if(!a)return!1;b||(b=this.i.Eb.ey+a+"/style.css");-1==f.inArray(b,this.i.Eb.W5)&&(h({url:b}),this.i.Eb.W5.push(b));this.i.Eb.$u!=a&&(this.ua.removeClass("oj-tree-"+this.i.Eb.$u),this.i.Eb.$u=a);this.ua.addClass("oj-tree-"+a);this.i.Eb.Ay?this.I0():this.RX();this.i.Eb.icons?
this.aM():this.hK()},Lha:function(){return null!=this.i.Eb},esa:function(){return this.i.Eb.$u},isIcons:function(){return this.i.Eb.icons},aM:function(){this.i.Eb.icons=!0;this.ua.children("ul").removeClass("oj-tree-no-icons")},hK:function(){this.i.Eb.icons=!1;this.ua.children("ul").addClass("oj-tree-no-icons")},toggleIcons:function(){},Zca:function(){this.i.keys.soa=!0},bha:function(){this.Uga();this.Tga();this.cY(!0);this.dha();this.Vn().d4();this.Sga();this.fha();this.aha();this.dY();this.eha();
this.Vn().c4();this.co()},xb:function(a,b,c){if(b&&"string"===f.type(b)&&(!0!==this.i.Z.locked||"unlock"===b||"isLocked"===b||"lock"===b)){var d,e=Array.prototype.slice.call(arguments);d=this.ua;var g="before"===b,h=c?!1:!0;h||(b="_tree"+b);var k={};k.item=a?a.obj:void 0;k.inst=d;g?(d=a.func,k.func=d,k.args=e,"rename"===d&&(k.title=a.title,k.prevTitle=a.prevTitle)):h&&("move"==b?(k.position=a.Om,k.reference=a.wa,k.data=a):"rename"==b?(k.title=a.title,k.prevTitle=a.prevTitle):"remove"==b?(k.parent=
a.parent,k.prev=a.prev):"delete"==b?(k.prev=a.prev,k.parent=a.parent):"expandAll"===b||"collapseAll"===b||"deselectAll"===b?k.targ=a.targ:"loaded"===b&&(k.item=-1));if(h){if(e=this._trigger(b,new f.Event("oj"+b),k),g)return"undefined"!=typeof e&&(e=e?!0:!1),e}else this.ua.trigger(b,k)}},Fw:function(a,b,c,d){"selection"===a&&(null==c&&(c=this.wJ()),this.nU(b,c)||this.option(a,c,{_context:{originalEvent:d,Wa:!0},changed:!0}))},Tp:function(){return this.get_rollback()},Mh:function(){this.xC&&this.ua.addClass("oj-tree-rtl").css("direction",
"rtl");this.ua.html("\x3cul role\x3d'tree' tabindex\x3d'0' class\x3d'oj-tree-list' style\x3d'outline:none'"+(-1===this.i.Z.Sm?" aria-multiselectable\x3d'true'":"")+"\x3e\x3cli class\x3d'oj-tree-last oj-tree-leaf'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e\x3ca class\x3d'oj-tree-loading' href\x3d'#'\x3e\x3cins class\x3d'oj-tree-icon'\x3e\x26#160;\x3c/ins\x3e"+this.zJ("stateLoading")+"\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e");this.aa=this.ua.children("ul:eq(0)");this.ua.data("oj-tree-instance-id",
this.bh());this.i.Z.Uo=this.aa.find("li.oj-collapsed, li.oj-tree-leaf").eq(0).height()||18;this.Mt&&this.ua.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","touchend.ojtree",f.proxy(function(a){a.preventDefault();a=f(a.target);this.toggleExpand(a)},this));this.ua.delegate(".oj-tree-list ins.oj-tree-disclosure-icon","click.ojtree",f.proxy(function(a){a=f(a.target);this.toggleExpand(a)},this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mousedown",f.proxy(function(a){this.i.ui.rN=!0;
f(a.target).removeClass("oj-default").removeClass(b.Ip).addClass(b.hj)},this)).delegate(".oj-tree-list ins.oj-tree-disclosure-icon","mouseup",f.proxy(function(a){f(a.target).removeClass(b.hj).addClass("oj-default")},this)).bind("mousedown.ojtree",f.proxy(function(){this.Ik()},this)).bind("dblclick.ojtree",function(){var a;if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){a=window.getSelection();try{a.removeAllRanges(),a.collapse(document.getElementsByTagName("body")[0],
0)}catch(b){}}});this.aa.focus(f.proxy(function(){if(this.i.ui.rN)this.i.ui.rN=!1;else{this.i.ui.Lj=!0;var a;this.i.ui.Qj?(this.i.ui.Hb=this.i.ui.Qj,a=this.i.ui.Hb):this.i.ui.Ob&&0<this.i.ui.Ob.length?(this.i.ui.Hb=this.i.ui.Ob,a=this.i.ui.Hb):a=this.aa.find("li:first");a&&(this.hover(a),this.i.ui.Qj=null,this.aa.find("a.oj-selected").removeClass("oj-tree-inactive"))}},this)).blur(f.proxy(function(){this.i.ui.Lj=!1;this.i.ui.Qj=this.i.ui.Hb;this.i.ui.Qj&&this.dehover(this.i.ui.Hb);this.aa.find("a.oj-selected").addClass("oj-tree-inactive")},
this));this.xb({},"init",!0);this.aZ();this.i.menu.sh&&this.aw();d({NX:this.Ot,d0:this.aa,fy:this});this.Zca()},Sga:function(){this.i.Z.locked=!1;this.ua.addClass("oj-tree oj-tree-"+this.bh());this.ua.css("outline","none");this.ua.css("MozUserSelect","none");this.ua.css("WebkitTouchCallout","none");this.ua.css("WebkitUserSelect","none");this.ua.css("WebkitTapHighlightColor","rgba(0,0,0,0)")},fha:function(){this.i.ui.selected=f();this.i.ui.Ob=!1;this.i.ui.Hb=null;var a=this.options.selection;a&&"array"===
f.type(a)&&0<a.length&&(this.i.ui.qz=a,this.options.selection=[]);this.Mt&&this.ua.delegate(".oj-tree-list a","touchend.ojtree",f.proxy(function(a){this.i.ui.Lr=!0;this.GX(a);f(a.currentTarget).hasClass("oj-tree-loading")||this.dehover()},this));this.ua.delegate(".oj-tree-list a","click.ojtree",f.proxy(function(a){this.i.ui.Lr=!1;this.GX(a)},this)).delegate(".oj-tree-list a","mouseenter.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.hover(a.target)},this)).delegate(".oj-tree-list a",
"mouseleave.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.dehover(a.target)},this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseenter.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.hV(a.target,!0)},this)).delegate(".oj-tree-list .oj-tree-disclosure-icon","mouseleave.ojtree",f.proxy(function(a){f(a.currentTarget).hasClass("oj-tree-loading")||this.hV(a.target,!1)},this)).bind("_treereopen",f.proxy(function(){this.reselect()},
this)).bind("_treeget_rollback",f.proxy(function(){this.dehover();this.saveSelected()},this)).bind("ojcollapse",f.proxy(function(a,b){var c=this.sa(b.item),d=c&&c.length?c.children("ul").find("a.oj-selected"):f();!1!==this.options.selectedParentCollapse&&d.length&&d.each(function(){this.deselect(this);"selectParent"===this.options.selectedParentCollapse&&this.select(c)})},this)).bind("ojremove",f.proxy(function(a,b){var c=this.options.selectPrevOnDelete,d=this.sa(b.item),d=d&&d.length?d.find("a.oj-selected"):
[],e=this,f;d.each(function(){e.deselect(this);e.i.ui.Qj&&(f=e.sa(this))&&e.i.ui.Qj.attr("id")==f.attr("id")&&(e.i.ui.Qj=null)});c&&d.length&&b.prev&&b.prev.each(function(){if(this.parentNode)return e.select(this),!1})},this)).bind("ojmove",f.proxy(function(a,c){var d=c.data,e=d.ZD;e&&d.NO&&(d.NO.find("a.oj-selected").removeClass(b.hj),d.NO.removeAttr("aria-selected"));d.kl===d.gp||e||(e=d.kl.i.ui,e.Qj&&(d.vb.attr("id")==e.Qj.attr("id")&&(e.Qj=null),e.Ob&&d.vb.attr("id")==e.Ob.attr("id")&&(e.Ob=null)))},
this))},dY:function(){this.cha();this.Yga();this.Xga()},cha:function(){1===this.i.Pa.type&&(this.m1=this.options.data||null,this.cm=this.dia,this.bm=this.Nha,this.Qd=this.Tja)},Yga:function(){3===this.i.Pa.type&&(this.i.Pa.Wu&&this.ua.bind("_treeafter_close",function(a,b){b.item.children("ul").remove()}),this.cm=this.fia,this.bm=this.Pha,this.Qd=this.Uja)},Xga:function(){4===this.i.Pa.type&&(this.LZ(),this.cm=this.eia,this.bm=this.Oha,this.Qd=this.qL)},LZ:function(){this.i.html.WE&&(this.i.html.Ru||
(this.i.html.Ru=this.ua.find(" \x3e ul"),this.i.html.CE=f("\x3cdiv id\x3d'oj-tree-existing-markup-"+this.bh()+"' style\x3d'display:none'\x3e").append(this.i.html.Ru),this.ua.after(this.i.html.CE)),this.i.html.G4=this.i.html.Ru.find(" \x3e li"),this.i.html.RD=this.i.html.G4.clone(!0),this.i.html.RD.find("li").addBack().contents().filter(function(){return 3==this.nodeType}).remove())},aha:function(){!1===this.i.Eb.ey&&f("script").each(function(){if(this.src.toString().match(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/))return this.i.Eb.ey=
this.src.toString().replace(/jquery\.oj-tree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});!1===this.i.Eb.ey&&(this.i.Eb.ey="themes/");this.ua.bind("_treeinit",f.proxy(function(){var a=this.options;this.i.Eb.Ay=a.dots;this.i.Eb.icons=a.icons;this.setTheme(this.i.Eb.$u,this.i.Eb.url)},this)).bind("ojloaded",f.proxy(function(){this.i.Eb.Ay?this.I0():this.RX();this.i.Eb.icons?this.aM():this.hK()},this))},eha:function(){var a=this.options.types;a&&this.ua.bind("_treeinit",f.proxy(function(){var b=f.extend(!0,
{},a.types),c=a.attr||this.i.types.hc.attr,d="",e=this;f.each(b,function(a,b){f.each(b,function(a){/^(maxDepth|maxChildren|icon|validChildren)$/.test(a)||e.i.types.X1.push(a)});var g=typeof b.icon;if("undefined"===g){g=typeof b.image;if("boolean"===g&&!b.image)b.image="ojt$none";else if(!b.image&&!b.position)return!0;b.icon={};b.image&&(b.icon.image=b.image,delete b.image);void 0!==b.position&&(b.icon.position=b.position,delete b.position)}if(b.icon.image||b.icon.position)"default"==a?(e.i.types.Cu=
!0,d+=".oj-tree-"+e.bh()+" .oj-tree-list li.oj-tree-type a \x3e .oj-tree-node-icon { ",d+=e.fT(b,d),d+="} ",d+=".oj-tree-"+e.bh()+" .oj-tree-list li["+c+'\x3d"oj-tree-deftype"].oj-tree-type \x3e a ins.oj-tree-node-icon { '):b.icon.image&&(d+=".oj-tree-"+e.bh()+" .oj-tree-list li["+c+'\x3d"'+a+'"].oj-tree-type \x3e a \x3e ins.oj-tree-node-icon { '),d+=e.fT(b,d),d+="} "});""!==d&&h({VE:d,title:"oj-tree-types"})},this)).bind("ojbefore",f.proxy(function(a,b){var c,d,e=b.func,g=b.item;if((c=(c=this.i.types.hc.useData?
this.sa(g):!1)&&-1!==c&&c.length?c.data("oj-tree"):!1)&&c.types&&!1===c[e]||-1!==f.inArray(e,this.i.types.X1)&&b.item&&(b.item.tagName||b.item.jquery)&&(c=this.options.types.types,d=this.IJ(g),(c[d]&&"undefined"!==typeof c[d][e]||c["default"]&&"undefined"!==typeof c["default"][e])&&!1===this.Paa(e,g)))return a.stopImmediatePropagation(),!1},this))},fT:function(a){var b="",b="ojt$none"!==a.icon.image?b+(" background-image:url("+a.icon.image+"); "):b+" background-image:none; ";return b=a.icon.position?
b+(" background-position:"+a.icon.position+"; "):b+" background-position:0 0; "},Vn:function(){this.Tv||(this.Tv=new a.fa(this));return this.Tv},hsa:function(){},co:function(a){var b,c;a||this.options.contextMenu||(b=this.ua.attr("contextmenu"))&&(this.options.contextMenu="#"+b);if(a||this.options.contextMenu){b=a||this.options.contextMenu;c=f.type(b);if("function"==c){try{b=b()}catch(d){b=null}c=f.type(b)}if("string"===c){if(b=f(b))b.css("display","none"),c=this.i.menu,c.Pe=b,c.sh=!0;this.i.menu.sh&&
a&&this.aw()}}},uj:function(a,b){if(!b.inst&&this.i.menu.cra==this.bt.substr(1)){var c=b?b.item.attr("id"):void 0;"ojtreecopy"===c?this.jca(this.i.menu.Tj):"ojtreecut"===c?this.lca(this.i.menu.Tj):"ojtreepaste"===c?this.mca(this.i.menu.Tj):"ojtreeremove"===c?this.isSelected(this.i.menu.Tj)?this.KU():this.KU(this.i.menu.Tj):"ojtreerename"===c?this.LU(this.i.menu.Tj):"ojtreecreate"===c&&this.kca(this.i.menu.Tj)}},uf:function(a,c,d){var e="keyboard"===d;if("contextmenu"==c.type||e||"touch"==d){this.i.menu.Tj=
e?this.i.ui.Hb:f(c.target);var g=this.i.menu.Tj.find(".oj-tree-title")[0];this.i.menu.OD=null;this.i.menu.Tj?(this.i.menu.cra=this.i.menu.Tj.closest("div").attr("id"),a={launcher:this.aa},e&&(a.position={of:g}),this.i.menu.sh&&this.i.menu.av&&(e=!this.i.Fc.Ki&&!this.i.Fc.hr,!!this.i.menu.av.hasClass(b.hd)!=e&&(e?this.i.menu.av.addClass(b.hd):this.i.menu.av.removeClass(b.hd),this.i.menu.Pe.ojMenu("refresh"))),this.wf(c,d,a)):c.preventDefault()}},Tga:function(){var a=this.options.selectionMode,a=void 0==
a?"single":a;"none"===a?a=0:"single"===a?a=1:"multiple"===a&&(a=-1);this.i.Z.Sm=a;this.i.Eb.icons=this.options.icons;this.eY();this.i.Z.ml=this.options.initLoaded},ksa:function(){},cY:function(b){var c=this.options.data,d;this.i.Pa.type=0;this.i.html.WE=!1;this.i.html.RD=!1;if(c)if(d=f.type(c),"string"===d)this.Bha(c)?this.i.Pa.type=4:this.i.Pa.type=3;else if("array"===d)this.i.Pa.type=3;else if("object"===d){try{c instanceof a.ic&&(this.i.Pa.type=1)}catch(e){this.i.Pa.type=-1}if(1!==this.i.Pa.type)try{c instanceof
a.Ka&&(this.i.Pa.type=2)}catch(g){this.i.Pa.type=-1}1!==this.i.Pa.type&&2!==this.i.Pa.type&&(c.data||c.ajax)&&((d=c.dataType)?"json"===d?this.i.Pa.type=3:"html"===d&&(this.i.Pa.type=4):(c.dataType="json",this.i.Pa.type=3))}b&&0==this.i.Pa.type&&0<this.ua.find("ul").length&&(this.i.Pa.type=4,this.i.html.WE=!0)},jsa:function(){},gsa:function(){},fsa:function(){},isa:function(){},dha:function(){var a=this.options.types;"object"===typeof a&&this.baa(a,{attr:this.i.types.hc.attr})},eY:function(){this.i.Z.Mg=
this.cna(this.options,"initExpanded");null==this.i.Z.Mg&&(this.i.Z.Mg=[])},Uga:function(){var a=this.i;a.Z={xpa:[],Sm:1,Nsa:!1,Uo:0,Mg:!1,ml:!1,Kg:{},Kr:!1,Nqa:{}};a.ui={selected:f(),Ob:!1,Hb:null,Qj:null,rN:!1,qz:null,opacity:1,kP:!1,Lj:!1,Q1:null,Lr:!1};a.ui.hc={selectMultipleModifier:"ctrl",selectRangeModifier:"shift",disableSelectingChildren:!1};a.Fc={};a.Fc.hr=!1;a.Fc.Ki=!1;a.Fc.hc={inputWidthLimit:200,move:{alwaysCopy:!1,openOnMove:!0,defaultPosition:"last",checkMove:function(){return!0}}};
a.Fc.Kg={};a.Pa={};a.Pa.WO=!1;a.Pa.Wu=!1;a.Pa.vg=!0;a.Pa.type=0;a.Lpa={};a.Lpa.hc={data:!1,ajax:!1};a.html={};a.html.hc={data:!1,ajax:!1};a.html.WE=!1;a.html.Ru=!1;a.html.CE=!1;a.html.G4=!1;a.html.RD=!1;a.Eb={};a.Eb.icons=!0;a.Eb.Ay=!1;a.Eb.$u="default";a.Eb.url=!1;a.Eb.W5=[];a.Eb.ey=!1;a.types={};a.types.X1=[];a.types.Cu=!1;a.types.hc={maxChildren:-1,maxDepth:-1,validChildren:"all",useData:!1,attr:"type",types:{"default":{maxChildren:-1,maxDepth:-1,validChildren:"all"}}};a.menu={};a.menu.sh=!1;a.menu.Pe=
!1;a.menu.av=!1;a.menu.Tj=!1;a.menu.OD=!1;a.keys={};a.keys.soa=!0;a.keys.bound=[]},OV:function(a){var b=this.ua[0];b.scrollHeight>b.offsetHeight&&(a=this.sa(a))&&-1!==a&&a.length&&a.is(":visible")&&(a=a.offset().top-this.ua.offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.i.Z.Uo+(b.scrollWidth>b.offsetWidth?m:0)>b.offsetHeight&&(b.scrollTop+=a-b.offsetHeight+this.i.Z.Uo+1+(b.scrollWidth>b.offsetWidth?m:0)))},Ik:function(){},usa:function(){},Iia:function(){return++s},bh:function(){return this.Nga},
rq:function(){return f.extend(!0,{},this.options)},Tra:function(){return this.ua},Ura:function(){return this.aa},Ot:{up:function(){this.hover(this.Wl(this.i.ui.Hb||this.i.ui.Ob||-1));return!1},"ctrl+up":function(){this.hover(this.Wl(this.i.ui.Hb||this.i.ui.Ob||-1));return!1},"shift+up":function(){this.select(this.Wl(this.i.ui.Hb||this.i.ui.Ob||-1),-1!==this.i.ui.Sm);return!1},down:function(){this.hover(this.qq(this.i.ui.Hb||this.i.ui.Ob||-1));return!1},"ctrl+down":function(){this.hover(this.qq(this.i.ui.Hb||
this.i.ui.Ob||-1));return!1},"shift+down":function(){this.select(this.qq(this.i.ui.Hb||this.i.ui.Ob||-1),-1!==this.i.ui.Sm);return!1},left:function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&(a.hasClass(b.pi)?this.collapse(a):this.hover(this.Wl(a)));return!1},"ctrl+left":function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&(a.hasClass(b.pi)?this.collapse(a):this.hover(this.Wl(a)));return!1},"shift+left":function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&(a.hasClass(b.pi)?this.collapse(a):this.hover(this.Wl(a)));
return!1},right:function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&a.length&&(a.hasClass(b.vf)?this.expand(a):this.hover(this.qq(a)));return!1},"ctrl+right":function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&a.length&&(a.hasClass(b.vf)?this.expand(a):this.hover(this.qq(a)));return!1},"shift+right":function(){var a=this.i.ui.Hb||this.i.ui.Ob;a&&a.length&&(a.hasClass(b.vf)?this.expand(a):this.hover(this.qq(a)));return!1},space:function(){this.i.ui.Hb&&(this.i.ui.kP=!0,this.i.ui.Hb.children("a:eq(0)").click(),
this.i.ui.kP=!1);return!1},home:function(){this.hover(this.aa.find("li:first"));return!1},end:function(){var a=this.aa.find("li.oj-tree-last:visible");a&&a.length&&this.hover(a[a.length-1]);return!1},"*":function(){this.aa.find("a");this.AI(-1,!1);return!1},"ctrl+space":function(){if(this.i.ui.Hb){var a=f.Event("click");a.ctrlKey=!0;this.i.ui.Hb.children("a:eq(0)").trigger(a)}return!1},"shift+space":function(){if(this.i.ui.Hb){var a=f.Event("click");a.shiftKey=!0;this.i.ui.Hb.children("a:eq(0)").trigger(a)}return!1},
"shift+home":function(a){var b,c=this.i.ui.Hb;if(c){var d=!0,e=this,g=this.aa.find("li:visible");this.i.Z.Kr=!0;b=this.options.selection.slice(0);c=c[0];f.each(g,function(a,b){b==c&&(d=!1);e.Dj(b,!0);return d});this.i.Z.Kr=!1;this.Fw("selection",b,null,a)}return!1},"shift+pgdn":function(a){var b,c=this.i.ui.Ob||this.i.ui.Hb;if(c){var d=!1,e=this,g=this.aa.find("li:visible");this.i.Z.Kr=!0;b=this.options.selection.slice(0);c=c[0];f.each(g,function(a,b){d||(d=b==c);d&&!e.isSelected(b)&&e.Dj(b,!0);return!0});
this.i.Z.Kr=!1;this.Fw("selection",b,null,a)}return!1},f2:function(){this.LU(this.i.ui.Hb||this.i.ui.Ob);return!1},del:function(){this.remove(this.i.ui.Hb||this.sa(null));return!1}},aw:function(){if(this.i.menu.sh){var a=this.i.menu.Pe,b=this;a.on("ojselect",f.proxy(this.uj,this));var c=!1;a.find("[data-oj-command]").each(function(){var a;0===f(this).children("a").length&&(a=f(this).attr("data-oj-command").split("oj-tree-"),f(this).replaceWith(b.ti(a[a.length-1])),f(this).hasClass("oj-menu-divider")&&
f(this).removeClass("oj-menu-divider").addClass("oj-menu-item"),c=!0)});c&&a.ojMenu("refresh");this.i.menu.av=a.find("#ojtreepaste")}},Zp:function(){var a=this.i.menu;a.sh&&(a.sh=!1,a.Pe.off("ojselect"),a.Pe=null)},ti:function(a){return f(this.lg(a))},lg:function(a){return"\x3cli id\x3d"+k[a]+"\x3e"+this.nH(a)+"\x3c/li\x3e"},nH:function(a){return'\x3ca href\x3d"#"\x3e'+this.zJ(l[a])+"\x3c/a\x3e"},lca:function(a){a=this.sa(a,!0);if(!a||!a.length)return!1;this.i.Fc.hr=!1;this.i.Fc.Ki=a;this.xb({obj:a},
"cut")},jca:function(a){a=this.sa(a,!0);if(!a||!a.length)return!1;this.i.Fc.Ki=!1;this.i.Fc.hr=a;this.xb({obj:a},"copy")},mca:function(a){a=this.sa(a);if(!a||!a.length)return!1;var b=this.i.Fc.Ki?this.i.Fc.Ki:this.i.Fc.hr;if(!this.i.Fc.Ki&&!this.i.Fc.hr)return!1;this.i.Fc.Ki&&(this.eI(this.i.Fc.Ki,a),this.i.Fc.Ki=!1);this.i.Fc.Ki&&(this.eI(this.i.Fc.Ki,a),this.i.Fc.Ki=!1);this.i.Fc.hr&&this.eI(this.i.Fc.hr,a,!1,!0);this.xb({obj:a,nodes:b},"paste")},eI:function(a,b,c,d,e,f){var g=this.i.Fc.hc.move;
if(!e)return"undefined"===typeof c&&(c=g.defaultPosition),"inside"!==c||g.defaultPosition.match(/^(before|after)$/)||(c=g.defaultPosition),this.vx(a,b,c,d,!1,f);if(!0===g.alwaysCopy||"multitree"===g.alwaysCopy&&a.gp.bh()!==a.kl.bh())d=!0;this.vx(a,b,c,d,!0,f)},KU:function(a){a=this.sa(a,!0);this.Tp();this.remove(a)},LU:function(a){a=this.sa(a);this.Tp();this.MU(a,function(){})},MU:function(a,b){a=this.sa(a);var c=this.xC,d=this.i.Fc.hc.inputWidthLimit,e=a.children("ins").width(),g=a.find("\x3e a:visible \x3e ins").width()*
a.find("\x3e a:visible \x3e ins").length,h=this.getText(a),k=this,l=f("\x3cdiv /\x3e",{css:{position:"absolute",top:"-200px",left:c?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=a.css("position","relative").append(f("\x3cinput /\x3e",{value:h,"class":"oj-tree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:c?"auto":e+g+4+"px",right:c?e+g+4+"px":"auto",top:"0px",height:this.i.Z.Uo-2+"px",lineHeight:this.i.Z.Uo-2+"px",width:"150px"},blur:f.proxy(function(){var c=
a.children(".oj-tree-rename-input"),d=c.val();""===d&&(d=h);l.remove();c.remove();this.WL(a,h);this.E_(a,d);b.call(this,a,d,h);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;if(!k.tI)return k.tI=!0,!1;27==a?(k.tI=!1,this.value=h,this.blur()):13==a?(k.tI=!1,this.blur()):m.width(Math.min(l.text("pW"+this.value).width(),d))},keypress:function(a){if(13==(a.keyCode||a.which))return!1}})).children(".oj-tree-rename-input");this.WL(a,"");l.css({fontFamily:m.css("fontFamily")||"",fontSize:m.css("fontSize")||
"",fontWeight:m.css("fontWeight")||"",fontStyle:m.css("fontStyle")||"",fontStretch:m.css("fontStretch")||"",fontVariant:m.css("fontVariant")||"",letterSpacing:m.css("letterSpacing")||"",wordSpacing:m.css("wordSpacing")||""});m.width(Math.min(l.text("pW"+m[0].value).width(),d))[0].select()},kca:function(a,c,d,e,g){var h=this;(a=this.sa(a))||(a=-1);this.Tp();return this.uw(a,c,d,function(a){var c=this.tj(a),d=f(a).index();e&&e.call(this,a);c.length&&c.hasClass(b.vf)&&this.expand(c,!1,!0);g?h.xb({obj:a,
name:this.getText(a),parent:c,position:d}):this.MU(a,function(a,b){h.xb({obj:a,name:b,parent:c,position:d})})})},Bha:function(a){var b=!1;a&&3<=a.length&&(a=a.trim(),b="\x3c"===a.charAt(0));return b},caa:function(){var a=this.options.emptyText;"string"!==typeof a&&(a=this.zJ("labelNoData"));if(a&&0<a.length){var b=this.aa,c=f("\x3cli class\x3d'oj-tree-empty'\x3e\x3c/li\x3e");c[0].textContent=a;b.empty().append(c)}},wja:function(a){var b,c,d;d=null;var e;a&&(b=a.subId);if(!b)return null;d=b.split("[");
if(3===d.length&&(d[0]=d[0].trim(),"oj-tree-node"===d[0]&&(d[1]=d[1].trim(),b=d[1].charAt(0),b=d[1].indexOf(b,1),0<=b&&(a=d[1].substring(1,b).trim(),d[2]=d[2].trim(),b=d[2].charAt(0),b=d[2].indexOf(b,1),0<=b)))){d=d[2].substring(1,b).trim();try{c=this.sa(a)}catch(f){c=null}if(d&&c&&-1!==c)switch(d){case "icon":this.i.Eb.icons&&(e=c.find(" \x3e a \x3e ins:eq(0)"));break;case "link":e=c.find(" \x3e a:eq(0)");break;case "disclosure":this.xK(c)||(e=c.find(" \x3e ins:eq(0)"));break;case "title":e=c.find(" \x3e a \x3e span")}}return e?
e.length?e[0]:null:null},Yea:function(a){var b=a?this.sa(a):null,c,d=null;b&&-1!=b&&b.length&&b.hasClass("oj-tree-node")&&a.tagName&&a.parentNode&&(b=a.tagName,c=a.parentNode,c=c.tagName,"SPAN"===b?d="title":"A"===b?d="link":"INS"===b&&(a=f(a),"LI"===c&&a.hasClass("oj-tree-disclosure-icon")?d="disclosure":"A"===c&&a.hasClass("oj-tree-node-icon")&&(d="icon")));return d},RX:function(){this.i.Eb.Ay=!1;this.ua.children("ul").addClass("oj-tree-no-dots")},I0:function(){this.i.Eb.Ay=!0;this.ua.children("ul").removeClass("oj-tree-no-dots")},
Hha:function(){var a=this.options.initExpanded;return a&&"all"==a||f.isArray(a)&&a.length&&"all"==a[0]},zJ:function(a){var b=this.i.Z.Nqa,c;c=b[a];c||(c=this.A(a),c=this.oB(c),b[a]=c);return c},oB:function(a){var b=document.createElement("div");f(b).text(a);return b.textContent},$ra:function(){return this.i.Z.Uo},Bda:function(){var a=0,b,c;window.getComputedStyle&&(c=this.i.ui.Q1,c||(c=f("\x3cdiv id\x3d'ojtree-comp-animduration'\x3e\x3cspan class\x3d'oj-tree-transition'\x3edummy\x3c/span\x3e\x3c/div\x3e"),
this.i.ui.Q1=c,f("body").append(c)),b=c[0].childNodes[0],b=window.getComputedStyle(b),b=b.transitionDuration?b.transitionDuration:b["-webkit-transition-duration"]?b["-webkit-transition-duration"]:0,c.detach(),"string"==typeof b&&1<b.length&&(c=b.charAt(b.length-1).toLowerCase(),"s"==c?(b=b.substring(0,b.length-1),b=parseFloat(b),isNaN(b)||(a=1E3*b)):2<b.length&&(c=b.substring(b.length-2).toLowerCase(),"ms"==c&&(b=parseFloat(b),isNaN(b)||(a=b)))));return a},cna:function(a,b){var c={};c[b]=a[b];return f.extend(!0,
{},c)[b]},w1:function(a){this.xb({obj:{msg:a}},"trace",!0)}})})()});