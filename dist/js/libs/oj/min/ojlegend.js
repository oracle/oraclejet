/**
 * @license
 * Copyright (c) 2014, 2022, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["ojs/ojcore-base","ojs/ojcomponentcore","ojs/ojdvt-base","jquery","ojs/ojlegend-toolkit","ojs/ojkeyset"],function(e,t,n,i,o,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var s={properties:{as:{type:"string",value:""},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"unsupported",since:"13.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},drilling:{type:"string",enumValues:["off","on"],value:"off"},expanded:{type:"KeySet",writeback:!0},halign:{type:"string",enumValues:["center","end","start"],value:"start"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["off","on"],value:"off"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},hoverBehaviorDelay:{type:"number",value:200},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sections:{type:"Array<Object>"},symbolHeight:{type:"number",value:0},symbolWidth:{type:"number",value:0},textStyle:{type:"object",value:{}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{accessibleContainsControls:{type:"string"},componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipCollapse:{type:"string"},tooltipExpand:{type:"string"}}},valign:{type:"string",enumValues:["bottom","middle","top"],value:"top"}},methods:{getContextByNode:{},getItem:{},getPreferredSize:{},getProperty:{},getSection:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{}},extension:{}};s.extension._WIDGET_NAME="ojLegend",e.CustomElementBridge.register("oj-legend",{metadata:s});var a={properties:{borderColor:{type:"string",value:""},categories:{type:"Array<string>",value:[]},categoryVisibility:{type:"string",enumValues:["hidden","visible"],value:"visible"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerShape:{type:"string",value:"square"},markerSvgClassName:{type:"string",value:""},markerSvgStyle:{type:"object"},pattern:{type:"string",enumValues:["largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","none","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"none"},shortDesc:{type:"string",value:""},source:{type:"string",value:""},svgClassName:{type:"string",value:""},svgStyle:{type:"object"},symbolType:{type:"string",enumValues:["image","line","lineWithMarker","marker"],value:"marker"},text:{type:"string",value:""}},extension:{}};!function(){a.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-legend-item",{metadata:a,parseFunction:n.shapeParseFunction({"marker-shape":!0},{circle:!0,ellipse:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,rectangle:!0,star:!0,square:!0})})}();var l={properties:{collapsible:{type:"string",enumValues:["off","on"],value:"off"},text:{type:"string",value:""},textHalign:{type:"string",enumValues:["center","end","start"],value:"start"},textStyle:{type:"object",value:{}}},extension:{}};l.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-legend-section",{metadata:l}),e.__registerWidget("oj.ojLegend",i.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,drilling:"off",halign:"start",hiddenCategories:[],hideAndShowBehavior:"off",highlightedCategories:[],hoverBehavior:"none",hoverBehaviorDelay:200,orientation:"vertical",scrolling:"asNeeded",sections:null,symbolHeight:0,symbolWidth:0,textStyle:{},valign:"top",drill:null},_CreateDvtComponent:function(e,t,n){return new o.Legend(e,t,n)},_InitOptions:function(e,t){this._super(e,t);var n=this.options.expanded;this.options.expanded=n},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-legend-item"===t?(t="section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-legend-tooltip"===t&&(t="tooltip"),t},_ConvertSubIdToLocator:function(e){var t={};if(e.indexOf(":item")>0){var n=e.indexOf(":item"),i=e.substring(0,n),o=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(i),t.itemIndex=this._GetFirstIndex(o)}else"tooltip"===e&&(t.subId="oj-legend-tooltip");return t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-legend"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-legend"]={path:"textStyle",property:"TEXT"},e["oj-legend-section-title"]={path:"_sectionTitleStyle",property:"TEXT"},e["oj-legend-hover"]={path:"_hoverBorderRadius",property:"border-radius"},e},_GetEventTypes:function(){return["drill","expand","collapse"]},_HandleEvent:function(e){var t=e.type;"drill"===t?this._trigger("drill",null,{id:e.id}):"expand"===t||"collapse"===t?this._UserOptionChange("expanded",e.expanded):this._super(e)},_RemoveKeys:function(e){var t;this._super(e);var n=this.options.expanded;n&&!n.isAddAll()&&(e.forEach(function(e){n.has(e)&&(n=n.delete([e]),t=!0)}),t&&this._UserOptionChange("expanded",n))},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources,t="rtl"===this._GetReadingDirection();e.closed="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"w":"e"),e.open="oj-fwk-icon oj-fwk-icon-arrow-"+(t?"sw":"se")},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:function(e){return e&&e.children?"sectionTemplate":"itemTemplate"},templateElementName:function(e){return e&&e.children?"oj-legend-section":"oj-legend-item"},resultPath:"sections",getAliasedPropertyNames:function(e){return"oj-legend-section"===e?{text:"title",textHalign:"titleHalign",textStyle:"titleStyle"}:{}},processChildrenData:function(e,t,n){e.sections=[],e.items=[];for(var i=0;i<n.length;i++){var o=n[i];t.children[i].children?e.sections.push(o):e.items.push(o)}},expandedKeySet:new r.AllKeySetImpl,processOptionData:function(e){for(var t={sections:[],items:[]},n=0;n<e.length;n++)e[n].items||e[n].sections?t.sections.push(e[n]):t.items.push(e[n]);return t.items.length>0?[t]:e}}}},_Render:function(){this._super()},getTitle:function(){return this._component.getAutomation().getTitle()},getSection:function(e){var t=this._component.getAutomation().getSection(e);return t&&(t.getSection=function(e){return t.sections?t.sections[e]:null},t.getItem=function(e){return t.items?t.items[e]:null}),t},getItem:function(e){return this._component.getAutomation().getItem(e)},getPreferredSize:function(e,t){var n=!1;if(this.options.data&&this._DataProviderHandler.isDataProvider(this.options.data))n=!0;else for(var i=this.options.sections?this.options.sections:[],o=0;o<i.length;o++){var r=i[o].items;r&&r.then&&(n=!0)}var s=n?null:this.options,a=this._component.getPreferredSize(s,e,t);return{width:a.w,height:a.h}},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-legend-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{sections:["items"],root:["data"]}},_GetComponentNoClonePaths:function(){var e=this._super();return e.sections={items:!0},e}}),t.setDefaultOptions({ojLegend:{expanded:t.createDynamicPropertyGetter(function(e){return e.isCustomElement&&e.element.getAttribute("data")?new r.AllKeySetImpl:null})}})});
//# sourceMappingURL=ojlegend.js.map