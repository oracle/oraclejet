/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtLegend"],function(e,t,n,o,i){var s={properties:{drilling:{type:"string",enumValues:["off","on"],value:"off"},halign:{type:"string",enumValues:["center","end","start"],value:"start"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["off","on"],value:"off"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},hoverBehaviorDelay:{type:"number",value:200},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sections:{type:"Array<Object>"},symbolHeight:{type:"number",value:0},symbolWidth:{type:"number",value:0},textStyle:{type:"object"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},valign:{type:"string",enumValues:["bottom","middle","top"],value:"top"}},methods:{getSection:{},getItem:{},getPreferredSize:{},getContextByNode:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojDrill:{}},extension:{}};e.__registerWidget("oj.ojLegend",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{drilling:"off",halign:"start",hiddenCategories:[],hideAndShowBehavior:"off",highlightedCategories:[],hoverBehavior:"none",hoverBehaviorDelay:200,orientation:"vertical",scrolling:"asNeeded",sections:null,symbolHeight:0,symbolWidth:0,textStyle:void 0,valign:"top",drill:null},_CreateDvtComponent:function(e,t,n){return i.Legend.newInstance(e,t,n)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-legend-item"==t?(t="section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-legend-tooltip"==t&&(t="tooltip"),t},_ConvertSubIdToLocator:function(e){var t={};if(e.indexOf(":item")>0){var n=e.indexOf(":item"),o=e.substring(0,n),i=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(o),t.itemIndex=this._GetFirstIndex(i)}else"tooltip"==e&&(t.subId="oj-legend-tooltip");return t},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-legend"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-legend"]={path:"textStyle",property:"TEXT"},e["oj-legend-title"]={path:"titleStyle",property:"TEXT"},e["oj-legend-section-title"]={path:"_sectionTitleStyle",property:"TEXT"},e},_GetTranslationMap:function(){var e=this.options.translations,t=this._super();return t["DvtUtilBundle.LEGEND"]=e.componentName,t},_GetEventTypes:function(){return["drill"]},_HandleEvent:function(e){"drill"===e.type?this._trigger("drill",null,{id:e.id}):this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.closedEnabled="oj-legend-section-close-icon",e.closedOver="oj-legend-section-close-icon oj-hover",e.closedDown="oj-legend-section-close-icon oj-active",e.openEnabled="oj-legend-section-open-icon",e.openOver="oj-legend-section-open-icon oj-hover",e.openDown="oj-legend-section-open-icon oj-active"},_Render:function(){this._super()},getTitle:function(){return this._component.getAutomation().getTitle()},getSection:function(e){var t=this._component.getAutomation().getSection(e);return t&&(t.getSection=function(e){return t.sections?t.sections[e]:null},t.getItem=function(e){return t.items?t.items[e]:null}),t},getItem:function(e){return this._component.getAutomation().getItem(e)},getPreferredSize:function(e,t){for(var n=!1,o=this.options.sections?this.options.sections:[],i=0;i<o.length;i++){var s=o[i].items;s&&s.then&&(n=!0)}var r=n?null:this.options,l=this._component.getPreferredSize(r,e,t);return{width:l.getWidth(),height:l.getHeight()}},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-legend-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{sections:["items"]}},_GetComponentNoClonePaths:function(){return{sections:{items:!0}}}}),s.extension._WIDGET_NAME="ojLegend",e.CustomElementBridge.registerMetadata("oj-legend","dvtBaseComponent",s),e.CustomElementBridge.register("oj-legend",{metadata:e.CustomElementBridge.getMetadata("oj-legend")})});