/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","preact/jsx-runtime","@oracle/oraclejet-preact/UNSAFE_MessageBanner","@oracle/oraclejet-preact/hooks/UNSAFE_useMessagesContext","ojs/ojtranslation","ojs/ojcontext","ojs/ojdataproviderhandler","ojs/ojvcomponent","preact","ojs/ojbutton"],function(e,t,s,a,o,n,r,i,d,l){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var c=function(e,t,s,a){var o,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(r=(n<3?o(r):n>3?o(t,s,r):o(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};e.MessageBanner=class extends d.Component{static getDerivedStateFromProps(e,t){const{data:s}=e,{dataProviderCount:a,previousDataProvider:o}=t;return s!==o?{dataProviderCount:a+1,previousDataProvider:s}:null}constructor(e){super(e),this._addBusyState=e=>n.getContext(this._rootRef.current).getBusyContext().addBusyState({description:e}),this._detailRendererKeyProxy=e=>{const{detailTemplateValue:t}=this.props;if("function"==typeof t){const s=t(e);return null===s?void 0:s}return t},this._handleCloseMessage=e=>{this.props.onOjClose?.(e)},this._renderCloseButton=(e,s)=>t.jsxs("oj-button",{class:"oj-button-sm",display:"icons",chroming:"borderless",title:e,onojAction:s,children:[t.jsx("span",{slot:"startIcon",class:"oj-fwk-icon oj-fwk-icon-cross"}),t.jsx("span",{children:e})]}),this._rootRef=d.createRef(),this.state={dataProviderCount:0,previousDataProvider:e.data},this.WrapperMessagesContainer=r.withDataProvider(s.MessageBanner,"data")}render(e){const{data:s,detailTemplateValue:n,messageTemplates:r,type:d}=e,{dataProviderCount:l}=this.state,c={addBusyState:this._addBusyState},g="function"==typeof n?this._detailRendererKeyProxy:n;return t.jsx(i.Root,{ref:this._rootRef,children:t.jsx(a.MessagesContext.Provider,{value:c,children:t.jsx(this.WrapperMessagesContainer,{addBusyState:this._addBusyState,data:s,type:d,closeButtonRenderer:this._renderCloseButton,detailRendererKey:g,renderers:r,onClose:this._handleCloseMessage,translations:{close:o.getTranslatedString("oj-ojMessageBanner.close"),navigationFromMessagesRegion:o.getTranslatedString("oj-ojMessageBanner.navigationFromMessagesRegion"),navigationToMessagesRegion:o.getTranslatedString("oj-ojMessageBanner.navigationToMessagesRegion"),error:o.getTranslatedString("oj-ojMessageBanner.error"),warning:o.getTranslatedString("oj-ojMessageBanner.warning"),info:o.getTranslatedString("oj-ojMessageBanner.info"),confirmation:o.getTranslatedString("oj-ojMessageBanner.confirmation")}},`dataProvider${l}`)})})}},e.MessageBanner.defaultProps={type:"section"},e.MessageBanner._metadata={properties:{data:{type:"object"},type:{type:"string",enumValues:["section","page"]},detailTemplateValue:{type:"string|function"}},extension:{_DYNAMIC_SLOT:{prop:"messageTemplates",isTemplate:1}},events:{ojClose:{}}},e.MessageBanner=c([i.customElement("oj-message-banner")],e.MessageBanner),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojmessagebanner.js.map