{"version":3,"names":["define","oj","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","constructor","dataProvider","options","_a","_b","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","CacheAsyncIterator","Symbol","asyncIterator","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","next","size","signal","aborted","reason","Promise","reject","DOMException","resolve","addEventListener","e","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","_getFinalResult","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","cachedFetchParams","sortCriteria","fetchParameters","CacheAsyncIteratorYieldResult","CacheAsyncIteratorReturnResult","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","_firstIteratorState","getCapability","containsKeys","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeysResults","fetchByKeys","Map","item","set","fetchByKeysResults","fetchByOffset","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchFirst","capabilityName","capability","attributeFilter","caching","getTotalSize","filterDef","isEmpty","static","cachedParams","compareValues","_getFilterDef","filterCriterion","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"mappings":"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"}