{"version":3,"names":["define","oj","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","constructor","dataProvider","options","_a","_b","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","CacheAsyncIterator","Symbol","asyncIterator","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","next","size","signal","aborted","reason","Promise","reject","DOMException","resolve","addEventListener","e","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","_getFinalResult","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","CacheAsyncIteratorYieldResult","CacheAsyncIteratorReturnResult","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","cachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","getCapability","containsKeys","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeysResults","fetchByKeys","Map","item","set","fetchParameters","fetchByKeysResults","fetchByOffset","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchFirst","_firstIteratorState","capabilityName","capability","attributeFilter","caching","getTotalSize","filterDef","isEmpty","static","cachedParams","compareValues","_getFilterDef","filterCriterion","sortCriteria","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"mappings":";;;;;;;AAOAA,OAAO,CAAC,kBAAmB,oBAAqB,uBAAwB,SAAUC,EAAIC,EAAeC,GAAmB,aAEpHF,EAAKA,GAAMG,OAAOC,UAAUC,eAAeC,KAAKN,EAAI,WAAaA,EAAY,QAAIA;;;;;;;;;;;;AA6IjF,MAAMO,EACFC,YAAYC,EAAcC,GACtB,IAAIC,EAAIC,EACRC,KAAKJ,aAAeA,EACpBI,KAAKH,QAAUA,EACfG,KAAKC,oBAAsBF,EAAK,MACxBJ,YAAYO,EAASC,EAA2BC,EAAQC,GACpDL,KAAKE,QAAUA,EACfF,KAAKG,0BAA4BA,EACjCH,KAAKI,OAASA,EACdJ,KAAKK,MAAQA,EACbL,KAAKF,GAAM,IACA,IAAIE,KAAKE,QAAQI,mBAAmBN,KAAKE,QAASF,KAAKG,0BAA2BH,KAAKI,OAAQJ,KAAKK,MAEnH,GAEJP,EAAKS,OAAOC,cACZT,GACJC,KAAKM,mBAAqB,MACtBX,YAAYO,EAASM,EAAeJ,EAAQC,GACxCL,KAAKE,QAAUA,EACfF,KAAKQ,cAAgBA,EACrBR,KAAKI,OAASA,EACdJ,KAAKK,MAAQA,EACbL,KAAKS,cAAgB,EACrBT,KAAKU,mBAC4C,YAA7CR,EAAQL,SAASc,yBACuB,YAApCP,GAAQO,yBACqD,UAA7DT,EAAQU,2BAA2BC,qBAC/C,CACAC,OACI,MAAMV,EAASJ,KAAKI,OACdW,EAAOX,GAAQW,KAAOX,EAAOW,MAAQ,EACrCC,EAASZ,GAAQY,OACvB,GAAIA,GAAUA,EAAOC,QAAS,CAC1B,MAAMC,EAASF,EAAOE,OACtB,OAAOC,QAAQC,OAAO,IAAIC,aAAaH,EAAQ,cACnD,CACA,OAAO,IAAIC,QAAQ,CAACG,EAASF,KACzB,GAAIJ,EAAQ,CACR,MAAME,EAASF,EAAOE,OACtBF,EAAOO,iBAAiB,QAAUC,GACvBJ,EAAO,IAAIC,aAAaH,EAAQ,eAE/C,CACA,OAAIlB,KAAKU,oBAA6C,IAAvBV,KAAKS,cACzBa,EAAQtB,KAAKyB,6BAA6BrB,GAAS,GAAGsB,KAAMC,GACxD3B,KAAK4B,WAAWxB,EAAQW,EAAMf,KAAKE,QAAQG,MAAMwB,aAIrDP,EAAQtB,KAAK4B,WAAWxB,EAAQW,EAAMf,KAAKU,mBAAqBV,KAAKE,QAAQG,MAAMwB,eAAYC,GAC1G,EAER,CACAF,WAAWxB,EAAQW,EAAMF,GACrB,IAAIc,EACJ,IAAc,IAAVZ,GACA,GAAIf,KAAKK,MAAM0B,SAGX,OAFAJ,EAAS3B,KAAKK,MAAM2B,YAAY5B,EAAQJ,KAAKS,eAC7CT,KAAKS,cAAgBT,KAAKS,cAAgBkB,EAAOM,KAAKC,OAC/Cf,QAAQG,QAAQtB,KAAKmC,gBAAgBR,EAAQd,QAGvD,CACD,GAAIb,KAAKK,MAAMwB,WAAa7B,KAAKS,cAAgBM,GAAQf,KAAKK,MAAM0B,SAGhE,OAFAJ,EAAS3B,KAAKK,MAAM2B,YAAY5B,EAAQJ,KAAKS,eAC7CT,KAAKS,cAAgBT,KAAKS,cAAgBkB,EAAOM,KAAKC,OAC/Cf,QAAQG,QAAQtB,KAAKmC,gBAAgBR,EAAQd,IAEnD,GAAIb,KAAKS,cAAgB,EAC1B,OAAO,IAAIU,QAAQ,CAACG,EAASF,KACzB,GAAIpB,KAAKE,QAAQkC,0BAA0BC,YAAcrC,KAAKS,cAAe,CACzE,MAAM6B,EAAmB,IACdtC,KAAKyB,6BAA6BrB,EAAQW,GAAMW,KAAMC,IACzD,KAAI3B,KAAKE,QAAQkC,0BAA0BC,aAAerC,KAAKS,eAC3DkB,EAAOY,MAIP,OAAOD,IAHPhB,GAIJ,GAGR,OAAOgB,GACX,CAEIhB,GACJ,GACDI,KAAK,IACG1B,KAAKyB,6BAA6BrB,EAAQW,GAAMW,KAAMC,IACzD3B,KAAKS,cAAgBT,KAAKE,QAAQkC,0BAA0BC,YACrDlB,QAAQG,QAAQtB,KAAKmC,gBAAgBR,EAAOa,MAAO3B,MAI1E,CACA,OAAOb,KAAKyB,6BAA6BrB,EAAQW,GAAMW,KAAMC,IACzD3B,KAAKS,cAAgBT,KAAKE,QAAQkC,0BAA0BC,YACrDlB,QAAQG,QAAQtB,KAAKmC,gBAAgBR,EAAOa,MAAO3B,KAElE,CACAsB,gBAAgBR,EAAQd,GACpB,OAAOc,GAAQM,MAAMC,OAAS,EACxB,IAAIlC,KAAKE,QAAQuC,8BAA8Bd,EAAQd,GACvD,IAAIb,KAAKE,QAAQwC,+BAA+Bf,EAAQd,EAClE,CACAY,6BAA6BrB,EAAQW,GACjC,IAAI4B,EACAC,EAAiC5C,KAAKE,QAAQkC,0BAA0BS,kBACxEC,EAAiC9C,KAAKE,QAAQkC,0BAA0BC,YACxEU,EAAkC/C,KAAKE,QAAQkC,0BAA0BY,aA2B7E,OA1BID,GACA/C,KAAKS,gBAAkBqC,GACvBpD,EAAkCuD,8BAA8B7C,EAAQwC,GACxED,EAA4BI,GAG5B/C,KAAKE,QAAQkC,0BAA0BS,kBACnCnD,EAAkCwD,yBAAyB9C,GAC/DJ,KAAKE,QAAQkC,0BAA0BY,aAAehD,KAAKQ,cACtDM,OACAY,KAAMC,IACP3B,KAAKE,QAAQkC,0BAA0BC,YACnCrC,KAAKE,QAAQkC,0BAA0BC,YAAcV,EAAOa,MAAMP,KAAKC,OAC3ElC,KAAKE,QAAQkC,0BAA0BY,aAAe,KACtDhD,KAAKK,MAAM8C,cAAcxB,IACV,IAAVZ,IAAgBf,KAAKK,MAAM0B,UAC3BhB,EAAO,IAAMf,KAAKK,MAAM0B,UAAYJ,EAAOa,MAAMP,KAAKC,OAASnB,EACzDf,KAAKQ,cAAcM,OAAOY,KAAM0B,IACnCpD,KAAKK,MAAM8C,cAAcC,GAClBzB,IAGRA,IAEXgB,EAA4B3C,KAAKE,QAAQkC,0BAA0BY,cAEhEL,CACX,GAEJ3C,KAAKyC,8BAAgC,MACjC9C,YAAY6C,EAAO3B,GACfb,KAAKwC,MAAQA,EAETxC,KAAKN,EAAkC2D,aADbvB,IAA1BjB,EACiDvB,OAAOgE,OAAO,CAAEzC,yBAAyB2B,GAGzCA,EAErDxC,KAAKN,EAAkC6D,QAAS,CACpD,GAEJvD,KAAK0C,+BAAiC,MAClC/C,YAAY6C,EAAO3B,GACfb,KAAKwC,MAAQA,EAETxC,KAAKN,EAAkC2D,aADbvB,IAA1BjB,EACiDvB,OAAOgE,OAAO,CAAEzC,yBAAyB2B,GAGzCA,EAErDxC,KAAKN,EAAkC6D,QAAS,CACpD,GAEJvD,KAAKK,MAAQ,IAAIlB,EAAGqE,UACpBxD,KAAKyD,iBAAmB,KACpB7D,EAAa8D,wBACb1D,KAAK0D,sBAAyBC,GACnB/D,EAAa8D,sBAAsBC,IAG9C/D,EAAagE,wBACb5D,KAAK4D,sBAAyBC,GACnBjE,EAAagE,sBAAsBC,IAGlDjE,EAAa2B,iBAAiB7B,EAAkCoE,QAAUC,IACtE/D,KAAKK,MAAM2D,iBAAiBD,EAAME,QAClCjE,KAAKkE,cAAcH,EAAM,GAE7BnE,EAAa2B,iBAAiB7B,EAAkCyE,SAAWJ,IACvE/D,KAAKK,MAAM+D,QACXpE,KAAKyD,iBAAmB,KACxBzD,KAAKkE,cAAcH,EAAM,GAE7B/D,KAAKY,0BAA4BhB,EAAayE,cAAc,aAChE,CACAC,aAAalE,GACT,MAAMmE,EAAe,IAAIC,IACnBC,EAAa,IAAID,IACjBE,EAAe1E,KAAKK,MAAMsE,cAAcvE,GAU9C,GATAA,EAAOwE,KAAKC,QAASC,IACJJ,EAAaK,QAAQC,IAAIF,GAElCP,EAAaU,IAAIH,GAGjBL,EAAWQ,IAAIH,EACnB,GAEoB,IAApBL,EAAW1D,KACX,OAAOI,QAAQG,QAAQ,CAAE4D,mBAAoB9E,EAAQ2E,QAASR,IAE7D,CACD,MAAMY,EAAY,CAAEC,WAAYhF,EAAOgF,WAAYR,KAAMH,EAAYY,MAAOjF,EAAOiF,OACnF,OAAOrF,KAAKJ,aAAa0E,aAAaa,GAAWzD,KAAM4D,IACnDA,EAAoBP,QAAQF,QAASC,IACjCP,EAAaU,IAAIH,EAAI,GAElB,CAAEI,mBAAoB9E,EAAQ2E,QAASR,IAEtD,CACJ,CACAgB,YAAYnF,GACR,MAAMmE,EAAe,IAAIiB,IACnBf,EAAa,IAAID,IACjBxD,EAASZ,GAAQY,OACvB,GAAIA,GAAUA,EAAOC,QAAS,CAC1B,MAAMC,EAASF,EAAOE,OACtB,OAAOC,QAAQC,OAAO,IAAIC,aAAaH,EAAQ,cACnD,CACA,OAAO,IAAIC,QAAQ,CAACG,EAASF,KACzB,GAAIJ,EAAQ,CACR,MAAME,EAASF,EAAOE,OACtBF,EAAOO,iBAAiB,QAAUC,GACvBJ,EAAO,IAAIC,aAAaH,EAAQ,eAE/C,CACA,MAAMwD,EAAe1E,KAAKK,MAAMsE,cAAcvE,GAU9C,GATAA,EAAOwE,KAAKC,QAASC,IACjB,MAAMW,EAAOf,EAAaK,QAAQC,IAAIF,GAClCW,EACAlB,EAAamB,IAAIZ,EAAKW,GAGtBhB,EAAWQ,IAAIH,EACnB,GAEoB,IAApBL,EAAW1D,KACX,OAAOO,EAAQ,CAAEqE,gBAAiBvF,EAAQ2E,QAASR,IAElD,CACD,MAAMY,EAAY,CACdC,WAAYhF,EAAOgF,WACnBR,KAAMH,EACNY,MAAOjF,EAAOiF,OAElB,OAAO/D,EAAQtB,KAAKJ,aAAa2F,YAAYJ,GAAWzD,KAAMkE,IAC1DA,EAAmBb,QAAQF,QAAQ,CAACY,EAAMX,KACtCP,EAAamB,IAAIZ,EAAKW,EAAK,GAExB,CAAEE,gBAAiBvF,EAAQ2E,QAASR,KAEnD,GAER,CACAsB,cAAczF,GACV,MAAMW,EAAOX,EAAOW,KAAOX,EAAOW,KAAOrB,EAAkCoG,cACrE9E,EAASZ,GAAQY,OACvB,GAAIA,GAAUA,EAAOC,QAAS,CAC1B,MAAMC,EAASF,EAAOE,OACtB,OAAOC,QAAQC,OAAO,IAAIC,aAAaH,EAAQ,cACnD,CACA,OAAO,IAAIC,QAAQ,CAACG,EAASF,KACzB,GAAIJ,EAAQ,CACR,MAAME,EAASF,EAAOE,OACtBF,EAAOO,iBAAiB,QAAUC,GACvBJ,EAAO,IAAIC,aAAaH,EAAQ,eAE/C,CACA,GAAIxB,EAAkCuD,8BAA8B7C,EAAQJ,KAAKyD,mBAC7ErD,EAAO2F,OAAShF,GAAQf,KAAKK,MAAMwB,UAAW,CAC9C,MAAMmE,EAAgBC,KAAKC,MAAMD,KAAKE,UAAU/F,EAAQ,CAAC0E,EAAKtC,KAC1D,IAAIsC,EAAIsB,WAAW,KAGnB,OAAO5D,CAAK,IAEhBwD,EAAcjF,KAAOA,EACrB,MAAMgE,EAAU/E,KAAKK,MAAMgG,gBAAgBL,GAC3C,GAAIjB,EACA,OAAOzD,EAAQyD,EAEvB,CACA,OAAOzD,EAAQtB,KAAKJ,aAAaiG,cAAczF,GAAQ,EAE/D,CACAkG,WAAWlG,GACP,IAAKV,EAAkCuD,8BAA8B7C,EAAQJ,KAAKyD,kBAAmB,CACjGzD,KAAKK,MAAM+D,QACXpE,KAAKyD,iBAAmB/D,EAAkCwD,yBAAyB9C,GACnF,MACMI,EADgBR,KAAKJ,aAAa0G,WAAWlG,GACfG,OAAOC,iBAC3CR,KAAKuG,oBAAsB,CACvB1D,kBAAmB7C,KAAKyD,iBACxBpB,YAAa,EACbW,aAAc,KACdxC,cAAeA,EAEvB,CACA,OAAO,IAAIR,KAAKC,mBAAmBD,KAAMA,KAAKoC,0BAA0B5B,cAAeJ,EAAQJ,KAAKK,MACxG,CACAgE,cAAcmC,GACV,MAAMC,EAAazG,KAAKJ,aAAayE,cAAcmC,GACnD,MAAuB,oBAAnBA,EACO,CAAEE,gBAAiBD,GAAYC,gBAAiBC,QAAS,4BAE7DF,CACX,CACAG,eACI,OAA6B,MAAzB5G,KAAKyD,mBAA6BzD,KAAKyD,iBAAiBoD,WAAa7G,KAAKK,MAAM0B,SACzEZ,QAAQG,QAAQtB,KAAKK,MAAMwB,WAE/B7B,KAAKJ,aAAagH,cAC7B,CACAE,UACI,OAA6B,MAAzB9G,KAAKyD,mBAA6BzD,KAAKyD,iBAAiBoD,WAAa7G,KAAKK,MAAM0B,SAChD,IAAzB/B,KAAKK,MAAMwB,UAAkB,MAAQ,KAEzC7B,KAAKJ,aAAakH,SAC7B,CACA1E,0BACI,OAAOpC,KAAKuG,mBAChB,CACAQ,qCAAqC3G,EAAQ4G,GAEzC,OADA5G,EAASA,GAAU,CAAC,EACI,MAAhB4G,GACJ7H,EAAGG,OAAO2H,cAAcD,EAAa5B,WAAYhF,EAAOgF,YAAc,OACtEjG,EAAGG,OAAO2H,cAAcD,EAAaH,UAAWnH,EAAkCwH,cAAc9G,EAAO+G,mBACvGhI,EAAGG,OAAO2H,cAAcD,EAAaI,aAAchH,EAAOgH,cAAgB,KAClF,CACAL,gCAAgC3G,GAC5BA,EAASA,GAAU,CAAC,EACpB,MAAMyC,EAAoB,CAAC,EAS3B,OARAA,EAAkB9B,KAAOX,EAAOW,KAChC8B,EAAkBuC,WAAahF,EAAOgF,WAChCa,KAAKC,MAAMD,KAAKE,UAAU/F,EAAOgF,aACjC,KACNvC,EAAkBgE,UAAYnH,EAAkCwH,cAAc9G,EAAO+G,iBACrFtE,EAAkBuE,aAAehH,EAAOgH,aAClCnB,KAAKC,MAAMD,KAAKE,UAAU/F,EAAOgH,eACjC,KACCvE,CACX,CACAkE,qBAAqBM,GACjB,IAAKA,EACD,OAAO,KAEX,MAAMR,EAAY,CAAC,EAMnB,OALAvH,OAAOsF,KAAKyC,GAAQxC,QAASyC,IACR,WAAbA,IACAT,EAAUS,GAAYD,EAAOC,GACjC,GAEGT,CACX,EA+BJ,OA7BAnH,EAAkC6H,KAAO,MACzC7H,EAAkC8H,MAAQ,OAC1C9H,EAAkC+H,MAAQ,OAC1C/H,EAAkCgI,YAAc,aAChDhI,EAAkCiI,MAAQ,OAC1CjI,EAAkCkI,cAAgB,eAClDlI,EAAkCmI,iBAAmB,kBACrDnI,EAAkCoI,UAAY,WAC9CpI,EAAkCqI,OAAS,QAC3CrI,EAAkCsI,MAAQ,OAC1CtI,EAAkCuI,QAAU,SAC5CvI,EAAkCyE,SAAW,UAC7CzE,EAAkCoE,QAAU,SAC5CpE,EAAkCwI,MAAQ,OAC1CxI,EAAkCyI,iBAAmB,kBACrDzI,EAAkC2D,OAAS,QAC3C3D,EAAkC6D,MAAQ,OAC1C7D,EAAkC0I,SAAW,UAC7C1I,EAAkC2I,oBAAsB,qBACxD3I,EAAkCoG,cAAgB,GAClDpG,EAAkC4I,cAAgB,eAClD5I,EAAkC6I,aAAe,cACjD7I,EAAkC8I,eAAiB,gBACnD9I,EAAkC+I,YAAc,aAChD/I,EAAkCgJ,kBAAoB,mBACtDhJ,EAAkCiJ,iBAAmB,aACrDvJ,EAAcwJ,iBAAiBC,WAAWnJ,GAC1CP,EAAG2J,6BAA6B,oCAAqCpJ,GAE9DA,CAEX"}