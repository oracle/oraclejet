/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","hammerjs","promise","ojs/ojoffcanvas"],function(e,t,n){e.SwipeToRevealUtils={},e.SwipeToRevealUtils.setupSwipeActions=function(n,a){var o,s,i,l,r,c,p,u,f,d,v;(o=t(n)).hasClass("oj-swipetoreveal")||(o.addClass("oj-swipetoreveal"),s=o.hasClass("oj-offcanvas-start")?"end":"start",(i={}).selector=o,i._animateWrapperSelector="oj-offcanvas-inner-wrapper",e.OffcanvasUtils.setupPanToReveal(i),l=e.OffcanvasUtils._getOuterWrapper(o),p=!1,l.on("click.swipetoreveal",function(e){p&&(e.stopImmediatePropagation(),p=!1)}),l.on("touchstart.swipetoreveal",function(e){p=!1}),o.on("ojpanstart",function(t,n){n.direction!=s?t.preventDefault():(e.Context.getContext(l.get(0)).getBusyContext().whenReady().then(function(){o.children().addClass("oj-swipetoreveal-action").css("min-width",""),d=o.children(".oj-swipetoreveal-default").get(0),null==c&&(null!=a&&(r=a.threshold),null!=r?(r=parseInt(r,10),/%$/.test(a.threshold)&&(r=r/100*l.outerWidth())):r=.55*l.outerWidth(),c=Math.min(.3*l.outerWidth(),o.outerWidth()))}),f=(new Date).getTime())}).on("ojpanmove",function(e,n){p||o.children().css("min-width",0),p=!0,null!=d&&(n.distance>r?o.children().each(function(){this!=d&&t(this).addClass("oj-swipetoreveal-hide-when-full")}):o.children().removeClass("oj-swipetoreveal-hide-when-full"))}).on("ojpanend",function(e,n){v=n.distance,null!=d&&v>r&&(u=t.Event("ojdefaultaction"),o.trigger(u,i),e.preventDefault()),v<c&&((new Date).getTime()-f>200||v<10)&&e.preventDefault()}))},e.SwipeToRevealUtils.tearDownSwipeActions=function(n){var a,o,s;(a=t(n)).removeClass("oj-swipetoreveal"),(o={}).selector=a,null!=(s=e.OffcanvasUtils._getOuterWrapper(a))&&s.off(".swipetoreveal"),e.OffcanvasUtils.tearDownPanToReveal(o)}});