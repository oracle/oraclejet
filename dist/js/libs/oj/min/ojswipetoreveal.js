/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","hammerjs","promise","ojs/ojoffcanvas"],function(e,t,a){e.SwipeToRevealUtils={},e.SwipeToRevealUtils.setupSwipeActions=function(a,n){var o,s,i,l,r,c,f,p,u,v,d;(o=t(a)).hasClass("oj-swipetoreveal")||(o.addClass("oj-swipetoreveal"),s=o.hasClass("oj-offcanvas-start")?"end":"start",(i={}).selector=o,i._animateWrapperSelector="oj-offcanvas-inner-wrapper",e.OffcanvasUtils.setupPanToReveal(i),l=e.OffcanvasUtils._getOuterWrapper(o),f=!1,l.on("click.swipetoreveal",function(e){f&&(e.stopImmediatePropagation(),f=!1)}),l.on("touchstart.swipetoreveal",function(e){f=!1,o.hasClass("oj-offcanvas-open")&&o[0].offsetWidth>0&&!o[0].contains(e.target)&&e.preventDefault()}),o.on("ojpanstart",function(t,a){a.direction!=s?t.preventDefault():(e.Context.getContext(l.get(0)).getBusyContext().whenReady().then(function(){o.children().addClass("oj-swipetoreveal-action").css("min-width",""),v=o.children(".oj-swipetoreveal-default").get(0),null==c&&(null!=n&&(r=n.threshold),null!=r?(r=parseInt(r,10),/%$/.test(n.threshold)&&(r=r/100*l.outerWidth())):r=.55*l.outerWidth(),c=Math.min(.3*l.outerWidth(),o.outerWidth()))}),u=(new Date).getTime())}).on("ojpanmove",function(e,a){f||o.children().css("min-width",0),f=!0,null!=v&&(a.distance>r?o.children().each(function(){this!=v&&t(this).addClass("oj-swipetoreveal-hide-when-full")}):o.children().removeClass("oj-swipetoreveal-hide-when-full"))}).on("ojpanend",function(e,a){d=a.distance,null!=v&&d>r&&(p=t.Event("ojdefaultaction"),o.trigger(p,i),e.preventDefault()),d<c&&((new Date).getTime()-u>200||d<10)&&e.preventDefault()}))},e.SwipeToRevealUtils.tearDownSwipeActions=function(a){var n,o,s;(n=t(a)).removeClass("oj-swipetoreveal"),(o={}).selector=n,null!=(s=e.OffcanvasUtils._getOuterWrapper(n))&&s.off(".swipetoreveal"),e.OffcanvasUtils.tearDownPanToReveal(o)}});