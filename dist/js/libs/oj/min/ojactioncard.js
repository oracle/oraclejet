/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define(["exports","preact/jsx-runtime","ojs/ojvcomponent","preact","ojs/ojdomutils","ojs/ojdatacollection-common"],function(t,e,o,i,n,s){"use strict";var c=function(t,e,o,i){var n,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(c=(s<3?n(c):s>3?n(e,o,c):n(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};t.ActionCard=class extends i.Component{constructor(t){super(t),this._rootRef=i.createRef(),this._handleOjAction=t=>{this._isFromActiveSource(t)&&t.stopPropagation()},this._handleStart=t=>{this._isFromActiveSource(t)||this.setState({active:!0})},this._handleUpEnd=t=>{!this._isFromActiveSource(t)&&this.state.active&&this.setState({active:!1})},this._handleClick=t=>{this._isFromActiveSource(t)||this.props.onOjAction?.({originalEvent:t})},this._handleTouchcancel=t=>{this._isFromActiveSource(t)||this.setState({active:!1})},this._handleMove=t=>{this.state.active&&!this._isFromActiveSource(t)&&this.setState({active:!1})},this._handleKeydown=t=>{this._isFromActiveSource(t)||t.repeat||"Enter"!==t.key&&" "!==t.key||this.setState({active:!0})},this._handleKeyup=t=>{this._isFromActiveSource(t)||"Enter"!==t.key&&" "!==t.key||(this.setState({active:!1}),this.props.onOjAction?.({originalEvent:t}))},this._handleFocusin=t=>{this.setState({focus:!0})},this._handleFocusout=t=>{this.setState({focus:!1})},this.state={active:!1,focus:!1}}render(t,i){let s="oj-actioncard";i.active&&(s+=" oj-active"),i.focus&&!n.recentPointer()&&(s+=" oj-focus-highlight");const c=t.tabIndex??0;return e.jsx(o.Root,{tabIndex:c,class:s,role:"button",onKeyUp:this._handleKeyup,onMouseUp:this._handleUpEnd,onKeyDown:this._handleKeydown,onMouseDown:this._handleStart,onTouchStart:this._handleStart,onTouchEnd:this._handleUpEnd,onTouchCancel:this._handleTouchcancel,onTouchMove:this._handleMove,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._handleClick,onojAction:this._handleOjAction,ref:this._rootRef,children:this.props.children})}componentDidMount(){this._rootRef.current.addEventListener("touchstart",this._handleStart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleUpEnd,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchcancel,{passive:!0}),this._rootRef.current.addEventListener("touchmove",this._handleMove,{passive:!0})}_isFromActiveSource(t){return s.isEventClickthroughDisabled(t,this._rootRef.current)}},t.ActionCard._metadata={slots:{"":{}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["tabIndex","role"]}},t.ActionCard=c([o.customElement("oj-action-card")],t.ActionCard),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojactioncard.js.map