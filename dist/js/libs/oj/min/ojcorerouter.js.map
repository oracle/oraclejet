{"version":3,"names":["define","Logger","ojobservable","UrlPathAdapter","rootRouter","urlAdapter","Object","prototype","hasOwnProperty","call","noHistorySegments","getActiveRoutes","router","routes","state","_activeState","_getPendingState","path","push","params","pathParams","childRouter","paramRegex","getPathParam","segment","match","Error","CoreRouter","options","parentRouter","this","_name","_urlOffset","beforeStateChange","BehaviorSubject","accept","currentState","complete","_noHistory","history","_noHistoryOffset","_parentRouter","length","_setupNavigationListener","undefined","_configure","reconfigure","routeConfigs","navigateTo","oldRoutes","_routes","newRoutes","_getActiveRoutes","Array","isArray","go","catch","ex","map","config","segments","split","shift","configuredRoute","detail","redirect","RegExp","_match","freeze","sync","_execute","_getRouteSegment","then","p","route","getRoutesForUrl","_getRoutePathParams","offset","transitions","goP","forEach","transition","keys","key","Promise","reject","t","join","info","currentPath","getUrlForRoutes","prevNoHistorySegments","slice","concat","_getParentRoutes","newPath","window","pushState","replaceState","execPromise","_prepublish","_isCurrentState","_publish","allPre","next","res","activeSync","all","s","_activeSync","allPub","_popstateHandler","addEventListener","route1","route2","cs","pending","find","test","createChildRouter","destroy","console","debug","removeEventListener"],"sources":["../debug/ojcorerouter.js"],"mappings":"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"}