{"version":3,"names":["define","oj","ojdataprovider","ojeventtarget","ojMap","ojbufferingdataproviderevents","ojcomponentcore","Object","prototype","hasOwnProperty","call","EditBuffer","constructor","this","unsubmittedItems","submittingItems","unsubmittedChangedItems","mapOpTransform","mapEditItemStatus","addItem","item","unsubmitted","get","metadata","key","submitting","operation","Error","delete","editItem","set","removeItem","updateItem","setItemMutated","setItemStatus","newStatus","error","newEditItem","data","message","getUnsubmittedItems","getSubmittingItems","isEmpty","size","getItem","isUpdateTransformed","getEditItemStatus","resetAllUnsubmittedItems","clear","BufferingDataProvider","dataProvider","options","_a","_generateKey","value","customKeyGenerator","crypto","randomUUID","replace","c","getRandomValues","Uint8Array","toString","AsyncIterable","_parent","_asyncIterator","Symbol","asyncIterator","AsyncIterator","_baseIterator","_params","firstBaseKey","mergedAddKeySet","Set","unFetchedAddItemSet","mergedItemArray","nextOffset","_fetchNext","signal","aborted","reason","Promise","reject","DOMException","resolve","addEventListener","e","next","then","async","result","length","fetchParameters","sortCriteria","lastSortCriteria","baseItemArray","map","val","index","totalFilteredRowCount","_mergeEdits","filterCriterion","done","i","_isItemRemoved","actualReturnSize","params","newDataArray","newMetaArray","idx","forEach","push","includeFilteredRowCount","_addEventListeners","editBuffer","lastIterator","keyGenerator","generatedKeyMap","Map","dataBeforeUpdated","_fetchByKeysFromBuffer","results","unresolvedKeys","keys","add","_compareItem","d1","d2","sortCrt","comparator","SortUtils","getNaturalSortComparator","descendingResult","direction","comparatorResult","attribute","_insertAddEdits","editItems","filterObj","itemArray","lastBlock","filter","oldData","has","keySet","fetchByKeys","inserted","splice","allItemsRemoved","_mergeAddEdits","newItemArray","FilterFactory","getFilter","filterDef","filterOptions","baseItem","_fetchFromOffset","fetchByOffset","baseResults","newItem","nextParams","attributes","clientId","offset","containsKeys","bufferResult","containsParameters","scope","fetchFirst","baseIterator","getCapability","capabilityName","_calculateSizeChange","sizeChange","getTotalSize","totalSize","_addToMergedArrays","fromBaseDP","addBeforeKeyFromBase","addBeforeKey","_getNextKey","bRemoved","nextKey","keyIdx","_findKeyInItems","assign","detail","addBeforeKeys","indexes","event","DataProviderMutationEvent","dispatchEvent","_dispatchSubmittableChangeEvent","_removeFromMergedArrays","KeyUtils","equals","newKey","removeKey","remove","update","getSubmittableItems","submittableItems","DataProviderRefreshEvent","_addEventDetail","detailType","detailItem","detailAddBeforeKey","resetUnsubmittedItem","editItemMap","resultObj","resultItem","submittable","BufferingDataProviderSubmittableChangeEvent","_findKeyInMetadata","items","_initDetailProp","newDetail","propName","initValue","_initDetail","bEmpty","bAdd","parentKeys","_initDetails","details","newDetails","_pushDetailProp","_pushDetail","_isSkipItem","skipItem","_isSortFieldUpdated","sortUpd","sortFields","sortField","_getOperationDetails","sortFldUpdateds","_processAdd","_handleRefreshEvent","_cleanUpSubmittedItem","_handleMutateEvent","detailAdd","undefined","nextIdx","detailRemove","detailUpdate","currData","_checkGeneratedKeys","eventDetail","checkKeyMap","eventAddDetail","transientKey","firstKey","dataprovider","_ADDEVENTLISTENER","_REFRESH","bind","_MUTATE","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"sources":["../debug/ojbufferingdataprovider.js"],"mappings":"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"}