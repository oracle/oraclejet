/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

  // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  
D.wS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtAmxThematicMap",D.wS);D.w.l(D.wS,D.B,"DvtAmxThematicMap");D.wS.MB=10;D.wS.prototype.Init=function(a,b,c){D.wS.o.Init.call(this,a);this.aa=new D.xS(a,b,c);this.eZ=new D.B(a);this.eZ.k(this.aa);this.k(this.eZ);this.pf=new D.yS};D.wS.newInstance=function(a,b,c){return new D.wS(a,b,c)};D.wS.newInstance=D.wS.newInstance;D.wS.prototype.P=function(a,b,c){this.D=this.pf.Tj(a);this.Ba=b;this.Ea=c;b=new D.z(0,0,b,c);this.$C(this,b);this.aa.P(a,b.e,b.g)};
D.wS.prototype.render=D.wS.prototype.P;
D.wS.prototype.$C=function(a,b){this.Cb&&(a.removeChild(this.Cb),this.Cb=null);var c=new D.z(D.wS.MB,D.wS.MB,b.e-2*D.wS.MB,b.g-2*D.wS.MB),d=this.D,e=d.legend.rendered,f=d.legend.scrolling,g=D.kl.Y(d.legend);this.W3(this.D,g);if(e&&!(g.tNa&&0==g.tNa.length)){e=d.legend.position;delete g.position;g.layout.gapRatio=(0,D.zS)(this);g.hideAndShowBehavior="none";g.rolloverBehavior="none";g.scrolling=d.legend.scrolling;var h=(0,D.tn)(this.aa.j());a.k(h);"auto"==e&&"asNeeded"!==f?e="bottom":"auto"==e&&"asNeeded"==
f&&(e="end");f=(0,D.D)(a.j());"start"==e?e=f?"right":"left":"end"==e&&(e=f?"left":"right");g.orientation="left"==e||"right"==e?"vertical":"horizontal";f="top"==e||"bottom"==e;f=h.Cp(g,f?c.e:d.layout.legendMaxSize*c.e,f?d.layout.legendMaxSize*c.g:c.g);if(0<f.e&&0<f.g)switch(h.P(g,f.e,f.g),this.Cb=h,d=window.Math.ceil(d.layout.legendGap*(0,D.zS)(this)),(0,D.rn)(c,e,h,f.e,f.g,d),e){case "top":this.eZ.O(f.g+D.wS.MB);case "bottom":b.g-=f.g+D.wS.MB;break;case "left":this.eZ.I(f.e+D.wS.MB);case "right":b.e-=
f.e+D.wS.MB}}};D.zS=function(a){if(null!==a.D.layout.gapRatio&&!(0,window.isNaN)(a.D.layout.gapRatio))return a.D.layout.gapRatio;var b=window.Math.min(a.Ba/400,1);a=window.Math.min(a.Ea/300,1);return window.Math.min(b,a)};D.wS.prototype.W3=function(a,b){b.title=a.legend?a.legend.title:null;b.sections=[];if(a&&a.legend&&a.legend.sections)for(var c=0;c<a.legend.sections.length;c++){var d=a.legend.sections[c];d&&b.sections.push({title:d.title,items:d.items,sections:d.sections})}return b};
D.xS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtThematicMap",D.xS);D.w.l(D.xS,D.hp,"DvtThematicMap");
D.xS.prototype.Init=function(a,b,c){D.xS.o.Init.call(this,a,b,c);(0,D.hT)(this);this.Af=[];this.xz=[];this.nDa=this.wx=this.Vc=this.Cb=null;this.m4=!1;this.iP=[];this.EP={};this.iY=!1;this.xW={};this.Z4={};this.So=[];this.i4=new D.B(this.j());this.VO=new D.B(this.j());this.uz=new D.B(this.j());this.ux=new D.B(this.j());this.PK=this.VG=this.j7=!1;this.CX=6;this.Kz=!0;this.dL={};this.vV=!1;this.md=null;this.$n=16777215;this.pf=new D.yS;this.fb.Fa(this,this);this.we=!1};
D.xS.newInstance=function(a,b,c){return new D.xS(a,b,c)};D.xS.prototype.ud=function(a){D.xS.o.ud.call(this,a);(0,D.Uk)()||(this.D.animationOnDisplay="none",this.D.animationOnMapChange="none",this.D.animationOnDrill="none");(new D.iT(this)).parse(this.D)};D.xS.prototype.la=(0,D.s)("fb");D.jT=function(a,b){for(var c=0;c<a.Af.length;c++)if(a.Af[c].Gh==b)return a.Af[c]};D.u=D.xS.prototype;D.u.ow=function(a){this.Wy=(0,window.parseFloat)(a)};D.u.xa=(0,D.s)("Wy");
D.u.V0=function(a){a=(0,window.parseInt)(a);var b=this.$n;if(1==a||3==a||5==a||7==a)b&=-17,this.PK=!1;if(2==a||3==a||6==a||7==a)b&=-4098,this.VG=!1;if(4==a||5==a||6==a||7==a)b&=-257;this.$n=b};D.u.jda=function(a){this.dn=a;this.fb.jda(a)};
D.u.KI=function(){D.xS.o.KI.call(this);!this.tq&&this.FEa&&(this.Af=[],this.iP=[],this.EP={},this.xW={},this.Z4={},this.So=[],this.removeChild(this.Vc),this.nDa=this.wx=this.Cb=this.Vc=null,this.$n=16777215,this.PK=this.VG=!0,this.HK=this.Jb,this.i4=new D.B(this.j()),this.VO=new D.B(this.j()),this.uz=new D.B(this.j()),this.ux=new D.B(this.j()),this.md=null,this.fb.ei(this),(0,D.hT)(this),this.vV=!1,this.fb.Ac(),this.fb.Fa(this,this))};
D.hT=function(a){a.fb=new D.kT(a.j(),a.dispatchEvent,a);a.fb.le(a);(0,D.Gf)()?a.FC=null:(a.FC=new D.lT(a,a.fb),(0,D.tj)(a.fb,a.FC))};D.u=D.xS.prototype;D.u.Xua=function(a){(0,D.D)(this.j())||(a=this.getWidth()-5-a.getWidth(),this.Vc.I(a))};
D.u.$C=function(){if(this.wx){this.Vc&&(this.Vc.Q(),this.removeChild(this.Vc));var a="true"==this.wx.disclosed,b="fixed"==this.wx.display||(0,D.De)();if(!b||a){var c=this.wx.maxWidth,d=c.indexOf("%"),c=-1!=d?(0,window.parseFloat)(c.substring(0,d))/100*this.getWidth():(0,window.parseFloat)(c),d=this.getHeight()-10;"alta"==this.mc?(this.Vc=new D.mr(this.j(),null,this,"pd"),this.Vc.ka("dvtPanelDrawerEvent",this.bfa,!1,this),this.Vc.wu(c),this.Vc.pT(d),this.Vc.Jz=b,(0,D.D)(this.j())?(this.Vc.av="right",
this.Vc.I(0)):this.Vc.I(this.getWidth())):(this.Vc=new D.Cu(this.j(),c,d,"col_northeast",(0,D.pr)(this),this.ks(),a,b),this.Vc.ka("dvtCollapsiblePanelEvent",this.bfa,!1,this),this.Vc.ka("dvtResizeEvent",this.Xua,!1,this),c=this.Vc,d=this.wx.collapseTooltip,c.oP=this.wx.expandTooltip,c.IO=d);c=this.wx;this.Cb=(0,D.tn)(this.j(),this.Kca,this);this.k(this.Vc);this.k(this.Cb);d=this.Cb.Cp(c,this.Vc.cS(),this.Vc.aM());this.Cb.P(c,d.e,d.g);var e;if("alta"==this.mc){(0,D.or)(this.Vc,this.Cb.gs().g);this.removeChild(this.Cb);
var c=new D.Re(this.j(),(0,D.pr)(this).legendEna,0,0,24,24),d=new D.Re(this.j(),(0,D.pr)(this).legendOvr,0,0,24,24),f=new D.Re(this.j(),(0,D.pr)(this).legendDwn,0,0,24,24),g=(0,D.P)("DvtUtilBundle","LEGEND");(0,D.qr)(this.Vc,this.Cb,c,d,f,g,"legend");this.Vc.ir();a&&this.Vc.wf(!0,!0)}else e=this.Vc,a=this.Cb,e.vJ.k(a),a.ka("dvtResizeEvent",e.p2,!1,e),a=e.vJ.F(),e.Ba=window.Math.min(e.Sh,a.e+10),e.Ea=window.Math.min(e.Li,a.g+10),e.Na?(e.Na.Bj((0,D.XP)(e,e.Ba,e.Ea)),a="col_northwest"==e.Nj||"col_southwest"==
e.Nj,e.fj&&a&&e.fj.I(e.Ba)):(a=new D.Fh(e.j(),(0,D.XP)(e,e.Ba,e.Ea)),c=e.Z.borderAlpha,a.pa(e.lz,e.km),a.Qa(e.Ys,c),e.Na=a,e.Ma(e.Na,0),e.Jz||(e.fj=D.sC.aaa(e.j(),25,e.Z,!1),e.fj.B(e.Z.borderAlpha),e.k(e.fj),a="col_northwest"==e.Nj||"col_southwest"==e.Nj,e.mm=e.isCollapsed()?D.V.GZ(e.j(),e.Wn,25,e.Z,a?D.V.pB:D.V.zw):D.V.EZ(e.j(),e.Wn,25,e.Z,a?D.V.pB:D.V.zw),e.fj.k(e.mm),e.fj.I(a?e.Ba:-10),(0,D.Gf)()?e.mm.ka(D.gh,e.FI,!1,e):(e.mm.ka(D.fk,e.FI,!1,e),e.mm.ka(D.Rz,e.I2,!1,e),e.mm.ka(D.Sz,e.H2,!1,e)))),
e.RV&&(0,D.YP)(e,!1),e=this.Vc.F(),a=(0,D.D)(this.j())?5:this.getWidth()-5-e.e-e.x,(0,D.kk)(this.Vc,a,5),e.e+=5;if(this.pla=b)e||(e=this.Vc.F()),this.M7=e.e,this.Jb.Dk(this.getWidth()-this.M7,this.getHeight(),!0)}}};
D.u.Gj=function(){D.xS.o.Gj.call(this);var a=new D.B(this.j()),b=new D.B(this.j());this.Jb=this.da;this.Jb.k(a);this.Jb.ba.k(b);this.Sj(a,b);if(this.Vk){(this.Rc=this.Jb.Rc)&&this.Jb.k(this.Rc);(0,D.mT)(this);b=new D.z(0,0,this.getWidth(),this.getHeight());if(!this.we&&!this.HK)D.Zk.isSupported(this.Qha)&&(this.Sa=D.Zk.by(this.j(),this.Qha,this.Jb,b,this.Wy));else{var c=null;this.m4&&!this.tq?c=this.Dza:this.Vk&&this.Vk.Gh!=this.TDa&&(c=this.Vk.Nq());D.Zk.isSupported(c)&&(this.Sa=D.Zk.pD(this.j(),
c,this.HK,this.Jb,b,this.Wy))&&this.k(this.HK)}this.Sa?(this.Rc&&this.k(this.Rc),this.fb.Ac(),this.fb.ei(this),this.vV=!0,this.Sa.he(this.qr,this),this.Sa.play()):this.qr();this.FEa=a;this.Vk&&(this.TDa=this.Vk.Gh);(0,D.Ml)(this.j(),[this]);this.we=!0}};
D.u.Sj=function(a,b){this.$C();b.k(this.i4);b.k(this.VO);this.Kz?a.k(this.uz):b.k(this.uz);a.k(this.ux);var c=this.Jb.ba.ua();this.A$=!1;for(var d=0;d<this.Af.length;d++){var e=this.Af[d];if(!this.A$&&e instanceof D.IS||!(e instanceof D.IS))e.P(c),!this.A$&&e instanceof D.IS&&(this.A$=!0,this.Vk=e)}this.Vk&&(c=this.Vk.kK,this.kK!=c&&(this.kK=c,this.i7=this.fla=this.ela=null),this.FC&&(c=(0,D.US)(this),0==c.length&&(c=(0,D.gT)(this)),(c=c[0])&&D.kT.o.vs.call(this.fb,c)),this.Jb.qw(null),this.Jb.xu(null),
this.Jb.Tn=!0,this.Jb.hi=!0,!this.m4&&!this.tq&&null!=this.i7?((0,D.Kr)(this.Jb,this.i7),(0,D.Nr)(this.Jb,this.ela,this.fla)):this.Jb.Go(null,this.Vk.qH()),(0,D.nT)(this),(0,D.oT)(this),this.Jb.Tn=this.VG,this.Jb.hi=this.PK)};D.u.UNa=function(a,b,c){this.we=!1;(0,D.mT)(this);(0,D.pT)(new D.iT(this),[a],(0,D.jT)(this,b),this.Vk.Gh,c);this.$C();this.we=!0;this.FC&&(a=(0,D.US)(this),0==a.length&&(a=(0,D.gT)(this)),(a=a[0])&&D.kT.o.vs.call(this.fb,a));(0,D.Ml)(this.j(),[this]);(0,D.oT)(this)};
D.xS.prototype.updateLayer=D.xS.prototype.UNa;D.oT=function(a){var b;b=a.Jb.Iq;var c=a.Vk.qH(),d=a.Jb.Tc();b=window.Math.min((d.e-2*b)/c.e,(d.g-2*b)/c.g);a.Jb.qw(b);a.Jb.xu(b*(a.VG?a.CX:1))};D.eT=function(a){a.Vk.kK&&a.Jb.Go(null,a.Vk.qH());(0,D.nT)(a);a.j7&&(0,D.qT)(a)};D.xS.prototype.pda=(0,D.q)("D9");D.rT=function(a,b){var c=new D.dj;c.translate(b.pc,b.nc);a.Kz&&a.uz.za(c);a.ux.za(c)};D.xS.prototype.bfa=function(a){var b=new D.$q;(0,D.zl)(b,"isLegendDisclosed","show"==a.vj());this.dispatchEvent(b)};
D.sT=function(a,b,c){if(b=b.J){var d=a.Jb.ba,e=(0,D.tp)(b,d,d.ua);c&&(a.jja=d.ua(),(0,D.T)(b,"typeMatrix",a,a.IBa,a.VFa,e));c=new D.dj(1,0,0,1,e.pc,e.nc);a.Kz&&(0,D.T)(b,"typeMatrix",a.uz,a.uz.ua,a.uz.za,c);(0,D.T)(b,"typeMatrix",a.ux,a.ux.ua,a.ux.za,c)}};
D.xS.prototype.mh=function(a){switch(a.vj()){case "adjustPanConstraints":if(this.PK){var b=a.qv;a=this.Jb.Iq;var c=this.Jb.Tc();a=new D.z(a,a,c.e-2*a,c.g-2*a);var d=this.Vk.qH(),e=d.x*b,c=d.y*b,f=d.e*b,b=d.g*b,d=0;f>a.e?(this.pla&&(0,D.D)(this.j())&&(d=this.M7),this.Jb.xt=a.x+a.e+d-(e+f),this.Jb.vt=a.x-e+d):(this.pla&&(0,D.D)(this.j())&&(d=2*this.M7),e=(a.x+a.e+d)/2-(e+f/2),this.Jb.xt=e,this.Jb.vt=e);b>a.g?(this.Jb.yt=a.y+a.g-(c+b),this.Jb.wt=a.y-c):(a=(a.y+a.g)/2-(c+b/2),this.Jb.yt=a,this.Jb.wt=
a)}break;case "zooming":case "elasticAnimBegin":(0,D.sT)(this,a,!0);break;case "zoomed":if(null!=a.qv){c=this.Jb.ba.ua();(0,D.zl)(a,"panX",c.pc);(0,D.zl)(a,"panY",c.nc);a.J=null;this.dispatchEvent(a);(0,D.rT)(this,c);for(b=0;b<this.Af.length;b++)this.Af[b].mh(a,c)}break;case "zoomAndCenter":(0,D.tT)(this);break;case "zoomToFitEnd":this.dispatchEvent(new D.QC)}};
D.xS.prototype.Dw=function(a){var b=a.vj();if("elasticAnimBegin"==b)(0,D.sT)(this,a,!1);else if("panned"==b&&null!=a.Ema){var c=this.Jb.ba.ua();(0,D.zl)(a,"zoom",this.Jb.Bd());(0,D.zl)(a,"panX",c.pc);(0,D.zl)(a,"panY",c.nc);a.J=null;this.dispatchEvent(a);(0,D.rT)(this,c);for(a=0;a<this.Af.length;a++)this.Af[a].Dw(c)}this.Vc&&("alta"==this.mc?"dragPanBegin"===b?this.Vc.qa(!1):"dragPanEnd"===b&&this.Vc.qa(!0):(c=this.ks(),a=this.Vc.Na.Yb().Y(),"dragPanBegin"===b?(this.Cb.B(c.backgroundDragAlpha),a.B(c.borderDragAlpha),
this.Vc.Na.V(a),this.Vc.fj&&this.Vc.fj.B(c.borderDragAlpha),this.Vc.qa(!1)):"dragPanEnd"===b&&(this.Cb.B(1),a.B(c.borderAlpha),this.Vc.Na.V(a),this.Vc.fj&&this.Vc.fj.B(c.borderAlpha),this.Vc.qa(!0))))};D.xS.prototype.tB=function(){return"none"==this.dn&&!this.VG&&(!this.PK||"alta"==this.mc)?"hidden":D.xS.o.tB.call(this)};D.xS.prototype.UT=function(){var a=this.tB();return"hidden"!=a?new D.uT(this.j(),this,"initCollapsed"==a?1:2):null};
D.nT=function(a){a.iY=!0;for(var b=0;b<a.Af.length;b++){var c=a.Af[b].Gh;c in a.EP&&(a.dL[c]=a.EP[c][1],a.lm=c,a.ax=a.EP[c][0],a.LZ())}a.iY=!1};
D.xS.prototype.Xca=function(){(0,D.mT)(this);for(var a=[],b=[],c=this.Af.length-1;-1<c;c--)this.Af[c].Gh==this.Vk.Gh?this.Af[c].reset(b):this.Af[c].reset(a);for(c=0;c<a.length;c++)if(a[c]){var d=a[c].getParent();d&&d.removeChild(a[c])}for(c=0;c<b.length;c++)b[c]&&b[c].B(1);this.iP=[];a=new D.dr(this.j(),0.3);this.Jb.Go(a);a.play();this.So=[];this.Rc&&"none"!=this.dn&&((0,D.vT)(this.Rc,!1),(0,D.wT)(this.Rc,!1))};
D.qT=function(a){var b=a.VO.F(),c=a.uz.F();if(a.Kz){var d=a.Jb.ba.ua();c.e/=d.Dd;c.g/=d.hg;c.x/=d.Dd;c.y/=d.hg}b=(0,D.so)(b,c);(0,D.mT)(a);var e;a.Jb.Tn||(e=a.Jb.fy(),a.Jb.xu(e*a.CX));var f;(0,D.Uk)()&&(f=new D.dr(a.j(),0.3));0<b.e&&0<b.g?a.Jb.Go(f,b):a.Jb.Go(f,a.Vk.qH());f&&f.play();e&&a.Jb.xu(e)};D.xS.prototype.UG=function(a){var b=new D.dr(this.j(),0.3);this.Jb.Go(b,a);b.play()};
D.tT=function(a){if(a.ax){var b=(0,D.jT)(a,a.lm).ri(a.ax);if(b&&(b=b.Hb)){for(var b=b.getSelection(),c=0;c<b.length;c++)b[c]=b[c].ia();if(0<b.length){for(var d=b[0].F(),c=1;c<b.length;c++)d=(0,D.so)(d,b[c].F());a.UG(d)}}}};D.xT=function(a,b){var c=D.AS.$Ja(a.nk,b);return(0,D.jT)(a,c)};D.QS=function(a,b){var c=D.AS.Gqa(a.nk,b);return(0,D.jT)(a,c)};D.US=function(a){var b=[];if(a.Vk)for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej,e;for(e in d)b=a.Vk.Gh==a.Af[c].Gh?b.concat((0,D.ZS)(d[e])):b.concat((0,D.$S)(d[e]))}return b};
D.gT=function(a){var b=[];if(a.Vk)for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej;if(a.Vk.Gh==a.Af[c].Gh||!(a.Af[c]instanceof D.IS))for(var e in d)b=b.concat(d[e].hk)}return b};D.xS.prototype.VFa=function(a){this.jja=a;if(this.Kz){for(var b=(0,D.gT)(this),c=0;c<b.length;c++)b[c].mh(a);b=this.ux.Ja();for(c=0;c<b;c++)for(var d=this.ux.ha(c),e=d.Ja(),f=0;f<e;f++){var g=d.ha(f);g instanceof D.NS&&g.update(a)}}};D.xS.prototype.IBa=(0,D.s)("jja");
D.xS.prototype.LZ=function(){(0,D.mT)(this);var a=(0,D.QS)(this,this.lm),b=(0,D.jT)(this,this.lm),c=[];if(a){this.xW[this.lm]=this.ax;for(var d=this.dL[this.lm],e=[],f=0;f<d.length;f++){var g;a:{g=b.ri(this.ax).Oc;for(var h=0;h<g.length;h++)if(g[h].xk()===d[f]){g=g[h];break a}g=null}g.$v()||e.push(d[f])}!this.iY&&"single"==this.dn&&(this.So.pop(),b.reset(c,d),a.reset(this.xz));d=[];for(f=0;f<e.length;f++){g=e[f];h=(0,D.MS)(b,g);d.push(h[0]);for(var i=0;i<h.length;i++)this.Z4[h[i]]=g;a.iaa(h,c);if(h=
b.ri(this.ax)){for(var i=g,k=this.xz,l=0;l<h.Oc.length;l++)if(h.Oc[l].xk()==i){h.Oc[l].PM(!0);h.So.push(i);k.push(h.Oc[l].ia());if(l=h.Oc[l].Mc())k.push(l),(l=l.um)&&k.push(l);break}for(l=0;l<h.hk.length;l++)if(h.hk[l].xk()==i){k.push(h.hk[l].ia());break}}this.So.push(g)}(0,D.yT)(this,this.xz,c,!1);(0,D.zT)(this,a.Gh,!0);this.lm=a.Gh;this.dL[this.lm]=d}};
D.xS.prototype.jaa=function(){(0,D.mT)(this);for(var a=(0,D.jT)(this,this.lm),b=(0,D.xT)(this,this.lm),c=[],d=[],e=this.dL[this.lm],f=0;f<e.length;f++){var g=this.Z4[e[f]];d.push(g);if(-1!=D.H.wa(this.So,g)){a.AT((0,D.MS)(b,g),this.xz);for(var h=b.ri(this.xW[b.Gh]),i=g,k=c,l=0;l<h.Oc.length;l++)if(h.Oc[l].xk()==i){var m=D.H.wa(h.So,i);h.So.splice(m,1);h.Oc[l].PM(!1);m=h.Oc[l].ia();h.an.k(m);k.push(m);if(l=h.Oc[l].Mc())l.update(h.UK),k.push(l),k.push(l.um);break}for(l=0;l<h.hk.length;l++)if(h.hk[l].xk()==
i){m=h.hk[l].ia();h.hx.k(m);k.push(m);break}g=D.H.wa(this.So,g);-1!=g&&this.So.splice(g,1)}}(0,D.yT)(this,this.xz,c,!0);this.lm=b.Gh;this.ax=this.xW[this.lm];this.dL[this.lm]=d;(0,D.zT)(this,this.lm)};D.mT=function(a){a.Sa&&(a.Sa.stop(!0),a.Sa=null)};
D.yT=function(a,b,c,d){a.Jb.ba.ua();if("zoomToFit"==a.f4&&!a.iY){var e=new D.dr(a.j(),0.3);(0,D.Uk)()||(e=null);d?a.Jb.Go(e):(0,D.tT)(a);e&&e.play()}(0,D.mT)(a);if((0,D.Uk)()&&("alphaFade"==a.f4||"auto"==a.f4))a.Sa=D.Zk.pD(a.j(),"alphaFade",b,c,null,0.5);a.Sa?(a.fb.Ac(),a.fb.ei(a),a.Sa.he(a.Gva,a),a.Sa.play()):(0,D.AT)(a)};
D.xS.prototype.dispatchEvent=function(a){var b=a.Ta();if("selection"==b)if(this.ax){this.T9=a.getSelection();for(var b=this.dL,c=this.lm,d=this.T9,e=[],f=(0,D.jT)(this,this.lm).ri(this.ax).Oc,g=0;g<d.length;g++)for(var h=0;h<f.length;h++)if(f[h].getId()==d[g]){e.push(f[h].xk());break}b[c]=e;(0,D.zT)(this,this.lm);(0,D.zl)(a,"clientId",this.ax);this.QV&&!(this.QV instanceof D.CH)&&(this.wpa=this.QV)}else(0,D.zT)(this,null),this.wpa=null;else b==D.dT.Bga?((0,D.zl)(a,"clientId",this.OJ),this.iP="multiple"==
this.dn?this.iP.concat(this.T9):this.T9,b=a.nBa,b==D.dT.Bua&&this.jaa(),b==D.dT.H1?this.LZ():b==D.dT.Nva&&this.Xca(),a.wf(this.iP)):("showPopup"==b||"hidePopup"==b)&&(0,D.zl)(a,"clientId",this.OJ);D.xS.o.dispatchEvent.call(this,a)};D.zT=function(a,b,c){if(a.Rc&&a.dn&&"none"!=a.dn){var d=(0,D.QS)(a,b);b=(0,D.xT)(a,b);d&&!c?(0,D.vT)(a.Rc,!0):(0,D.vT)(a.Rc,!1);b?(0,D.wT)(a.Rc,!0):(0,D.wT)(a.Rc,!1)}};D.xS.prototype.Q=function(){D.xS.o.Q.call(this);this.fb&&(this.fb.Q(),this.fb=null)};
D.xS.prototype.destroy=D.xS.prototype.Q;D.xS.prototype.qr=function(){this.Rc&&this.Jb.k(this.Rc);this.HK&&(this.removeChild(this.HK),this.HK=null);this.Sa=null;this.j7&&(0,D.qT)(this);this.D.highlightedCategories&&0<this.D.highlightedCategories.length&&this.Ee(this.D.highlightedCategories);this.vV&&(this.fb.le(this),this.vV=!1)};D.xS.prototype.Gva=function(){(0,D.AT)(this);this.Sa=null;this.fb.le(this)};
D.AT=function(a){if(0<a.xz.length){for(var b=0;b<a.xz.length;b++){var c=a.xz[b];if(c)if(c instanceof D.NS)c.reset();else if(c.$v&&c.$v())c.B(0);else{var d=c.getParent();d&&d.removeChild(c)}}a.xz=[]}};D.xS.prototype.j6=function(a,b){var c=new D.qm(a,b),d=[],e;for(e in this.dj)for(var f in this.dj[e])d.push(this.dj[e][f]);for(e in this.jn)for(f in this.jn[e])d.push(this.jn[e][f]);e=this.Cb.uPa;for(var g in e)f=new D.BT(e[g].$f(),g),d.push(f);(0,D.ll)(c.Nk,d,!0)};D.xS.prototype.pd=(0,D.s)("md");
D.xS.prototype.YM=(0,D.q)("md");D.xS.prototype.Df=function(){this.Ik||(this.Ik=new D.CT(this));return this.Ik};D.xS.prototype.getAutomation=D.xS.prototype.Df;D.xS.prototype.Fj=function(){return(0,D.P)("DvtUtilBundle","THEMATIC_MAP")};D.xS.prototype.Kca=function(a){"dvtResizeEvent"==a.Ta()&&this.Cb&&this.Cb.wc(a)};D.xS.prototype.Ee=function(a){this.D.highlightedCategories=D.kl.Y(a);(0,D.ll)(a,(0,D.US)(this).concat((0,D.gT)(this)),"any"==this.D.highlightMatch)};D.xS.prototype.highlight=D.xS.prototype.Ee;
D.xS.prototype.rs=function(a,b){var c=(0,D.DT)(this,a);c&&c.rs(b)};D.xS.prototype.processDefaultHoverEffect=D.xS.prototype.rs;D.xS.prototype.aB=function(a,b){var c=(0,D.DT)(this,a);c&&c.aB(b)};D.xS.prototype.processDefaultSelectionEffect=D.xS.prototype.aB;D.xS.prototype.kw=function(a,b){var c=(0,D.DT)(this,a);c&&c.kw(b)};D.xS.prototype.processDefaultFocusEffect=D.xS.prototype.kw;
D.DT=function(a,b){for(var c=0;c<a.Af.length;c++){var d=a.Af[c].Ej,e;for(e in d)for(var f=d[e].hk,g=0;g<f.length;g++)if(f[g].getId()===b)return f[g]}return null};
D.yS=function(){this.Init({fusion:D.GT,alta:D.HT})};D.w.l(D.yS,D.Jj,"DvtThematicMapDefaults");
D.GT={animationDuration:500,animationOnDisplay:"none",animationOnDrill:"none",animationOnMapChange:"none",controlPanelBehavior:"hidden",drilling:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",areaStyle:"background-color:#B8CDEC;border-color:#FFFFFF;",hoverBehaviorDelay:200,dataAreaDefaults:{borderColor:"#FFFFFF",drilledInnerColor:"#FFFFFF",
drilledOuterColor:"#000000",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:0.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:0.4,scaleX:1,scaleY:1,shape:"circle",width:8},labelStyle:"font-family:Tahoma;font-size:11pt;"},legend:{position:"auto",rendered:!0,layout:{gapRatio:1}},layout:{gapRatio:null,legendMaxSize:0.3,legendGap:10},resources:{images:{},
translations:{}}};D.HT={styleDefaults:{areaStyle:"background-color:#DDDDDD;border-color:#FFFFFF;",dataAreaDefaults:{drilledOuterColor:"#0572CE"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;color:#333333',opacity:1},labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;'}};D.IT={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};D.JT={animationOnDataChange:"none",selectionMode:"none"};
D.OT=function(a){for(var b=0;b<a.Af.length;b++){var c=a.Af[b].Ej,d;for(d in c){var e=c[d].Gd;if(e&&e.mC)return e}}return null};D.u=D.xS.prototype;D.u.xj=function(a,b,c){this.hBa=!1;return(a=(0,D.OT)(this))?a.xj(c):!1};D.u.wk=function(a,b){var c=(0,D.OT)(this);return c?c.wk(a,b):null};D.u.Zt=function(a,b){var c=(0,D.OT)(this);return c?c.Zt(a,b):null};D.u.wp=function(a,b){var c=(0,D.OT)(this);return c?c.wp(a,b):null};D.u.Ov=function(a,b){var c=(0,D.OT)(this);return c?c.Ov(a,b):null};
D.u.Vv=function(a,b){var c=(0,D.OT)(this);return c?c.Vv(a,b):null};D.u.Zv=function(){var a=(0,D.OT)(this);a&&a.Zv()};D.u.ds=function(){var a=(0,D.OT)(this);a&&a.ds();(0,D.hu)(this.da)};
D.xS.prototype.po=function(a,b,c){var d=this.Jb.Bd();a=(a-(0,D.Lr)(this.Jb))/d;b=(b-(0,D.Mr)(this.Jb))/d;a:{for(var d=a,e=b,f=0;f<this.Af.length;f++)if(this.Af[f].YIa){var g=this.Af[f].ul;if(g&&g.js(d,e)){d=g;break a}}d=null}return(this.ul=d)?this.ul.po(a,b,c):null};D.xS.prototype.js=function(a,b){var c=this.Jb.Bd();a=(a-(0,D.Lr)(this.Jb))/c;b=(b-(0,D.Mr)(this.Jb))/c;return this.ul?this.ul.js(a,b):null};
D.KS=function(a,b){this.bV=a;this.jAa=b};D.w.l(D.KS,D.iu,"DvtThematicMapDropTarget");D.KS.prototype.po=function(a,b,c){if(a=(0,D.RS)(this.bV,a,b))a!=this.vF&&(this.bV.Hu(a),this.vF=a);else return this.bV.Hu(null),null;return c[0]};D.KS.prototype.js=function(a,b){var c=(0,D.RS)(this.bV,a,b);if(c){var d=D.Z.OLa(a,b,this.jAa);return{gRa:c.Nza,RQa:d.x,SQa:d.y}}return null};
D.CT=(0,D.q)("aa");(0,D.ca)("DvtThematicMapAutomation",D.CT);D.w.l(D.CT,D.zj,"DvtThematicMapAutomation");
D.CT.prototype.ol=function(a){var b=(0,D.Aj)(this.aa.la(),a);if(b&&(b instanceof D.SS||b instanceof D.TS)){var c;a:{a=b.ia();for(var d=this.aa.Af,e=0;e<d.length;e++){var f=d[e].Ej;for(c in f)if(a instanceof D.Fh)for(var g=f[c].Oc,h=0;h<g.length;h++){if(g[h]===b){c=(0,D.ET)(c)+":area["+h+"]";break a}}else if(a instanceof D.$g||a instanceof D.Zg){g=f[c].hk;for(h=0;h<g.length;h++)if(g[h]===b){c=(0,D.ET)(c)+":marker["+h+"]";break a}}}c=null}return c}if(c=this.aa.da.Rc)if((b=(0,D.Aj)(c.la(),a))&&b instanceof
D.Me){a="disclosure zoomIn zoomOut zoomToFit drillDown drillUp reset".split(" ");for(d=0;d<a.length;d++)if(c.Mq(a[d])===b)return"controlPanel#"+a[d]}return null};
D.CT.prototype.Ff=function(a){if("tooltip"==a)return(0,D.Tl)(this.aa);var b=a.indexOf(":"),c=a.indexOf("[");return 0<b&&0<c?(a=(0,D.FT)(this,a.substring(0,b),a.substring(b+1,c),(0,window.parseInt)(a.substring(c+1,a.length-1))))?a.ia().ta():null:0===a.lastIndexOf("controlPanel")&&(b=a.indexOf("#"),0<b&&(a=a.substring(b+1),(b=this.aa.da.Rc)&&a))?(a=b.Mq(a))?a.ta():null:null};D.CT.prototype.getDomElementForSubId=D.CT.prototype.Ff;
D.CT.prototype.getData=function(a,b,c){return(a=(0,D.FT)(this,a,b,c))?(b={},b.color=a.si(),b.tooltip=a.zc(),c=a.Mc(),b.label=c?c.Ad():null,b.selected=a.Ca(),b):null};D.CT.prototype.getData=D.CT.prototype.getData;D.FT=function(a,b,c,d){a=a.aa.Af;for(var e=0;e<a.length;e++){var f=a[e].Ej,g;for(g in f)if((0,D.ET)(g)==b){if("area"==c)return f[g].oja[d];if("marker"==c)return f[g].qja[d]}}return null};D.ET=function(a){var b=a.lastIndexOf(":");return 0<b?a.substring(b+1):a};
D.CS=function(a,b){this.Init(a,b)};D.w.l(D.CS,D.Fh,"DvtDrillablePath");D.u=D.CS.prototype;D.u.Init=function(a,b){D.CS.o.Init.call(this,a);this.kC=this.jC=this.pW=this.oW=null;this.q7=!1;this.Zoom=1;this.Sf=b};D.u.$v=(0,D.s)("q7");
D.u.PM=function(a){this.q7!=a&&(this.q7=a,this.$v()?(this.jC=this.Ti(),this.jC.L(null),this.jC.qa(!1),this.kC=this.Ti(),this.kC.L(null),this.kC.qa(!1),a=this.getParent(),a.k(this.kC),a.k(this.jC),this.jC.V((0,D.DS)(this,this.oW,2)),this.kC.V((0,D.DS)(this,this.pW,4)),this.qa(!1),this.bf=!1):(this.bf&&(this.Jh(),this.Ai.V((0,D.DS)(this,this.Ks,1),2)),this.kC.getParent().removeChild(this.kC),this.jC.getParent().removeChild(this.jC),this.qa(!0),this.B(1)))};
D.u.jb=function(a){this.Kk!=a&&(a&&(this.bf?(this.nN(),this.Tm=(0,D.DS)(this,this.Tm,2),this.em=(0,D.DS)(this,this.em,6)):(this.Ps=(0,D.DS)(this,this.Ps,1),this.dq=(0,D.DS)(this,this.dq,4))),D.CS.o.jb.call(this,a))};D.u.Ob=function(){this.Ca()?(this.nN(),this.Tm=(0,D.DS)(this,this.Tm,2),this.em=(0,D.DS)(this,this.em,6)):this.Ks=(0,D.DS)(this,this.Ks,2);D.CS.o.Ob.call(this)};
D.u.nN=function(){this.Tm||(this.Tm=this.Ks.Y(),this.Tm.ma(2),this.Sf&&(this.Tm.Fc=!0));this.em||(this.em=this.dq.Y(),this.em.ma(6),this.Sf&&(this.em.Fc=!0))};D.u.Db=function(){this.Ca()&&(this.Ps=(0,D.DS)(this,this.Ps,1),this.dq=(0,D.DS)(this,this.dq,4));D.CS.o.Db.call(this)};D.u.Np=function(a,b){D.CS.o.Np.call(this,a,b);this.Sf&&(this.Ks&&(this.Ks.Fc=!0),this.CN&&(this.CN.Fc=!0));return this};
D.u.Pp=function(a,b){D.CS.o.Pp.call(this,a,b);this.Sf&&(this.Ps&&(this.Ps.Fc=!0),this.dq&&(this.dq.Fc=!0));return this};D.u.kr=function(a,b){D.CS.o.kr.call(this,a,b);this.Sf&&(this.Tm&&(this.Tm.Fc=!0),this.em&&(this.em.Fc=!0));return this};D.ES=function(a,b,c){if(!a.Sf){var d=b.Yb();d&&(d=d.Y(),d.ma(c/a.Zoom),b.V(d))}};D.DS=function(a,b,c){a.Sf||(b=b.Y(),b.ma(c/a.Zoom));return b};
D.FS=function(a,b){a.Zoom=b.Dd;a.$v()?((0,D.ES)(a,a.jC,2),(0,D.ES)(a,a.kC,4)):a.Ca()?a.bf?((0,D.ES)(a,a.Ai,2),(0,D.ES)(a,a,6)):((0,D.ES)(a,a.Ai,1),(0,D.ES)(a,a,4)):a.bf?(0,D.ES)(a,a.Ai,2):(0,D.ES)(a,a,1)};
D.BS=function(a,b,c){this.Init(a,b,c)};D.w.l(D.BS,D.B,"DvtCustomDataItem");D.u=D.BS.prototype;
D.u.Init=function(a,b,c){D.BS.o.Init.call(this,a);this.tz=b;b instanceof D.nj?(this.Ba=b.getWidth(),this.Ea=b.getHeight(),this.k(b)):(this.ta().appendChild(b),b=(0,D.ng)(a,this),this.Ba=b.e,this.Ea=b.g);this.Vu=new D.C(a,-5,-5,this.Ba+10,this.Ea+10);(0,D.si)(this.Vu);a=new D.I(c.selectedInnerColor,1,2);b=new D.I("rgb(235, 236, 237)",1,4);var d=new D.I(c.selectedInnerColor,1,2),e=new D.I(c.selectedOuterColor,1,4),f=new D.I(c.selectedInnerColor,1,2);c=new D.I(c.selectedOuterColor,1,6);this.Vu.Np(a,
b).Pp(d,e).kr(f,c);this.Ma(this.Vu,0)};D.u.Zb=function(a,b){(0,D.Gf)()?this.Vu.Zb(a,b):D.BS.o.Zb.call(this,a,b)};D.u.Td=function(a){(0,D.Gf)()?this.Vu.Td(a):D.BS.o.Td.call(this,a)};D.u.getWidth=(0,D.s)("Ba");D.u.getHeight=(0,D.s)("Ea");D.u.Jf=function(a){this.Vu.Jf(a)};D.u.Aa=function(){return this.Vu.Aa()};D.u.Ca=function(){return this.Vu.Ca()};D.u.jb=function(a){this.Vu.jb(a)};D.u.Ob=function(){this.Vu.Ob()};D.u.Db=function(){this.Vu.Db()};D.u.BD=(0,D.s)("tz");
D.u.QL=function(a){this.tz instanceof D.nj&&this.tz.QL(a)};
this?this.DvtBaseMapManager?D.AS=this.DvtBaseMapManager:(this.DvtBaseMapManager=D.AS={},D.AS._UNPROCESSED_MAPS=[[],[],[]],D.AS._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?D.AS=window.DvtBaseMapManager:(D.AS={},window.DvtBaseMapManager=D.AS,D.AS._UNPROCESSED_MAPS=[[],[],[]],D.AS._UNPROCESSED_PARENT_UPDATES=[[]]);D.w.l(D.AS,D.w,"DvtBaseMapManager");D.AS.HE=0;D.AS.WN=1;D.AS.v3=2;D.AS.u3=3;D.AS.KU=4;D.AS.Lw="__index";D.AS.Bi={};
D.AS.yqa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a][b];return c&&(c=c[D.AS.KU])?new D.z(c[0],c[1],c[2],c[3]):null};D.AS.hIa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a][b];return c?c[D.AS.u3]:null};D.AS.iIa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a][b];return c?c[D.AS.HE]:null};D.AS.AJa=function(a,b,c){D.AS.Cq();a=D.AS.Bi[a][b];var d;a&&(d=a[D.AS.HE]);return d&&d[c]?d[c][1]:null};D.AS.wIa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a];if(c&&(c=c.cities))if(c=c[D.AS.WN][b])return new D.E(c[0],c[1]);return null};
D.AS.xIa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a];if(c&&(c=c.cities))if(c=c[D.AS.HE][b])return c[1];return null};D.AS.fIa=function(a,b,c){D.AS.Cq();var d=D.AS.Bi[a];if(d&&(d=d[b])){if((d=d[D.AS.u3])&&d[c])return(0,D.wF)(d[c][0]).Jd();a=D.AS.Bi[a][b][D.AS.WN][c];if(!a)return null;a=D.N.yR(a);return D.N.F(a).Jd()}return null};D.AS.Gqa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a][b];return c?D.AS.Bi[a][D.AS.Lw][c.__index+1]:null};
D.AS.$Ja=function(a,b){D.AS.Cq();return D.AS.Bi[a][b]?D.AS.Bi[a][D.AS.Lw][D.AS.Bi[a][b].__index-1]:null};D.AS.tqa=function(a,b){D.AS.Cq();return D.AS.Bi[a][b][D.AS.WN]};D.AS.aKa=function(a,b,c){D.AS.Cq();return D.AS.Bi[a][b][D.AS.WN][c]};D.AS.vIa=function(a,b){D.AS.Cq();var c=D.AS.Gqa(a,b);return c&&(c=D.AS.Bi[a][c][D.AS.v3])?c:[]};D.AS.BQa=function(a,b){D.AS.Cq();return D.AS.Bi[a][D.AS.Lw][b]};
D.AS.Pca=function(a,b,c,d,e,f,g,h){var i=D.AS.Bi[a];i||(i={},i[D.AS.Lw]=[],D.AS.Bi[a]=i);a=i[b];a||(a={},i[b]=a,null!=g&&(i[D.AS.Lw][g]=b));a[D.AS.HE]=c;a[D.AS.WN]=d;a[D.AS.v3]=e;a[D.AS.u3]=f;a[D.AS.KU]=h;a[D.AS.Lw]=g};(0,D.ca)("DvtBaseMapManager.registerBaseMapLayer",D.AS.Pca);D.AS.pta=function(a,b,c){var d=D.AS.Bi[a];d||(d={},D.AS.Bi[a]=d);a=d[b];a||(a={},d[b]=a);(a=d[b])&&(a[D.AS.HE]=c)};(0,D.ca)("DvtBaseMapManager.registerResourceBundle",D.AS.pta);
D.AS.Ota=function(a,b,c){if(a=D.AS.Bi[a])if(b=a[b])for(var d in c)b[D.AS.HE][d]=c[d]};(0,D.ca)("DvtBaseMapManager.updateResourceBundle",D.AS.Ota);
D.AS.Cq=function(){var a,b,c=D.AS._UNPROCESSED_MAPS;if(c){for(a=0;a<c[0].length;a++)b=c[0][a],D.AS.Pca(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);for(a=0;a<c[1].length;a++)b=c[1][a],D.AS.pta(b[0],b[1],b[2]);for(a=0;a<c[2].length;a++)b=c[2][a],D.AS.Ota(b[0],b[1],b[2]);D.AS._UNPROCESSED_MAPS=[[],[],[]]}if(c=D.AS._UNPROCESSED_PARENT_UPDATES){for(a=0;a<c[0].length;a++){b=c[0][a];var d=b[1],e=b[2],f=D.AS.Bi[b[0]],g;if(f){if(d=f[d]){d[D.AS.v3]=b[3];g=d[D.AS.KU];a=d[D.AS.Lw];d=f[D.AS.Lw];d.splice(a,0,e);f[e][D.AS.Lw]=
a;for(a+=1;a<d.length;a++)(e=f[d[a]])&&e[D.AS.Lw]++}(d=f[b[2]])&&(d[D.AS.KU]=g)}}D.AS._UNPROCESSED_PARENT_UPDATES=[[]]}};D.AS.MNa=function(a,b,c,d,e,f){if(0<f){b=1/(window.Math.min(d/b,e/c)*f);if(1>=b)return a;c=[];if(a)for(var g in a)d=a[g],(0,window.isNaN)(d)&&(d=D.N.yR(a[g])),c[g]=D.N.NNa(d,b);return c}return a};D.AS.vJa=function(a,b){D.AS.Cq();var c=D.AS.Bi[a][b],d={};if(c){var c=c[D.AS.HE],e;for(e in c)d[e]=c[e][1]}return d};(0,D.ca)("DvtBaseMapManager.getLayerIds",D.AS.vJa);
D.BT=function(a,b){this.Init(a,b)};D.w.l(D.BT,D.w,"DvtThematicMapCategoryWrapper");D.BT.prototype.Init=function(a,b){this.ug=a;this.Nk=b};D.BT.prototype.Lc=(0,D.s)("Nk");D.BT.prototype.Yc=function(){return[this.ug]};
D.dT=function(a){this.Init(D.dT.Bga);this.nBa=a};D.w.l(D.dT,D.Hi,"DvtMapDrillEvent");D.dT.Bga="drill";D.dT.Bua=0;D.dT.H1=1;D.dT.Nva=2;D.dT.prototype.wf=(0,D.q)("cn");
D.GS=function(a,b,c){this.Init("action");this.bC=a;this.UQ=b;this.Xm=c};(0,D.ca)("DvtMapActionEvent",D.GS);D.w.l(D.GS,D.Hi,"DvtMapActionEvent");D.GS.TYPE="action";D.GS.prototype.Zk=(0,D.s)("bC");D.GS.prototype.getClientId=D.GS.prototype.Zk;D.GS.prototype.nba=(0,D.s)("UQ");D.GS.prototype.getRowKey=D.GS.prototype.nba;D.GS.prototype.Ae=(0,D.s)("Xm");D.GS.prototype.getAction=D.GS.prototype.Ae;
D.NS=function(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)};D.w.l(D.NS,D.Hf,"DvtMapLabel");D.u=D.NS.prototype;D.u.Init=function(a,b,c,d,e,f){D.NS.o.Init.call(this,a,b,0,0);this.Sf=f;this.Yw=[];this.qa(!1);this.Xe();this.uf();this.ji=null;this.Qr=d;this.sG=e;if(c&&(this.Yw.push((0,D.wF)(c[0])),1<c.length)){this.L7=[];for(b=1;b<c.length;b++)d=c[b],this.Yw.push((0,D.wF)(d[0])),d=new D.go(a,d[1]),(0,D.Ai)(d),e=new D.I("#000000"),this.Sf&&(e.Fc=!0),d.V(e),this.L7.push(d)}};
D.u.update=function(a){a=a.Dd;for(var b=-1,c=D.Xe.Ah(this),d=!1,e=0;e<this.Yw.length;e++){var f=this.Yw[e].e*a;if(c.g<=this.Yw[e].g*a)if(c.e<=f){b=e;break}else if(this.getParent()||(d=!0,this.sG.k(this)),this.F().e<=f){b=e;break}}-1==b&&"on"==this.Qr&&(b=this.Yw.length-1);this.y5!=b?(-1==b?this.reset():(this.getParent()||this.sG.k(this),c=this.Yw[b].Jd(),this.Lp(c),this.L7&&(this.sG.removeChild(this.um),this.um=null,0<b?(this.um=this.L7[b-1],this.sG.k(this.um),d=this.fc(),d.W("color","#000000"),this.Ha(d),
d=this.Yw[b],e=this.um.vb(),f=e.length,d.x>e[f-2]?(this.vh(),this.uf(),this.Lp(new D.E(d.x,c.y))):d.y>e[f-1]?(this.Il(),this.Xe(),this.Lp(new D.E(c.x,d.y))):d.x+d.e<e[f-2]?(this.wh(),this.uf(),this.Lp(new D.E(d.x+d.e,c.y))):d.y+d.g<e[f-1]&&(this.qo(),this.Xe(),this.Lp(new D.E(c.x,d.y+d.g)))):(this.Xe(),this.uf(),d=this.fc(),d.W("color",this.zla),this.Ha(d)))),this.y5=b):-1==b&&d&&this.sG.removeChild(this);-1!=this.y5&&(b=new D.dj,b.translate(a*this.ji.x-this.ji.x,a*this.ji.y-this.ji.y),this.za(b),
this.um&&(this.um.za(new D.dj(a,0,0,a)),this.Sf||(b=this.um.Yb().Y(),b.ma(1/a),this.um.V(b))))};D.u.Lp=function(a){this.ji=a;this.ca(a.x);this.va(a.y)};D.u.Jd=(0,D.s)("ji");D.u.Ha=function(a){D.NS.o.Ha.call(this,a);this.zla||(this.zla=a.A("color"))};D.u.reset=function(){this.sG.removeChild(this);this.y5=-1;this.um&&(this.sG.removeChild(this.um),this.um=null)};
D.TS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.TS,D.w,"DvtMapObjPeer");D.u=D.TS.prototype;
D.u.Init=function(a,b,c,d,e){this.oa=a;this.jq=b;this.Ab=c;this.Ib=this.yl=this.Rh=!1;this.Ab.dI&&this.Ab.dI(a.color);this.Bb=d;this.ji=e;this.uk=1;this.H=b.aa;this.oa.categories||this.Bb&&(this.oa.categories=[this.Bb.Ad()]);c=a.location;"auto"==this.H.zja&&c&&(b=b.FQ,(b=!(b instanceof D.IS)||b instanceof D.VS?D.AS.xIa(this.H.nk,c):D.AS.AJa(this.H.nk,b.Gh,c))&&(this.oa.shortDesc=a.shortDesc?b+": "+a.shortDesc:b));this.Ab&&(a.destination?(this.Ab.Td("link"),this.Q7=D.A.xD("_blank",a.destination)):
this.Ab.Td("img"));this.Wm()};D.u.getId=function(){return this.oa.id};D.u.Zk=function(){return this.oa.clientId};D.u.xk=function(){return this.oa.location};D.u.Jd=(0,D.s)("ji");D.u.Lp=function(a){this.ji=a;this.UU()};D.u.ia=(0,D.s)("Ab");D.u.Mc=(0,D.s)("Bb");D.u.ri=(0,D.s)("jq");D.u.Ae=function(){return this.oa.action};D.u.lb=function(a){this.Ab.lb(a);this.Bb&&this.Bb.lb(a)};D.u.zc=function(){return this.oa.shortDesc};
D.u.Tc=function(){return this.Ab.getWidth?this.Ab.getWidth()*this.Ab.getHeight():0};D.u.Lc=function(){return this.oa.categories};D.u.Be=function(){if("none"!=this.H.zja){var a=this.H.q().tooltip;return a?(0,D.ap)(this.H.j().fe(),a,this.up()):this.zc()}return null};D.u.up=function(){return{id:this.getId(),label:this.Bb?this.Bb.Ad():null,color:this.si(),location:this.xk(),x:this.oa.x,y:this.oa.y}};D.u.xD=(0,D.s)("Q7");D.u.si=function(){return this.oa.color?this.oa.color:"#000000"};
D.u.ec=function(){var a=[];this.Aa()&&a.push((0,D.P)("DvtUtilBundle",this.Ca()?"STATE_SELECTED":"STATE_UNSELECTED"));return(0,D.jk)(this.zc(),a)};D.u.Yc=function(){return[this.ia()]};D.u.Wm=function(){if(!(0,D.$e)()){var a=this.ec();a&&this.Ab.Zb("label",a)}};D.u.Jf=function(a){var b=this.Mc();this.Ab.Jf&&(this.Ab.Jf(a),b&&a&&b.setCursor("pointer"));this.oa.destination&&(this.Ab.setCursor("pointer"),b&&b.setCursor("pointer"))};D.u.Aa=function(){return this.Ab.Aa?this.Ab.Aa():!1};D.u.Ca=(0,D.s)("Rh");
D.u.jb=function(a){if(this.Aa()){var b=this.Ii();this.Rh=a;this.jq.q().selectionRenderer?(0,D.fT)(this,this.jq.q().selectionRenderer,this.Ii(),b):this.aB(a);this.Wm()}};D.u.Ob=function(){var a=this.Ii();this.yl=!0;this.jq.q().hoverRenderer?(0,D.fT)(this,this.jq.q().hoverRenderer,this.Ii(),a):this.rs(!0)};D.u.Db=function(){var a=this.Ii();this.yl=!1;this.jq.q().hoverRenderer?(0,D.fT)(this,this.jq.q().hoverRenderer,this.Ii(),a):this.rs(!1)};D.u.YM=(0,D.q)("md");D.u.pd=(0,D.s)("md");
D.u.xj=function(a){for(var b=this.jq.Zk(),c=0;c<a.length&&a[c]!=b;c++);return b};D.u.wk=function(){return this.jq.QB(this)};D.u.Yt=function(){return this.jq.PB()};D.u.zd=function(a){return a.type==D.fk?this:32==a.keyCode&&a.ctrlKey?this:(0,D.Am)(this,a,this.Pea())};D.u.Pea=function(){return(0,D.gT)(this.ri().aa)};D.u.Ce=function(a){return this.Ab.getParent()?this.Ab instanceof D.BS?this.Ab.F(a?a:this.Ab.j().Jc):this.Ab.F(a):new D.z(0,0,0,0)};D.u.wj=function(){return this.Ab.ta()};
D.u.Ud=function(){var a=this.Ii();this.Ib=!0;this.jq.q().focusRenderer?(0,D.fT)(this,this.jq.q().focusRenderer,this.Ii(),a):this.kw(!0)};D.u.ic=function(){if(this.oc()){var a=this.Ii();this.Ib=!1;this.jq.q().focusRenderer?(0,D.fT)(this,this.jq.q().focusRenderer,this.Ii(),a):this.kw(!1)}};D.u.oc=(0,D.s)("Ib");D.u.mh=function(a){this.Ab.getParent()&&(this.uk=a.Dd,this.UU())};
D.u.A0=function(){if(this.Bb){this.Bb.Xe();var a=this.Ab.Dg()*this.uk,b=this.Ab.Eg()*this.uk,c=this.Ab.getHeight(),d=this.Ab instanceof D.$g?this.Ab.Ta():"image",e=this.oa.labelPosition;"top"==e?(b=b-c/2-4,this.Bb.qo()):"bottom"==e?(b+=c/2,this.Bb.Il()):(b="triangleUp"==d?b+c/6:"triangleDown"==d?b-c/6:b,this.Bb.uf());this.Bb.ca(a).va(b)}};
D.u.UU=function(){var a=this.Ab.getWidth(),b=this.Ab.getHeight();if(null!=a&&null!=b&&this.Ab.getParent()){var c=0,d=this.ji.x,c=this.ji.y;this.Ab.Wv&&(c=this.Ab.Wv(),d=this.ji.x*window.Math.cos(c)-this.ji.y*window.Math.sin(c),c=this.ji.x*window.Math.sin(c)+this.ji.y*window.Math.cos(c));d=this.ji.x*this.uk-d;c=this.ji.y*this.uk-c;this.Ab instanceof D.BS&&(d+=this.ji.x-a/2,c+=this.ji.y-b/2);(0,D.kk)(this.Ab,d,c);(0,D.vo)(this.Ab);this.A0()}};
D.u.ff=function(a,b){var c=new D.gn(this.H.j(),this.Ab,this.ri().xa()),d=b.ia();if(this.Ab.Rb){var e=d.Rb(),f=this.Ab.Rb();f instanceof D.vn&&!(f.rb()==e.rb()&&f.fa()==e.fa())&&(this.Ab.L(e),b.Mc()&&this.Bb&&(e=this.Bb.Rb(),this.Bb.L(b.Mc().Rb().Y()),(0,D.T)(c.J,"typeFill",this.Bb,this.Bb.Rb,this.Bb.L,e)),(0,D.T)(c.J,"typeFill",this.Ab,this.Ab.Rb,this.Ab.L,f))}if(this.Ab.Xt&&(f=b.ia().Xt(),e=this.Ab.Xt(),f.x!=e.x||f.y!=e.y||f.e!=e.e||f.g!=e.g))this.Ab.eB(f),(0,D.T)(c.J,"typeRectangle",this.Ab,this.Ab.Xt,
this.Ab.eB,e);f=d.Wv();e=this.Ab.Wv();if(f!=e){var g=f-e;g>window.Math.PI?f-=2*window.Math.PI:g<-window.Math.PI&&(f+=2*window.Math.PI);this.Ab.Yj(f);(0,D.T)(c.J,"typeNumber",this.Ab,this.Ab.Wv,this.Ab.Yj,e)}var g=b.Jd(),h=this.Jd();if(g&&h&&(g.x!=h.x||g.y!=h.y||f!=e))this.Lp(new D.E(g.x,g.y)),(0,D.T)(c.J,"typePoint",this,this.Jd,this.Lp,new D.E(h.x,h.y));this.Bb&&b.Mc()?(f=b.Mc().ja(),e=this.Bb.ja(),f!=e&&(this.Bb.ca(f),(0,D.T)(c.J,"typeNumber",this.Bb,this.Bb.ja,this.Bb.ca,e)),f=b.Mc().na(),e=this.Bb.na(),
f!=e&&(this.Bb.va(f),(0,D.T)(c.J,"typeNumber",this.Bb,this.Bb.na,this.Bb.va,e)),b.Mc().B(0)):b.Mc()&&b.Mc().B(0);d.B(0);a.add(c,1)};D.u.hh=function(a){var b=[this.Ab],c=this.Mc();c&&b.push(c);b=new D.jn(this.H.j(),b,this.ri().xa());a.add(b,0)};D.u.pg=function(a){var b=[this.Ab];this.Ab.B(0);var c=this.Mc();c&&(c.B(0),b.push(c));b=new D.Mm(this.H.j(),b,this.ri().xa());a.add(b,2)};D.u.aB=function(a){this.Ab.jb&&this.Ab.jb(a)};D.u.kw=function(a){this.rs(a)};
D.u.rs=function(a){a?this.Ab.Ob&&this.Ab.Ob():this.Ab.Db&&!this.oc()&&this.Ab.Db()};D.fT=function(a,b,c,d){if(a.Ab instanceof D.BS){var e=a.H.q()._contextHandler;e&&(c=e(a.Ab.ta(),a.Ab.BD(),a.oa,c,d),b=b(c),a=a.Ab,a.tz!==b&&(a.tz&&(a.tz instanceof D.nj?a.removeChild(a.tz):a.ta().removeChild(a.tz)),b instanceof D.nj?a.k(b):a.ta().appendChild(b),a.tz=b))}};D.TS.prototype.Ii=function(){return{hovered:this.yl,selected:this.Ca(),focused:this.oc()}};
D.SS=function(a,b,c,d){this.Init(a,b,c,d)};D.w.l(D.SS,D.TS,"DvtMapAreaPeer");D.u=D.SS.prototype;D.u.Init=function(a,b,c,d){D.SS.o.Init.call(this,a,b,c,d)};D.u.jb=function(a){this.Aa()&&(a&&!this.yl&&this.an.k(this.Ab),D.SS.o.jb.call(this,a))};D.u.Ob=function(){this.an.k(this.Ab);D.SS.o.Ob.call(this)};D.u.Db=function(){this.Ca()?this.an.k(this.Ab):this.an.Ma(this.Ab,0);D.SS.o.Db.call(this)};D.u.$v=function(){return this.Ab.$v()};D.u.PM=function(a){a?this.an.k(this.Ab):this.an.Ma(this.Ab,0);this.Ab.PM(a)};
D.u.mh=function(a){D.SS.o.mh.call(this,a);this.Ab.getParent()&&((0,D.FS)(this.Ab,a),this.$v()||this.A0(a))};D.u.A0=function(a){this.Mc()&&this.Mc().update(a)};D.u.Pea=function(){return(0,D.US)(this.ri().aa)};D.u.ff=function(a,b){D.SS.o.ff.call(this,a,b);this.ri().FQ.Ft[this.xk()]=!1};D.u.UU=(0,D.j)();
D.HS=function(a,b,c,d){this.Init(a,b,c,d)};D.w.l(D.HS,D.B,"DvtMapArea");D.u=D.HS.prototype;D.u.Init=function(a,b,c,d){D.HS.o.Init.call(this,a);this.Rh=this.ZE=!1;this.Nza=c;this.G=b;this.k(this.G);this.Sf=d;if(a=b.Yb())this.Uha=a.getWidth()};D.u.Gf=(0,D.s)("Si");D.u.Dj=(0,D.q)("Si");D.u.Yb=function(){return this.G instanceof D.Ki?this.G.Yb():null};D.u.V=function(a){this.G instanceof D.Ki&&this.G.V(a)};D.u.L=function(a){this.G instanceof D.Ki&&this.G.L(a)};
D.u.Rb=function(){return this.G instanceof D.Ki?this.G.Rb():null};D.u.xA=function(){return this.G instanceof D.Fh?this.G.xA():null};D.u.Bj=function(a){this.G instanceof D.Fh&&this.G.Bj(a)};D.u.hI=function(a){this.G instanceof D.Re&&this.G.hI(a)};D.u.jH=function(){return this.G.Ti()};D.u.contains=function(a,b){var c=this.F();return a>=c.x&&a<=c.x+c.e&&b>=c.y&&b<=c.y+c.g};D.u.mh=function(a){if(!this.Sf&&this.G&&this.Uha){var b=this.G.Yb().Y();b.ma(this.Uha/a.Dd);this.G.V(b)}};
D.JS=function(a,b,c){this.Init(a,b,c)};D.w.l(D.JS,D.w,"DvtMapLayer");D.u=D.JS.prototype;D.u.Init=function(a,b,c){this.aa=a;this.Gh=b;this.P1=c;this.Ej={};this.Ko=new D.dj};D.u.aga=(0,D.j)();D.u.X2=(0,D.j)();
D.u.uda=function(a,b){this.Sa&&this.Sa.stop(!0);this.Ko=b;this.At=this.ri(a.Zk());this.Ej[a.Zk()]=a;a.P(this.Ko);a.mh(new D.QC("zoomed"),this.Ko);if(this.At){var c=a.Nq(),d=a.xa();if("auto"==c){var e=new D.Jm(this.aa.j());(0,D.Km)(e,this.At.hk.concat(this.At.Oc),a.hk.concat(a.Oc));this.Sa=e.Nq()}else if(D.Zk.isSupported(c)){this.Wna=!0;for(var f=new D.z(0,0,this.aa.getWidth(),this.aa.getHeight()),g=(0,D.YS)(this.At),e=0;e<g.length;e++){var h=new D.C(this.aa.j(),0,0,this.aa.getWidth(),this.aa.getHeight());
h.L(null);g[e].k(h)}for(var i=(0,D.YS)(a),e=0;e<i.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth(),this.aa.getHeight()),h.L(null),i[e].k(h);f=D.Zk.pD(this.aa.j(),c,g,i,f,d);g=new D.z(0,0,this.aa.getWidth()/this.Ko.Dd,this.aa.getHeight()/this.Ko.Dd);i=[this.At.an];for(e=0;e<i.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth()/this.Ko.Dd,this.aa.getHeight()/this.Ko.Dd),h.L(null),i[e].k(h);for(var k=[a.an],e=0;e<k.length;e++)h=new D.C(this.aa.j(),0,0,this.aa.getWidth()/this.Ko.Dd,this.aa.getHeight()/
this.Ko.Dd),h.L(null),k[e].k(h);e=D.Zk.pD(this.aa.j(),c,i,k,g,d);this.Sa=new D.en(this.aa.j(),[f,e])}else{c=[this.At.an,this.At.hx,this.At.XO];for(e=0;e<c.length;e++)c[e].getParent().removeChild(c[e])}this.aga();if(this.Sa){this.P1.ei(this.sa);var l=this;this.Sa.he(function(){l.qr(a)},this);this.Sa.play()}}else this.X2(),(0,D.eT)(this.aa)};D.u.ri=function(a){return this.Ej?this.Ej[a]:null};D.u.P=function(a){this.Ko=a;for(var b in this.Ej)this.Ej[b].P(a)};
D.u.reset=function(a,b){for(var c in this.Ej)this.Ej[c].reset(a,b)};D.u.mh=function(a,b){this.Ko=b;for(var c in this.Ej)this.Ej[c].mh(a,b)};D.u.Dw=function(a){this.Ko=a;for(var b in this.Ej)this.Ej[b].Dw(a)};
D.u.qr=function(a){if(this.At)for(var b=[this.At.an,this.At.hx,this.At.XO],c=0;c<b.length;c++){var d=b[c].getParent();d&&d.removeChild(b[c])}if(this.Wna){this.Wna=!1;b=(0,D.YS)(a);for(c=0;c<b.length;c++)b[c].ts(b[c].Ja()-1);a=[a.an];for(c=0;c<a.length;c++)a[c].ts(a[c].Ja()-1)}this.X2();(0,D.eT)(this.aa);this.Sa=null;this.P1.le(this.sa)};
D.IS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.IS,D.JS,"DvtMapAreaLayer");D.u=D.IS.prototype;D.u.Init=function(a,b,c,d,e){D.IS.o.Init.call(this,a,b,e);this.Qr=c;this.Bla=d;this.hO={};this.Ho={};this.Bs={};this.oK=this.zu=null;this.cn=[];this.Ft={};this.Ht={};this.tY={};this.oI=new D.B(this.aa.j());this.JN=new D.B(this.aa.j());this.aa.i4.Ma(this.oI,0);this.aa.ux.Ma(this.JN,0);this.ul=new D.KS(this,this.aa.nk)};D.u.dda=(0,D.q)("d4");D.u.Nq=(0,D.s)("d4");D.u.ow=(0,D.q)("c4");D.u.xa=(0,D.s)("c4");
D.u.YIa=(0,D.s)("ul");D.LS=function(a,b){a.zu=b;for(var c in a.zu)a.Ft[c]=!0,a.Ht[c]=!0};D.IS.prototype.dra=function(a){return!this.oK?null:this.oK[a]};D.MS=function(a,b){return a.sl[b]?a.sl[b].split(","):[]};D.IS.prototype.k_=(0,D.s)("Qr");
D.IS.prototype.qH=function(){if(!this.qK)if(this.kK)this.qK=D.N.F(D.N.yR(D.AS.aKa(this.aa.nk,this.Gh,this.kK)));else if("world"!=this.aa.nk&&"worldRegions"!=this.aa.nk&&(this.qK=D.AS.yqa(this.aa.nk,this.Gh)),!this.qK){var a=(0,D.so)(this.oI.F(),this.aa.VO.F());0<a.e&&0<a.g&&(this.qK=a)}return this.qK};
D.OS=function(a,b,c){var d=a.Bs[b];if(d&&((c||!a.Ho[b])&&a.Nta(b),a.Ho[b]||(c=new D.HS(a.aa.j(),d,b,a.aa.Sf),a.Ho[b]=c,a.P1.Fa(d,c),c.Dj(a.zu&&a.zu[b]?a.zu[b][1]:null)),a.Ht[b]&&(c=a.hO[b],!c&&("off"!=a.Qr&&a.zu)&&(c="short"==a.Bla?a.zu[b][0]:a.zu[b][1]))))a.oK&&a.oK[b]?c=new D.NS(a.aa.j(),c,a.oK[b],a.Qr,a.JN,a.aa.Sf):(d=(0,D.ng)(a.aa.j(),d),c=new D.NS(a.aa.j(),c,[[d.x,d.y,d.e,d.g]],a.Qr,a.JN,a.aa.Sf)),a.hO[b]=c,a.I7&&c.Ha(a.I7)};
D.PS=function(a,b,c){if(a.Bs[b]){a.oI.k(a.Ho[b]);var d=a.hO[b];d&&(a.Ht[b]?d.update(a.Ko):d.reset(),a.tY[b]=a.Ht[b]);c&&(c.push(a.Ho[b]),d&&(c.push(d),c.push(d.um)))}};D.u=D.IS.prototype;
D.u.Nta=function(a){if(!this.Bna||this.mia){this.mia=!1;var b;this.Bna=(b="world"==this.aa.nk||"worldRegions"==this.aa.nk?D.AS.yqa(this.aa.nk,this.Gh):this.qH())?D.AS.MNa(D.AS.tqa(this.aa.nk,this.Gh),b.e,b.g,this.aa.getWidth(),this.aa.getHeight(),this.aa.VG?this.aa.CX:1):D.AS.tqa(this.aa.nk,this.Gh)}b=this.Bna[a];this.Bs[a]&&b?this.Bs[a].Bj(b):delete this.Bs[a]};D.u.uda=function(a,b,c){D.IS.o.uda.call(this,a,b,c);if(c==this.Gh)for(var d in this.Bs)(0,D.OS)(this,d,!0),this.Ft[d]&&(0,D.PS)(this,d)};
D.u.P=function(a){this.mia=!0;for(var b in this.Bs)(0,D.OS)(this,b,!0),this.Ft[b]&&(0,D.PS)(this,b);D.IS.o.P.call(this,a)};D.u.aga=function(){for(var a in this.Ft)this.Ft[a]||((0,D.OS)(this,a,!1),(0,D.PS)(this,a))};D.u.X2=function(){for(var a in this.Ft)if(!this.Ft[a]){this.oI.removeChild(this.Ho[a]);var b=this.hO[a];b&&(this.tY[a]=!1,this.JN.removeChild(b),(b=b.um)&&this.JN.removeChild(b))}};
D.u.iaa=function(a,b){for(var c=0;c<a.length;c++)(0,D.OS)(this,a[c],!1),this.Ft[a[c]]&&(0,D.PS)(this,a[c],b);for(var d in this.Ej)this.Ej[d].iaa(a,b,this.Ko);this.cn=this.cn.concat(a)};D.u.AT=function(a,b){for(var c in this.Ej)this.Ej[c].AT(a,b);c=(0,D.QS)(this.aa,this.Gh);for(var d=0;d<a.length;d++){var e=a[d];if(this.Ho[e]){var f=D.H.wa(this.cn,e);-1!==f&&(this.cn.splice(f,1),b.push(this.Ho[e]))}c&&c.AT((0,D.MS)(this,e),b)}};
D.u.reset=function(a,b){D.IS.o.reset.call(this,a,b);"none"!=this.aa.dn&&(this.AT(this.cn,a),this.cn=[])};D.RS=function(a,b,c){for(var d in a.Ho)if(a.Ho[d].contains(b,c))return a.Ho[d];return null};
D.IS.prototype.Hu=function(a){this.zf&&(this.oI.removeChild(this.zf),this.zf=null);if(a&&(this.zf=a.jH()))this.zf.L(new D.vn(this.jP.A("background-color"))),a=this.jP.A("border-width")?this.jP.A("border-width").substring(0,this.jP.A("border-width").indexOf("px")):1,this.aa.Sf||(a/=this.Ko.Dd),a=new D.I(this.jP.A("border-color"),1,a),this.aa.Sf&&(a.Fc=!0),this.zf.V(a),this.oI.k(this.zf);return this.zf};
D.IS.prototype.mh=function(a,b){D.IS.o.mh.call(this,a,b);if(!this.aa.Sf)for(var c in this.Ho)this.Ho[c].mh(b);for(c in this.tY)if(this.tY[c]){var d=this.hO[c];d&&d.update(b)}};
D.VS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.VS,D.IS,"DvtMapCustomAreaLayer");D.VS.prototype.Init=function(a,b,c,d,e){D.VS.o.Init.call(this,a,b,c,d,e)};D.VS.prototype.Nta=(0,D.j)();D.VS.prototype.qH=function(){return new D.z(0,0,this.iDa,this.hDa)};D.WS=function(a){var b=a.aa.getWidth(),c=a.aa.getHeight();a=a.Mza;for(var d=0;d<a.length;d++){var e=a[d],f=e.source,g=e.width,e=e.height;if(f&&-1<f.search(".svg")||g>=b&&e>=c||d==a.length-1)return f}};
D.VS.prototype.mh=function(a,b){D.VS.o.mh.call(this,a,b);if(this.Ho.image){var c=(0,D.WS)(this);c!=this.XW&&(this.XW=c,this.Ho.image.hI(this.XW))}};
D.XS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.w.l(D.XS,D.w,"DvtMapDataLayer");D.XS.prototype.Init=function(a,b,c,d,e){this.aa=a;this.bC=c;this.de=e;this.Oc=[];this.hk=[];this.oja=[];this.qja=[];this.fb=d;this.Gd=new D.gu(a.j());(0,D.Gq)(this.fb,this.Gd);this.an=new D.B(this.aa.j());this.hx=new D.B(this.aa.j());this.XO=new D.B(this.aa.j());this.aa.VO.Ma(this.an,0);this.aa.uz.Ma(this.hx,0);this.aa.ux.Ma(this.XO,0);this.FQ=b;this.cn=[];this.So=[]};D.XS.prototype.q=(0,D.s)("de");
D.YS=function(a){var b=[a.XO];a.aa.Kz&&b.push(a.hx);return b};D.ZS=function(a){for(var b=[],c=0;c<a.Oc.length;c++)a.Oc[c].$v()||b.push(a.Oc[c]);return b};D.$S=function(a){for(var b=[],c=0;c<a.Oc.length;c++)for(var d=0;d<a.cn.length;d++)a.Oc[c].xk()==a.cn[d]&&(a.Oc[c].$v()||b.push(a.Oc[c]));return b};D.aT=function(a,b){a.qja.push(b);if(b){a.hk.push(b);a.fb.Fa(b.ia(),b);var c=b.Mc();c&&a.fb.Fa(c,b)}};D.bT=function(a,b){a.oja.push(b);b&&(a.Oc.push(b),a.fb.Fa(b.ia(),b),b.an=a.an)};D.u=D.XS.prototype;
D.u.Zk=(0,D.s)("bC");D.u.dda=(0,D.q)("d4");D.u.Nq=(0,D.s)("d4");D.u.ow=(0,D.q)("c4");D.u.xa=(0,D.s)("c4");D.u.rw=function(a){if(this.Fq=a)this.Hb=new D.Vk(this.Fq),this.fb.yu(this.bC,this.Hb)};D.u.Aa=function(){return null!=this.Fq};D.cT=function(a,b){var c;c=a.Oc[b];var d=c.ia(),e=a.FQ.Bs[c.xk()];e?(d.Bj(e.xA()),c=!0):(c=a.Oc.indexOf(c),-1!==c&&a.Oc.splice(c,1),c=!1);if(c){d=a.Oc[b].ia();a.an.k(d);if(c=a.Oc[b].Mc())0<c.Yw.length||(d=d.F(),c.Yw.push(d)),c.update(a.UK);return!0}return!1};D.u=D.XS.prototype;
D.u.P=function(a){this.bia=!0;this.UK=a;a={};var b=this.hk.slice();b.sort(function(a,b){return a.Tc()<b.Tc()?1:a.Tc()>b.Tc()?-1:0});for(var c=0;c<b.length;c++){var d=b[c],e=d.ia(),f=d.Mc();if(f){var g=new D.B(e.j());this.hx.k(g);g.k(e);g.k(f);d.A0()}else this.hx.k(e);(d=d.xk())&&(a[d]=!0)}for(c=0;c<this.Oc.length;c++)a[this.Oc[c].xk()]&&(this.Oc[c].Bb=null),(0,D.cT)(this,c)||c--;this.d7&&this.$z()};
D.u.iaa=function(a,b,c){this.UK=c;for(var d=[],e=0;e<a.length;e++)for(var f=0;f<this.Oc.length;f++)if(this.Oc[f].xk()==a[e]){d.push(this.Oc[f].xk());(0,D.cT)(this,f);var g=this.Oc[f].ia();b.push(g);(0,D.FS)(g,c);if(f=this.Oc[f].Mc())b.push(f),(f=f.um)&&b.push(f);break}for(f=0;f<this.hk.length;f++)for(e=0;e<a.length;e++)c=this.hk[f].xk(),g=this.hk[f].ia(),null!=c?c==a[e]&&(this.hx.k(g),b.push(g)):(this.hx.k(g),b.push(g));this.cn=this.cn.concat(d)};
D.u.AT=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<this.Oc.length;d++)if(this.Oc[d].xk()==a[c]){this.Oc[d].$v()&&this.Oc[d].PM(!1);this.Oc[d].Ca()&&this.Hb.cT(this.Oc[d]);var e=D.H.wa(this.cn,a[c]);if(-1<e&&(this.cn.splice(e,1),b.push(this.Oc[d].ia()),d=this.Oc[d].Mc()))b.push(d),b.push(d.um);break}};
D.u.reset=function(a,b){if(this.Hb)for(var c=this.Hb.getSelection(),d=0;d<c.length;d++)(!b||b&&-1==D.H.wa(b,c[d].xk()))&&this.Hb.cT(c[d]);if("none"!=this.aa.dn)for(c=0;c<this.So.length;c++){for(d=0;d<this.Oc.length;d++)if(this.Oc[d].xk()==this.So[c]){this.Oc[d].PM(!1);var e=this.Oc[d].ia();this.an.k(e);a.push(e);if(d=this.Oc[d].Mc())d.update(this.UK),a.push(d),a.push(d.um);break}for(d=0;d<this.hk.length;d++)if(this.hk[d].xk()==this.So[c]){e=this.hk[d].ia();this.hx.k(e);a.push(e);break}}this.So=[]};
D.u.mh=function(a,b){this.UK=b;var c=b.Dd,d=a.vj();if(this.bia&&"zoomed"==d){this.bia=!1;for(d=0;d<this.Oc.length;d++){var e=this.Oc[d].ia(),f=e.EEa;if(f){var g=new D.ah;f.Fe(g);g.za(new D.dj(1/c,null,null,1/c));e.L(g)}}}d=this.Oc;for(c=0;c<d.length;c++)d[c].mh(b);if(this.aa.Kz){d=this.hk;for(c=0;c<d.length;c++)d[c].mh(b)}};D.u.Dw=(0,D.q)("UK");D.u.$z=function(){this.Hb&&((0,D.Cl)(this.Hb,this.d7,this.hk.concat(this.Oc)),this.d7=null)};
D.u.QB=function(a){if(this.Hb){a.Ca()||(this.Hb.Km(a,!1),this.fb.Nv(a));a=[];for(var b=this.Hb.getSelection(),c=0;c<b.length;c++)a.push(b[c].getId());return a}return null};D.u.PB=function(){for(var a=[],b=this.Hb.getSelection(),c=0;c<b.length;c++)a.push(b[c].ia());return a};
D.lT=function(a,b){this.Init(a,b)};D.w.l(D.lT,D.Ep,"DvtThematicMapKeyboardHandler");D.u=D.lT.prototype;D.u.Init=function(a,b){D.lT.o.Init.call(this,a,b);this.aa=a};D.u.qy=function(a){return this.sg(a)&&!a.ctrlKey};
D.u.Ch=function(a){var b=a.keyCode;if(221==b){var b=this.ea.dd(),c=(0,D.gT)(this.aa);b instanceof D.SS&&0<c.length&&(b=(0,D.Am)(b,a,c));(0,D.KT)(this.ea,b)}else 219==b?(b=this.ea.dd(),c=(0,D.US)(this.aa),!(b instanceof D.SS)&&0<c.length&&(b=(0,D.Am)(b,a,c)),(0,D.KT)(this.ea,b)):(b=D.lT.o.Ch.call(this,a),this.sg(a)&&!a.ctrlKey&&(0,D.KT)(this.ea,b));return b};D.u.$q=function(a){return 32==a.keyCode&&a.ctrlKey};
D.u.sg=function(a){var b=D.lT.o.sg.call(this,a);if(!b&&(a=a.keyCode,219==a||221==a))b=!0;return b};
D.kT=function(a,b,c){this.Init(a,b,c)};D.w.l(D.kT,D.Lj,"DvtThematicMapEventManager");D.u=D.kT.prototype;D.u.Init=function(a,b,c){D.kT.o.Init.call(this,a,b,c);this.gA={};this.aa=c;this.Vw=!1};D.u.jh=function(a){if(a&&a.ri)return this.gA[a.ri().Zk()]};D.u.yu=function(a,b){this.gA[a]=b};D.u.jda=(0,D.q)("dn");D.u.cT=function(a,b){var c=this.gA[a];c&&c.cT(b)};D.u.NL=function(a){(a=this.gA[a])&&a.NL()};
D.u.Ly=function(a){var b=(0,D.Aj)(this,a.target);b&&(b.pd&&b.ri)&&(this.aa.OJ=b.ri().Zk());D.kT.o.Ly.call(this,a)};D.u.Om=function(a){this.aa.OJ=null;D.kT.o.Om.call(this,a)};D.u.Hh=function(a){var b=(0,D.Aj)(this,a.target);(0,D.KT)(this,b);if(!b||!b.Aa||!b.Aa())for(var c in this.gA)if(this.gA[c].Km(null,a.ctrlKey)){var d=new D.Bm([]);(0,D.zl)(d,"clientId",c);this.mb.call(this.sa,d)}D.kT.o.Hh.call(this,a);this.OW(b,a.pageX,a.pageY)};
D.u.OW=function(a,b,c){if(a instanceof D.TS){var d=a.xD();d?d.call():null!=a.Ae()?(0,D.LT)(this,a,b,c):a.pd()&&(this.aa.OJ=a.ri().Zk())}};D.LT=function(a,b,c,d){var e=new D.GS(b.Zk(),b.getId(),b.Ae());(0,D.zl)(e,"clientId",b.ri().Zk());null!=c&&null!=d&&(b=(0,D.Hu)(a.aa.j(),c,d),(0,D.zl)(e,"pointXY",{x:b.x,y:b.y}));a.Ac();a.mb.call(a.sa,e)};
D.KT=function(a,b){var c=null,d=null,e=null;b&&(b instanceof D.TS?e=b.ia():b instanceof D.HS&&(e=b),b.ri&&(d=b.ri(),c=d.Zk(),d=d.FQ.Gh));var f=a.aa;f.lm=d;f.ax=c;f.QV=e};D.u=D.kT.prototype;D.u.Ky=function(a){a=(0,D.Aj)(this,a.target);this.jh(a)&&(this.dn&&"none"!=this.dn)&&(a=new D.dT(D.dT.H1),this.mb.call(this.sa,a))};
D.u.Ih=function(a){var b=!0,c=a.keyCode,d=this.dd(),e=d.ia();9!=c&&this.Vw?(e.QL(a),a.preventDefault()):(48==c||96==c)&&a.ctrlKey&&a.shiftKey?(this.aa.Xca(),a.preventDefault()):220==c?((d=this.aa.Vc)&&(d instanceof D.Cu?(0,D.Du)(d,!d.isCollapsed()):d instanceof D.mr&&d.wf(!d.Pa())),a.preventDefault()):13==c?d instanceof D.TS&&((e=d.xD())?e.call():null!=d.Ae()?(0,D.LT)(this,d):a.shiftKey?this.aa.jaa():this.aa.LZ(),a.preventDefault()):32==c&&a.ctrlKey?((0,D.KT)(this,d),(0,D.Xy)(this,d,!0),a.preventDefault()):
(48==c||96==c)&&a.ctrlKey?(a.altKey?(d=this.aa,e||(e=d.wpa),e||(e=d.QV),d.UG(e.F())):(0,D.tT)(this.aa),a.preventDefault()):9==c&&e instanceof D.BS?!a.shiftKey&&d.oc()?(d.ic(),e.QL(a),a.preventDefault(),this.Vw=!0):(a.shiftKey&&this.Vw?(this.QI(a,d),a.preventDefault()):(this.Vw&&d.Ud(),b=D.kT.o.Ih.call(this,a)),this.Vw=!1):b=D.kT.o.Ih.call(this,a);return b};
D.u.AB=function(a){if(!(0,D.qq)(this,a,"panned")){var b=(0,D.Aj)(this,a.target);(0,D.KT)(this,b);if(b instanceof D.xS)for(var c in this.gA)if(this.gA[c].Km(null,a.ctrlKey)){for(var d=this.gA[c].getSelection(),e=[],f=0;f<d.length;f++)e.push(d[f].getId());d=new D.Bm(e);this.mb.call(this.sa,d)}D.kT.o.AB.call(this,a);this.OW(b,a.Fo.pageX,a.Fo.pageY)}};D.u.r2=function(a){a=(0,D.Aj)(this,a.target);this.aa.OJ=a&&a.pd&&a.ri?a.ri().Zk():null};
D.u.ufa=function(a){a=(0,D.Aj)(this,a.target);this.aa.OJ=a&&a.pd&&a.ri?a.ri().Zk():null};D.u.wB=function(a){var b=(0,D.Aj)(this,a.target);b&&(this.jh(b)&&this.dn&&"none"!=this.dn)&&((0,D.Xy)(this,b,a.ctrlKey),a=new D.dT(D.dT.H1),this.mb.call(this.sa,a))};D.u.hU=function(a,b){var c=(0,D.Aj)(this,a.target);(0,D.KT)(this,c);D.kT.o.hU.call(this,a,b)};
D.u.dm=function(a,b,c){a=this.aa.q();"dim"==a.hoverBehavior&&(b=b.Lc?b.Lc():[],a.highlightedCategories=c?b.slice():null,c=new D.qm(c?"categoryRollOver":"categoryRollOut",a.highlightedCategories),b=(0,D.So)(a.styleDefaults.hoverBehaviorDelay),this.GB.Od(c,(0,D.US)(this.aa).concat((0,D.gT)(this.aa)),b,"any"==a.highlightMatch))};D.u.Bu=function(){var a=this.aa.q();return"none"!==a.panning||"none"!==a.zooming?"touchHold":"touchStart"===a.touchResponse?"touchStart":"auto"};
D.u.Iw=function(a){return"panned"==a?!1:D.kT.o.Iw.call(this,a)};
D.iT=function(a){this.Init(a)};D.w.l(D.iT,D.w,"DvtThematicMapJsonParser");D.iT.prototype.Init=function(a){this.aa=a;this.gX=!1;this.TE=null;this.$Ca=(0,D.Gf)();this.lja={};this.mja={}};
D.iT.prototype.parse=function(a){var b=a.animationDuration;"string"==typeof b?"ms"==b.slice(-2)?b=(0,window.parseInt)(b.slice(0,-2))/1E3:"s"==b.slice(-1)&&(b=(0,window.parseFloat)(b.slice(0,-1))):b/=1E3;this.aa.ow(b);this.aa.Qha="auto"==a.animationOnDisplay?"alphaFade":a.animationOnDisplay;this.aa.Dza="auto"==a.animationOnMapChange?"alphaFade":a.animationOnMapChange;this.gX=null!=a.source;var b=this.aa,c=this.gX?"$"+a.basemap:a.basemap;b.m4=b.nk&&b.nk!=c;b.nk=c;this.aa.V0(a.featuresOff);this.aa.QO=
a.controlPanelBehavior;b=a.tooltipDisplay;"shortDesc"==b?b="shortDescOnly":"labelAndShortDesc"==b&&(b="auto");this.aa.zja=b;(b=a.popups)&&this.aa.YM(this.rm(b));this.aa.jda(a.drilling);this.aa.f4=a.animationOnDrill;this.aa.j7="auto"==a.initialZooming;this.aa.Kz="fixed"==a.markerZoomBehavior;this.aa.PK="auto"==a.panning;this.aa.VG="auto"==a.zooming;this.aa.ela=a.panX;this.aa.fla=a.panY;this.aa.i7=a.zoom;(0,window.isNaN)(a.maxZoom)||(b=window.Math.max(a.maxZoom,1),this.aa.CX=b);a._legend&&(this.aa.wx=
a._legend);b=a.styleDefaults;(0,D.fq)(this.aa,b);this.TE=new D.F(b.areaStyle);(0,D.Sf)(this.TE,b.labelStyle);this.Lza=new D.F(b.dropTargetStyle);this.aa.$Y=b;if(this.gX&&a.sourceXml)for(var b=(new D.hj).parse(a.sourceXml).xc(),d,e,c=0;c<b.length;c++)if(d=b[c],e=d.getName(),"layer"==e){e=d;d=e.xc();e=e.v("id");for(var f=void 0,g=void 0,h=[],i=0;i<d.length;i++)if(f=d[i],g=f.getName(),"image"==g){g={};g.source=f.v("source");g.width=f.v("width");g.height=f.v("height");var k=f.v("bidi"),f=f.v("dir");g.dir=
"true"==k||"rtl"==f?"rtl":"ltr";h.push(g)}this.lja[e]=h}else if("points"==e){d=d.xc();h=e=void 0;i={};f={};for(g=0;g<d.length;g++)e=d[g],h=e.getName(),"point"==h&&(i[e.v("name")]=[e.v("x"),e.v("y")],f[e.v("name")]=[null,e.v("longLabel")]);D.AS.Pca(this.aa.nk,"cities",f,i,null,null,1)}b=a.areaLayers;c=this.aa.nk;for(d=0;d<b.length;d++)if(e=D.kl.bd(b[d],D.IT),i=e.layer){e.areaStyle&&(0,D.Sf)(this.TE,e.areaStyle);e.labelStyle&&(0,D.Sf)(this.TE,e.labelStyle);if(this.gX){f=h=new D.VS(this.aa,i,e.labelDisplay,
e.labelType,this.aa.la());i=this.lja[i];k=null;g=(0,D.D)(f.aa.j());if(i&&0<i.length){var k=i[0].width,l=i[0].height;f.iDa=k;f.hDa=l;for(var m=[],n=0;n<i.length;n++)g&&"rtl"==i[n].dir?m.push(i[n]):!g&&"ltr"==i[n].dir&&m.push(i[n]);f.Mza=0<m.length?m:i;f.XW=(0,D.WS)(f);k=new D.Re(f.aa.j(),f.XW,0,0,k,l)}k&&((0,D.LS)(f,{image:[null,null]}),f.Bs={image:k})}else{h=new D.IS(this.aa,i,e.labelDisplay,e.labelType,this.aa.la());f=D.AS.iIa(c,i);g=h;n=f;k={};l=this.aa.j();m=void 0;for(m in n){k[m]=new D.Fh(l);
if((n=this.TE.A("border-color"))&&"transparent"!=n)n=new D.I(n),this.aa.Sf&&(n.Fc=!0),k[m].V(n);n=this.TE.A("background-color");"transparent"!=n?k[m].pa(n):k[m].L(null)}g.Bs=k;(0,D.LS)(h,f);f=D.AS.hIa(c,i);h.oK=f;i=D.AS.vIa(this.aa.nk,i);h.sl=i}h.I7=this.TE;h.jP=this.Lza;h.dda("auto"==e.animationOnLayerChange?"alphaFade":e.animationOnLayerChange);h.ow(this.aa.xa());this.aa.Af.push(h);e.areaDataLayer&&(0,D.pT)(this,[e.areaDataLayer],h,null,!0);e.pointDataLayers&&(0,D.pT)(this,e.pointDataLayers,h,null,
!1)}(0,D.pT)(this,a.pointDataLayers,null,null,!1)};
D.pT=function(a,b,c,d,e){if(b)for(var f=0;f<b.length;f++){var g=D.kl.bd(b[f],D.JT);if(g.markerDefs){var h=g.markerDefs,i;for(i in h)if(!a.mja[i]){var k=(new D.hj).parse(h[i]);a.mja[i]=D.yE.oHa(a.aa.j(),k)}}g.legend&&(a.aa.wx=g.legend);if(c){if(c instanceof D.IS&&e)for(h in e=c,h=void 0,e.zu)e.Ft[h]=!0,e.Ht[h]=!0}else c=new D.JS(a.aa,g.id,a.aa.la()),a.aa.Af.push(c);h=new D.XS(a.aa,c,g.id,a.aa.la(),g);e=g.selectionMode;"single"==e?h.rw("s"):"multiple"==e&&h.rw("m");h.dda(g.animationOnDataChange);h.ow(a.aa.xa());
var l=null;c instanceof D.IS&&(l=g.isolatedItem);var m=g.disclosedItems,k=[],n;e=c instanceof D.IS;var o;g.popups&&(o=a.rm(g.popups));var p=a.aa.q().hiddenCategories,r=g.areas;if(r)for(var t=0;t<r.length;t++)if(p&&D.H.hu(p,r[t].categories))(0,D.bT)(h,null);else{var v=r[t].location;if(l)if(l!=r[t].id)continue;else n=v;m&&-1!=D.H.wa(m,r[t].id)&&k.push(v);var y=a,L=c,J=h,v=r[t],G=v.location;if(L.Bs[G]&&v.color){L.Ft[G]=!1;G=new D.CS(y.aa.j(),y.aa.Sf);v=D.kl.bd(v,y.aa.$Y.dataAreaDefaults);v.labelStyle||
(v.labelStyle=y.aa.$Y.labelStyle);var O=new D.I(v.hoverColor,1,2),K=new D.I(v.selectedInnerColor,1,1),U=new D.I(v.selectedOuterColor,1,4);G.Np(O,null).Pp(K,U);O=new D.I(v.drilledInnerColor,1,2);U=new D.I(v.drilledOuterColor,1,4);K=G;K.oW=O;K.oW&&K.Sf&&(K.oW.Fc=!0);K.pW=U;K.pW&&K.Sf&&(K.pW.Fc=!0);L.Ht[v.location]=!1;(0,D.MT)(y,v,G);y=y.iF(L,J,v,G,!0);v=new D.SS(v,J,G,y)}else v=null;o&&v.YM(o);v&&(v.Jf(h.Aa()),(0,D.bT)(h,v))}r=g.renderer;if((J=g.markers)&&!r)for(t=0;t<J.length;t++)if(p&&D.H.hu(p,J[t].categories))(0,D.aT)(h,
null);else{v=J[t].location;if(l)if(l!=J[t].id)continue;else n=v;v=a.fW(c,h,J[t],e);o&&v.YM(o);v&&(v.Jf(h.Aa()),(0,D.aT)(h,v))}if(p=g.images)for(t=0;t<p.length;t++){v=p[t].location;if(l)if(l!=p[t].id)continue;else n=v;v=a.q5(c,h,p[t],e);o&&v.YM(o);v&&(0,D.aT)(h,v)}if(r)for(t=0;t<J.length;t++){v=J[t].location;if(l)if(l!=J[t].id)continue;else n=v;m&&-1!=D.H.wa(m,J[t].id)&&k.push(v);p=a.aa.q()._contextHandler(a.aa.ta(),null,J[t],{hovered:!1,selected:!1,focused:!1},null);G=r(p);y=a;L=c;p=h;v=J[t];O=G;
K=e;(G=(0,D.NT)(p,v))?(K&&(L.Ht[v.location]=!1),y=new D.BS(y.aa.j(),O,y.aa.$Y.dataAreaDefaults),v=new D.TS(v,p,y,null,G)):v=null;o&&v.YM(o);v&&(v.Jf(h.Aa()),(0,D.aT)(h,v))}if(n)for(t in h.yPa=l,l=c,m=n,l.kK=m,l.qK=null,t=void 0,l.Bs)t!=m&&(l.Ft[t]=!1);if((g=g.selection)&&0<g.length)h.d7=g;k&&0<k.length&&(a.aa.EP[c.Gh]=[h.Zk(),k]);d?c.uda(h,a.aa.da.ba.ua(),d):c.Ej[h.Zk()]=h}};
D.iT.prototype.fW=function(a,b,c,d){var e=(0,D.NT)(b,c);if(!e)return null;var f=this.aa.$Y.dataMarkerDefaults,g=new D.F(f.labelStyle);(0,D.Sf)(g,c.labelStyle);c=D.kl.bd(c,f);c.labelStyle=g.toString();f=1;(0,window.isNaN)(c.scaleX)||(f=c.scaleX);g=1;(0,window.isNaN)(c.scaleY)||(g=c.scaleY);var h=c.width,i=c.height;if(!h||(0,window.isNaN)(h))h=this.aa.q().styleDefaults.dataMarkerDefaults.width;if(!i||(0,window.isNaN)(i))i=this.aa.q().styleDefaults.dataMarkerDefaults.height;if(c.source)f=new D.Zg(this.aa.j(),
e.x,e.y,h*f,i*g,c.source,c.sourceSelected,c.sourceHover,c.sourceHoverSelected);else var k=c.shape?c.shape:this.aa.q().styleDefaults.dataMarkerDefaults.shape,f=new D.$g(this.aa.j(),k,this.aa.mc,e.x,e.y,h*f,i*g);(g=c.rotation)&&f.Yj(g*window.Math.PI/180);d&&(a.Ht[c.location]=!1);(0,D.MT)(this,c,f);a=this.iF(a,b,c,f,d);return new D.TS(c,b,f,a,e)};
D.iT.prototype.q5=function(a,b,c,d){var e=(0,D.NT)(b,c);if(!e)return null;var f=new D.Re(this.aa.j(),c.url),g=c.width,h=c.height;null!=g&&null!=h&&(f.ca(e.x-g/2),f.va(e.y-h/2),f.ma(g),f.Da(h));d&&(a.Ht[c.location]=!1);var i=new D.TS(c,b,f,null,e);(!g||!h)&&D.Ee.Cn(this.aa.j(),c.url,function(a){a&&(a.width&&a.height)&&(f.ma(a.width),f.Da(a.height),f.ca(e.x-a.width/2),f.va(e.y-a.height/2),i.UU())});return i};
D.iT.prototype.iF=function(a,b,c,d,e){var f=c.location,g=c.label,h=g?"on":"off";e&&(h=a.k_());d=d instanceof D.Fh;if(!g&&e&&(d&&"off"!=h||!d&&"on"==h))g="long"==a.Bla?a.zu[f][1]:a.zu[f][0];if(g){var i=this.aa.j(),i=d?new D.NS(i,g,a.dra?a.dra(f):null,h,b.XO,this.aa.Sf):new D.Hf(i,g,0,0);b=new D.F;d&&b.bd(new D.F(a.I7));c.labelStyle&&(0,D.Sf)(b,c.labelStyle);a=b.A("color");b.W("color",null);i.Ha(b);if(i instanceof D.NS&&(!0===D.zo||!a))a=D.M.rj(c.color);a&&i.pa(a)}return i};
D.MT=function(a,b,c){var d=b.pattern,e=b.color,f=a.$Ca||"alta"==a.aa.mc?"none":b.visualEffects;if(c instanceof D.$g){if("none"!=b.borderStyle){var g=b.borderWidth;"string"==typeof g&&(g="px"==g.slice(-2)?(0,window.parseFloat)(b.borderWidth.slice(0,-2)):(0,window.parseFloat)(b.borderWidth));var h=new D.I(b.borderColor,1,g);a.aa.Kz||(h.Fc=!0);h.Ek((0,D.eg)(b.borderStyle));c.V(h)}g=b.opacity;"none"!=f?c.L(new D.bh.Zpa(e,c,g)):d?c.L(new D.ah(d,e,"#FFFFFF")):e&&c.pa(e,g)}else if(c instanceof D.Fh){if(b=
b.borderColor)h=new D.I(b),a.aa.Sf&&(h.Fc=!0),c.V(h);d?(a=new D.ah(d,e,"#FFFFFF"),c.EEa=a):c.pa(e,g)}};D.NT=function(a,b){var c=a.aa,d=c.nk,e=b.location;return e?((c=D.AS.fIa(d,a.FQ.Gh,e))||(c=D.AS.wIa(d,e)),c):D.Z.aNa(b.x,b.y,c.nk)};D.iT.prototype.rm=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new D.Ci(a[c].popupId,a[c].triggerType,null,a[c].align));return b};
D.Z={};D.w.l(D.Z,D.w,"DvtThematicMapProjections");D.Z.Pw=new D.z(0,0,800,500);D.Z.QU=6378206.4;D.Z.G3=new D.z(500,200,200,200);D.Z.F3=new D.z(163,-49,17,17);D.Z.Kga=new D.z(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);D.Z.Nga=new D.z(-0.8436866097568272,-0.7626456732012923,1.8336308036296942,1.5748427214611724);D.Z.Oga=new D.z(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);
D.Z.$ga=new D.z(-0.47944476148667076,-0.0014669405958800579,0.7364925893845453,0.6293972741802124);D.Z.oha=new D.z(-0.6154469465354344,-0.24589767758847714,1.2448236795108683,1.2631535127174947);D.Z.uha=new D.z(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);D.Z.Mga=new D.z(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);D.Z.Zga=new D.z(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);
D.Z.mha=new D.z(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);D.Z.wha=new D.z(-0.6154656300926513,0.0507209798775865,1.0153104799231851,0.966537441082997);D.Z.yha=new D.z(-171.9,-62.6,349.8,150.8);D.Z.ywa=new D.z(172,51,8,3);D.Z.zwa=new D.z(-180,51,51,21);D.Z.Jxa=new D.z(-178.5,18.9,35,11);D.Z.Hya=new D.z(-124.8,24.4,58,25.5);D.Z.Lga=new D.z(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);
D.Z.gha=new D.z(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);D.Z.vha=new D.z(-2386803.25,-1183550.5,4514111,2908402);D.Z.E3=new D.z(165,400,100,100);D.Z.B3=new D.z(-75,350,240,150);D.Z.Qn=[[1,0],[0.9986,0.0314],[0.9954,0.0629],[0.99,0.0943],[0.9822,0.1258],[0.973,0.1572],[0.96,0.1887],[0.9427,0.2201],[0.9216,0.2515],[0.8962,0.2826],[0.8679,0.3132],[0.835,0.3433],[0.7986,0.3726],[0.7597,0.4008],[0.6732,0.4532],[0.6213,0.4765],[0.5722,0.4951],[0.5322,0.5072]];
D.Z.aNa=function(a,b,c){var d;switch(c){case "africa":d=D.Z.Dz(D.Z.Kga,D.Z.vP(a,b));break;case "asia":d=D.Z.Dz(D.Z.Nga,D.Z.EW(40,95,20,60,a,b),D.Z.Zi(5));break;case "australia":d=D.Z.GBa(a,b);break;case "europe":d=D.Z.Dz(D.Z.$ga,D.Z.EW(35,25,40,65,a,b),D.Z.Zi(10));break;case "northAmerica":d=D.Z.Dz(D.Z.oha,D.Z.EW(23,-96,20,60,a,b));break;case "southAmerica":d=D.Z.Dz(D.Z.uha,new D.E(a,b),D.Z.Zi(5));break;case "apac":d=D.Z.Dz(D.Z.Mga,D.Z.vP(a,b));break;case "emea":d=D.Z.Dz(D.Z.Zga,D.Z.vP(a,b));break;
case "latinAmerica":d=D.Z.Dz(D.Z.mha,new D.E(a,b));break;case "usaAndCanada":d=D.Z.Dz(D.Z.wha,D.Z.EW(23,-96,20,60,a,b));break;case "worldRegions":d=D.Z.Lka(a,b);break;case "usa":d=D.Z.mCa(a,b);break;case "world":d=D.Z.Lka(a,b)}return d?new D.E(10*d.x,10*d.y):null};
D.Z.mCa=function(a,b){var c;(0,D.mm)(D.Z.ywa,a,b)||(0,D.mm)(D.Z.zwa,a,b)?(c=D.Z.qq(D.Z.Lga,D.Z.B3),c=D.Z.eO(c,D.Z.vP(a,b))):(0,D.mm)(D.Z.Jxa,a,b)?(c=D.Z.qq(D.Z.gha,D.Z.E3),c=D.Z.eO(c,new D.E(a,b))):(0,D.mm)(D.Z.Hya,a,b)&&(c=D.Z.qq(D.Z.vha,D.Z.Pw),c=D.Z.eO(c,D.Z.dCa(new D.E(-95,36),a,b)));return D.Z.FW(c)};D.Z.Lka=function(a,b){var c=D.Z.qq(D.Z.yha,D.Z.Pw),c=D.Z.eO(c,D.Z.hCa(a,b));return D.Z.FW(c)};
D.Z.GBa=function(a,b){var c;c=(0,D.mm)(D.Z.F3,a,b)?D.Z.qq(D.Z.F3,D.Z.G3):D.Z.qq(D.Z.Oga,D.Z.Pw);c=D.Z.eO(c,D.Z.vP(a,b));return D.Z.FW(c)};D.Z.Dz=function(a,b,c){a=D.Z.qq(a,D.Z.Pw);if(c){var d=new D.dj;d.rotate(c);a=D.Z.Sia(a,d)}b=(0,D.Ap)(a,b);return D.Z.FW(b)};D.Z.FW=function(a){var b=D.Z.Pw;return!a||!(0,D.mm)(b,a.x,a.y)?null:a};
D.Z.EW=function(a,b,c,d,e,f){b=D.Z.Zi(b);a=D.Z.Zi(a);c=D.Z.Zi(c);d=D.Z.Zi(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;e=d*(D.Z.Zi(e)-b);f=c-2*d*window.Math.sin(D.Z.Zi(f));f=window.Math.sqrt(f)/d;return new D.E(f*window.Math.sin(e),a-f*window.Math.cos(e))};D.Z.vP=function(a,b){var c=window.Math.log(window.Math.tan(0.25*window.Math.PI+0.5*D.Z.Zi(b)));return new D.E(a,D.Z.cN(c))};
D.Z.dCa=function(a,b,c){b=D.Z.Zi(b);c=D.Z.Zi(c);var d=D.Z.Zi(a.x);a=D.Z.Zi(a.y);return new D.E(window.Math.cos(c)*window.Math.sin(b-d)*D.Z.QU,(window.Math.cos(a)*window.Math.sin(c)-window.Math.sin(a)*window.Math.cos(c)*window.Math.cos(b-d))*D.Z.QU)};
D.Z.hCa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.Qn.length-1&&(c=D.Z.Qn.length-2);var d=(window.Math.abs(b)-5*c)/5,e=a*(D.Z.Qn[c][0]+d*(D.Z.Qn[c+1][0]-D.Z.Qn[c][0])),c=D.Z.Qn[c][1]+d*(D.Z.Qn[c+1][1]-D.Z.Qn[c][1]);0>b&&(c*=-1);return new D.E(e,180*c)};D.Z.eO=function(a,b){return new D.E(b.x*a.Dd+a.pc,b.y*a.hg+a.nc)};D.Z.Sia=function(a,b){var c=a.Dd,d=a.hg;return new D.dj(b.Dd*c,b.Mh*c,b.Yg*d,b.hg*d,a.pc+b.pc*c,a.nc+b.nc*d)};
D.Z.qq=function(a,b){var c=b.x,d=b.y,e=a.e,f=a.g,g=0,g=b.e/e,h=b.g/f,g=g<=h?g:h,c=c-a.x*g,d=d+a.y*g,c=c+(b.e-e*g)/2,d=d+(b.g-(b.g-f*g)/2);return new D.dj(g,0,0,-g,c,d)};D.Z.Zi=function(a){return a*(window.Math.PI/180)};D.Z.cN=function(a){return a*(180/window.Math.PI)};
D.Z.OLa=function(a,b,c){var d;a/=10;b/=10;switch(c){case "africa":d=D.Z.Ez(D.Z.Kga,new D.E(a,b));d=D.Z.tP(d.x,d.y);break;case "asia":d=D.Z.Ez(D.Z.Nga,new D.E(a,b),D.Z.Zi(5));d=D.Z.IW(40,95,20,60,d.x,d.y);break;case "australia":d=D.Z.TBa(a,b);break;case "europe":d=D.Z.Ez(D.Z.$ga,new D.E(a,b),D.Z.Zi(10));d=D.Z.IW(35,25,40,65,d.x,d.y);break;case "northAmerica":d=D.Z.Ez(D.Z.oha,new D.E(a,b));d=D.Z.IW(23,-96,20,60,d.x,d.y);break;case "southAmerica":d=D.Z.Ez(D.Z.uha,new D.E(a,b),D.Z.Zi(5));break;case "apac":d=
D.Z.Ez(D.Z.Mga,new D.E(a,b));d=D.Z.tP(d.x,d.y);break;case "emea":d=D.Z.Ez(D.Z.Zga,new D.E(a,b));d=D.Z.tP(d.x,d.y);break;case "latinAmerica":d=D.Z.Ez(D.Z.mha,new D.E(a,b));break;case "usaAndCanada":d=D.Z.Ez(D.Z.wha,new D.E(a,b));d=D.Z.IW(23,-96,20,60,d.x,d.y);break;case "worldRegions":d=D.Z.rka(a,b);break;case "usa":d=D.Z.WBa(a,b);break;case "world":d=D.Z.rka(a,b)}return d?d:new D.E(a,b)};
D.Z.WBa=function(a,b){var c;return(0,D.mm)(D.Z.B3,a,b)?(c=D.Z.qq(D.Z.Lga,D.Z.B3),c.ky(),c=(0,D.Ap)(c,new D.E(a,b)),D.Z.tP(c.x,c.y)):(0,D.mm)(D.Z.E3,a,b)?(c=D.Z.qq(D.Z.gha,D.Z.E3),c.ky(),(0,D.Ap)(c,new D.E(a,b))):(0,D.mm)(D.Z.Pw,a,b)?(c=D.Z.qq(D.Z.vha,D.Z.Pw),c.ky(),c=(0,D.Ap)(c,new D.E(a,b)),D.Z.UBa(new D.E(-95,36),c.x,c.y)):new D.E(a,b)};D.Z.rka=function(a,b){var c=D.Z.qq(D.Z.yha,D.Z.Pw);c.ky();c=(0,D.Ap)(c,new D.E(a,b));return D.Z.VBa(c.x,c.y)};
D.Z.TBa=function(a,b){var c;c=(0,D.mm)(D.Z.G3,a,b)?D.Z.qq(D.Z.F3,D.Z.G3):D.Z.qq(D.Z.Oga,D.Z.Pw);c.ky();c=(0,D.Ap)(c,new D.E(a,b));return D.Z.tP(c.x,c.y)};D.Z.Ez=function(a,b,c){a=D.Z.qq(a,D.Z.Pw);if(c){var d=new D.dj;d.rotate(c);a=D.Z.Sia(a,d)}a.ky();return(0,D.Ap)(a,b)};
D.Z.IW=function(a,b,c,d,e,f){b=D.Z.Zi(b);a=D.Z.Zi(a);c=D.Z.Zi(c);d=D.Z.Zi(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;var g=window.Math.sqrt(e*e+(a-f)*(a-f));return new D.E(D.Z.cN(b+window.Math.atan(e/(a-f))/d),D.Z.cN(window.Math.asin((c-g*g*d*d)/(2*d))))};D.Z.tP=function(a,b){return new D.E(a,D.Z.cN(2*window.Math.atan(window.Math.exp(D.Z.Zi(b)))-0.5*window.Math.PI))};
D.Z.UBa=function(a,b,c){b/=D.Z.QU;c/=D.Z.QU;var d=D.Z.Zi(a.y),e=window.Math.sqrt(b*b+c*c),f=window.Math.asin(e);return new D.E(D.Z.cN(D.Z.Zi(a.x)+window.Math.atan(b*window.Math.sin(f)/(e*window.Math.cos(d)*window.Math.cos(f)-c*window.Math.sin(d)*window.Math.sin(f)))),D.Z.cN(window.Math.asin(window.Math.cos(f)*window.Math.sin(d)+c*window.Math.sin(f)*window.Math.cos(d)/e)))};
D.Z.VBa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.Qn.length-1&&(c=D.Z.Qn.length-2);var d=(window.Math.abs(b/180)-D.Z.Qn[c][1])/(D.Z.Qn[c+1][1]-D.Z.Qn[c][1]),e=5*d+5*c,c=a/(D.Z.Qn[c][0]+d*(D.Z.Qn[c+1][0]-D.Z.Qn[c][0]));0>b&&(e*=-1);return new D.E(c,e)};
D.uT=function(a,b,c){this.Init(a,b,c)};D.w.l(D.uT,D.Pt,"DvtThematicMapControlPanel");D.uT.prototype.Init=function(a,b,c){D.uT.o.Init.call(this,a,b,c);this.dn=b.dn;this.Wn=(0,D.pr)(b);this.oBa=D.w.vf(b,b.jaa);this.mBa=D.w.vf(b,b.LZ);this.FFa=D.w.vf(b,b.Xca);this.Cr=this.Dr=this.aA=null;this.Gja=this.Fja=!1;this.Z=b.ks()};D.vT=function(a,b){a.Fja=b;a.Cr&&(0,D.Oe)(a.Cr,b)};D.wT=function(a,b){a.Gja=b;a.Dr&&(0,D.Oe)(a.Dr,b)};
D.uT.prototype.RN=function(a){if(this.dn&&"none"!=this.dn){var b=(0,D.Yt)(this.Z,"buttonWidth",0);this.aA=D.V.wHa(this.j(),this.Wn,this.Z);(0,D.Ch)(this.aA,this.FFa,this);this.aA.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_RESET"));this.ea.Fa(this.aA,this.aA);a.k(this.aA);this.Cr=D.V.kHa(this.j(),this.Wn,this.Z);(0,D.Ch)(this.Cr,this.mBa,this);this.Cr.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLDOWN"));this.ea.Fa(this.Cr,this.Cr);this.Cr.I(b);(0,D.Oe)(this.Cr,this.Fja);a.k(this.Cr);
this.Dr=D.V.lHa(this.j(),this.Wn,this.Z);(0,D.Ch)(this.Dr,this.oBa,this);this.Dr.Dj((0,D.P)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLUP"));this.ea.Fa(this.Dr,this.Dr);this.Dr.I(2*b);(0,D.Oe)(this.Dr,this.Gja);a.k(this.Dr)}};D.uT.prototype.Mq=function(a,b){var c=D.uT.o.Mq.call(this,a,b);!c&&this.Pa()&&("drillDown"==a&&this.Cr&&this.Cr.isEnabled()?c=this.Cr:"drillUp"==a&&this.Dr&&this.Dr.isEnabled()?c=this.Dr:"reset"==a&&(this.aA&&this.aA.isEnabled())&&(c=this.aA));return c};

  return D;
});