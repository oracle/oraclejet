/**
 * Copyright (c) 2014, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.
  
  // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  
D.GS=function(a,b,c){this.Init(a,b,c)};(0,D.da)("DvtAmxThematicMap",D.GS);D.A.q(D.GS,D.F,"DvtAmxThematicMap");D.GS.SB=10;D.GS.prototype.Init=function(a,b,c){D.GS.u.Init.call(this,a);this.la=new D.HS(a,b,c);this.nZ=new D.F(a);this.nZ.k(this.la);this.k(this.nZ);this.xf=new D.IS};D.GS.newInstance=function(a,b,c){return new D.GS(a,b,c)};D.GS.newInstance=D.GS.newInstance;D.GS.prototype.W=function(a,b,c){this.G=this.xf.fk(a);this.Fa=b;this.Ka=c;b=new D.C(0,0,b,c);this.gD(this,b);this.la.W(a,b.e,b.g)};
D.GS.prototype.render=D.GS.prototype.W;
D.GS.prototype.gD=function(a,b){this.Fb&&(a.removeChild(this.Fb),this.Fb=D.o);var c=new D.C(D.GS.SB,D.GS.SB,b.e-2*D.GS.SB,b.g-2*D.GS.SB),d=this.G,e=d.legend.rendered,f=d.legend.scrolling,g=D.vl.ea(d.legend);this.n4(this.G,g);if(e&&!(g.YNa&&0==g.YNa.length)){e=d.legend.position;delete g.position;g.layout.gapRatio=(0,D.JS)(this);g.hideAndShowBehavior="none";g.rolloverBehavior="none";g.scrolling=d.legend.scrolling;var h=(0,D.Hn)(this.la.j());a.k(h);"auto"==e&&"asNeeded"!==f?e="bottom":"auto"==e&&"asNeeded"==
f&&(e="end");f=(0,D.G)(a.j());"start"==e?e=f?"right":"left":"end"==e&&(e=f?"left":"right");g.orientation="left"==e||"right"==e?"vertical":"horizontal";f="top"==e||"bottom"==e;f=h.Pp(g,f?c.e:d.layout.legendMaxSize*c.e,f?d.layout.legendMaxSize*c.g:c.g);if(0<f.e&&0<f.g)switch(h.W(g,f.e,f.g),this.Fb=h,d=window.Math.ceil(d.layout.legendGap*(0,D.JS)(this)),(0,D.Fn)(c,e,h,f.e,f.g,d),e){case "top":this.nZ.U(f.g+D.GS.SB);case "bottom":b.g-=f.g+D.GS.SB;break;case "left":this.nZ.N(f.e+D.GS.SB);case "right":b.e-=
f.e+D.GS.SB}}};D.JS=function(a){if(a.G.layout.gapRatio!==D.o&&!(0,window.isNaN)(a.G.layout.gapRatio))return a.G.layout.gapRatio;var b=window.Math.min(a.Fa/400,1);a=window.Math.min(a.Ka/300,1);return window.Math.min(b,a)};D.GS.prototype.n4=function(a,b){b.title=a.legend?a.legend.title:D.o;b.sections=[];if(a&&a.legend&&a.legend.sections)for(var c=0;c<a.legend.sections.length;c++){var d=a.legend.sections[c];d&&b.sections.push({title:d.title,items:d.items,sections:d.sections})}return b};
D.HS=function(a,b,c){this.Init(a,b,c)};(0,D.da)("DvtThematicMap",D.HS);D.A.q(D.HS,D.vp,"DvtThematicMap");
D.HS.prototype.Init=function(a,b,c){D.HS.u.Init.call(this,a,b,c);(0,D.rT)(this);this.Mf=[];this.Iz=[];this.aEa=this.Ix=this.bd=this.Fb=D.o;this.E4=D.p;this.rP=[];this.NP={};this.tY=D.p;this.KW={};this.v5={};this.lp=[];this.A4=new D.F(this.j());this.cP=new D.F(this.j());this.Fz=new D.F(this.j());this.Hx=new D.F(this.j());this.$K=this.hH=this.z7=D.p;this.PX=6;this.Wz=D.k;this.pL={};this.GV=D.p;this.xd=D.o;this.po=16777215;this.xf=new D.IS;this.rb.La(this,this);this.De=D.p};
D.HS.newInstance=function(a,b,c){return new D.HS(a,b,c)};D.HS.prototype.Bd=function(a){D.HS.u.Bd.call(this,a);(0,D.fl)()||(this.G.animationOnDisplay="none",this.G.animationOnMapChange="none",this.G.animationOnDrill="none");(new D.sT(this)).parse(this.G)};D.HS.prototype.Ia=(0,D.y)("rb");D.tT=function(a,b){for(var c=0;c<a.Mf.length;c++)if(a.Mf[c].Vh==b)return a.Mf[c]};D.z=D.HS.prototype;D.z.Aw=function(a){this.gz=(0,window.parseFloat)(a)};D.z.Ca=(0,D.y)("gz");
D.z.f1=function(a){a=(0,window.parseInt)(a);var b=this.po;if(1==a||3==a||5==a||7==a)b&=-17,this.$K=D.p;if(2==a||3==a||6==a||7==a)b&=-4098,this.hH=D.p;if(4==a||5==a||6==a||7==a)b&=-257;this.po=b};D.z.yda=function(a){this.yn=a;this.rb.yda(a)};
D.z.UI=function(){D.HS.u.UI.call(this);!this.Dq&&this.rFa&&(this.Mf=[],this.rP=[],this.NP={},this.KW={},this.v5={},this.lp=[],this.removeChild(this.bd),this.aEa=this.Ix=this.Fb=this.bd=D.o,this.po=16777215,this.$K=this.hH=D.k,this.TK=this.Ub,this.A4=new D.F(this.j()),this.cP=new D.F(this.j()),this.Fz=new D.F(this.j()),this.Hx=new D.F(this.j()),this.xd=D.o,this.rb.Oi(this),(0,D.rT)(this),this.GV=D.p,this.rb.Lc(),this.rb.La(this,this))};
D.rT=function(a){a.rb=new D.uT(a.j(),a.kb,a);a.rb.Ge(a);(0,D.Jf)()?a.WF=D.o:(a.WF=new D.vT(a,a.rb),(0,D.Cj)(a.rb,a.WF))};D.z=D.HS.prototype;D.z.Kva=function(a){(0,D.G)(this.j())||(a=this.getWidth()-5-a.getWidth(),this.bd.N(a))};
D.z.gD=function(){if(this.Ix){this.bd&&(this.bd.X(),this.removeChild(this.bd));var a="true"==this.Ix.disclosed,b="fixed"==this.Ix.display||(0,D.Fe)();if(!b||a){var c=this.Ix.maxWidth,d=c.indexOf("%"),c=-1!=d?(0,window.parseFloat)(c.substring(0,d))/100*this.getWidth():(0,window.parseFloat)(c),d=this.getHeight()-10;"alta"==this.wc?(this.bd=new D.zr(this.j(),D.o,this,"pd"),this.bd.pa("dvtPanelDrawerEvent",this.sfa,D.p,this),this.bd.Iu(c),this.bd.CT(d),this.bd.Vz=b,(0,D.G)(this.j())?(this.bd.ov="right",
this.bd.N(0)):this.bd.N(this.getWidth())):(this.bd=new D.Ku(this.j(),c,d,"col_northeast",(0,D.Cr)(this),this.xs(),a,b),this.bd.pa("dvtCollapsiblePanelEvent",this.sfa,D.p,this),this.bd.pa("dvtResizeEvent",this.Kva,D.p,this),c=this.bd,d=this.Ix.collapseTooltip,c.xP=this.Ix.expandTooltip,c.RO=d);c=this.Ix;this.Fb=(0,D.Hn)(this.j(),this.Yca,this);this.k(this.bd);this.k(this.Fb);d=this.Fb.Pp(c,this.bd.pS(),this.bd.pM());this.Fb.W(c,d.e,d.g);var e;if("alta"==this.wc){(0,D.Br)(this.bd,this.Fb.rs().g);this.removeChild(this.Fb);
var c=new D.Se(this.j(),(0,D.Cr)(this).legendEna,0,0,24,24),d=new D.Se(this.j(),(0,D.Cr)(this).legendOvr,0,0,24,24),f=new D.Se(this.j(),(0,D.Cr)(this).legendDwn,0,0,24,24),g=(0,D.N)("DvtUtilBundle","LEGEND");(0,D.Dr)(this.bd,this.Fb,c,d,f,g,"legend");this.bd.qr();a&&this.bd.qf(D.k,D.k)}else e=this.bd,a=this.Fb,e.EJ.k(a),a.pa("dvtResizeEvent",e.E2,D.p,e),a=e.EJ.I(),e.Fa=window.Math.min(e.hi,a.e+10),e.Ka=window.Math.min(e.cj,a.g+10),e.Ua?(e.Ua.Sj((0,D.bQ)(e,e.Fa,e.Ka)),a="col_northwest"==e.ak||"col_southwest"==
e.ak,e.xj&&a&&e.xj.N(e.Fa)):(a=new D.Mh(e.j(),(0,D.bQ)(e,e.Fa,e.Ka)),c=e.da.borderAlpha,a.va(e.wz,e.Am),a.Za(e.it,c),e.Ua=a,e.Sa(e.Ua,0),e.Vz||(e.xj=D.tC.qaa(e.j(),25,e.da,D.p),e.xj.D(e.da.borderAlpha),e.k(e.xj),a="col_northwest"==e.ak||"col_southwest"==e.ak,e.Cm=e.isCollapsed()?D.U.SZ(e.j(),e.mo,25,e.da,a?D.U.uB:D.U.Ow):D.U.QZ(e.j(),e.mo,25,e.da,a?D.U.uB:D.U.Ow),e.xj.k(e.Cm),e.xj.N(a?e.Fa:-10),(0,D.Jf)()?e.Cm.pa(D.mh.ag,e.OI,D.p,e):(e.Cm.pa(D.rk,e.OI,D.p,e),e.Cm.pa(D.Xz,e.W2,D.p,e),e.Cm.pa(D.Yz,
e.V2,D.p,e)))),e.bW&&(0,D.cQ)(e,D.p),e=this.bd.I(),a=(0,D.G)(this.j())?5:this.getWidth()-5-e.e-e.x,(0,D.wk)(this.bd,a,5),e.e+=5;if(this.Sla=b)e||(e=this.bd.I()),this.c8=e.e,this.Ub.Pk(this.getWidth()-this.c8,this.getHeight(),D.k)}}};
D.z.Vj=function(){D.HS.u.Vj.call(this);var a=new D.F(this.j()),b=new D.F(this.j());this.Ub=this.ga;this.Ub.k(a);this.Ub.ja.k(b);this.ek(a,b);if(this.ll){(this.Cd=this.Ub.Cd)&&this.Ub.k(this.Cd);(0,D.wT)(this);b=new D.C(0,0,this.getWidth(),this.getHeight());if(!this.De&&!this.TK)D.kl.isSupported(this.qia)&&(this.fb=D.kl.my(this.j(),this.qia,this.Ub,b,this.gz));else{var c=D.o;this.E4&&!this.Dq?c=this.tAa:this.ll&&this.ll.Vh!=this.GEa&&(c=this.ll.Xq());D.kl.isSupported(c)&&(this.fb=D.kl.xD(this.j(),
c,this.TK,this.Ub,b,this.gz))&&this.k(this.TK)}this.fb?(this.Cd&&this.k(this.Cd),this.rb.Lc(),this.rb.Oi(this),this.GV=D.k,this.fb.pe(this.Ar,this),this.fb.play()):this.Ar();this.rFa=a;this.ll&&(this.GEa=this.ll.Vh);(0,D.am)(this.j(),[this]);this.De=D.k}};
D.z.ek=function(a,b){this.gD();b.k(this.A4);b.k(this.cP);this.Wz?a.k(this.Fz):b.k(this.Fz);a.k(this.Hx);var c=this.Ub.ja.Da();this.Q$=D.p;for(var d=0;d<this.Mf.length;d++){var e=this.Mf[d];if(!this.Q$&&e instanceof D.SS||!(e instanceof D.SS))e.W(c),!this.Q$&&e instanceof D.SS&&(this.Q$=D.k,this.ll=e)}this.ll&&(c=this.ll.wK,this.wK!=c&&(this.wK=c,this.y7=this.Ila=this.Hla=D.o),c=(0,D.dT)(this),0==c.length&&(c=(0,D.qT)(this)),this.WF&&(c=c[0])&&D.uT.u.Fu.call(this.rb,c),this.Ub.Cw(D.o),this.Ub.Ju(D.o),
this.Ub.ko=D.k,this.Ub.yi=D.k,!this.E4&&!this.Dq&&this.y7!=D.o?((0,D.Wr)(this.Ub,this.y7),(0,D.Zr)(this.Ub,this.Hla,this.Ila)):this.Ub.Zo(D.o,this.ll.yH()),(0,D.xT)(this),(0,D.yT)(this),this.Ub.ko=this.hH,this.Ub.yi=this.$K)};D.z.zOa=function(a,b,c){this.De=D.p;(0,D.wT)(this);(0,D.zT)(new D.sT(this),[a],(0,D.tT)(this,b),this.ll.Vh,c);this.gD();this.De=D.k;(0,D.yT)(this)};D.HS.prototype.updateLayer=D.HS.prototype.zOa;
D.yT=function(a){var b;b=a.Ub.Tq;var c=a.ll.yH(),d=a.Ub.Zc();b=window.Math.min((d.e-2*b)/c.e,(d.g-2*b)/c.g);a.Ub.Cw(b);a.Ub.Ju(b*(a.hH?a.PX:1))};D.oT=function(a){a.ll.wK&&a.Ub.Zo(D.o,a.ll.yH());(0,D.xT)(a);a.z7&&(0,D.AT)(a)};D.HS.prototype.Fda=(0,D.v)("U9");D.BT=function(a,b){var c=new D.mj;c.translate(b.Hc,b.Bc);a.Wz&&a.Fz.Ja(c);a.Hx.Ja(c)};D.HS.prototype.sfa=function(a){var b=new D.lr;(0,D.Kl)(b,"isLegendDisclosed","show"==a.Mj());this.kb(b)};
D.CT=function(a,b,c){if(b=b.O){var d=a.Ub.ja,e=(0,D.Hp)(b,d,d.Da);c&&(a.Kja=d.Da(),(0,D.T)(b,"typeMatrix",a,a.xCa,a.HGa,e));c=new D.mj(1,0,0,1,e.Hc,e.Bc);a.Wz&&(0,D.T)(b,"typeMatrix",a.Fz,a.Fz.Da,a.Fz.Ja,c);(0,D.T)(b,"typeMatrix",a.Hx,a.Hx.Da,a.Hx.Ja,c)}};
D.HS.prototype.Bh=function(a){switch(a.Mj()){case "adjustPanConstraints":if(this.$K){var b=a.Cv;a=this.Ub.Tq;var c=this.Ub.Zc();a=new D.C(a,a,c.e-2*a,c.g-2*a);var d=this.ll.yH(),e=d.x*b,c=d.y*b,f=d.e*b,b=d.g*b,d=0;f>a.e?(this.Sla&&(0,D.G)(this.j())&&(d=this.c8),this.Ub.Kt=a.x+a.e+d-(e+f),this.Ub.It=a.x-e+d):(this.Sla&&(0,D.G)(this.j())&&(d=2*this.c8),e=(a.x+a.e+d)/2-(e+f/2),this.Ub.Kt=e,this.Ub.It=e);b>a.g?(this.Ub.Lt=a.y+a.g-(c+b),this.Ub.Jt=a.y-c):(a=(a.y+a.g)/2-(c+b/2),this.Ub.Lt=a,this.Ub.Jt=
a)}break;case "zooming":case "elasticAnimBegin":(0,D.CT)(this,a,D.k);break;case "zoomed":if(a.Cv!=D.o){c=this.Ub.ja.Da();(0,D.Kl)(a,"panX",c.Hc);(0,D.Kl)(a,"panY",c.Bc);a.O=D.o;this.kb(a);(0,D.BT)(this,c);for(b=0;b<this.Mf.length;b++)this.Mf[b].Bh(a,c)}break;case "zoomAndCenter":(0,D.DT)(this);break;case "zoomToFitEnd":this.kb(new D.QC)}};
D.HS.prototype.Sw=function(a){var b=a.Mj();if("elasticAnimBegin"==b)(0,D.CT)(this,a,D.p);else if("panned"==b&&a.hna!=D.o){var c=this.Ub.ja.Da();(0,D.Kl)(a,"zoom",this.Ub.ud());(0,D.Kl)(a,"panX",c.Hc);(0,D.Kl)(a,"panY",c.Bc);a.O=D.o;this.kb(a);(0,D.BT)(this,c);for(a=0;a<this.Mf.length;a++)this.Mf[a].Sw(c)}this.bd&&("alta"==this.wc?"dragPanBegin"===b?this.bd.xa(D.p):"dragPanEnd"===b&&this.bd.xa(D.k):(c=this.xs(),a=this.bd.Ua.jc().ea(),"dragPanBegin"===b?(this.Fb.D(c.backgroundDragAlpha),a.D(c.borderDragAlpha),
this.bd.Ua.ba(a),this.bd.xj&&this.bd.xj.D(c.borderDragAlpha),this.bd.xa(D.p)):"dragPanEnd"===b&&(this.Fb.D(1),a.D(c.borderAlpha),this.bd.Ua.ba(a),this.bd.xj&&this.bd.xj.D(c.borderAlpha),this.bd.xa(D.k))))};D.HS.prototype.yB=function(){return"none"==this.yn&&!this.hH&&(!this.$K||"alta"==this.wc)?"hidden":D.HS.u.yB.call(this)};D.HS.prototype.fU=function(){var a=this.yB();return"hidden"!=a?new D.ET(this.j(),this,"initCollapsed"==a?1:2):D.o};
D.xT=function(a){a.tY=D.k;for(var b=0;b<a.Mf.length;b++){var c=a.Mf[b].Vh;c in a.NP&&(a.pL[c]=a.NP[c][1],a.Bm=c,a.zz=a.NP[c][0],a.XZ())}a.tY=D.p};
D.HS.prototype.kda=function(){(0,D.wT)(this);for(var a=[],b=[],c=this.Mf.length-1;-1<c;c--)this.Mf[c].Vh==this.ll.Vh?this.Mf[c].reset(b):this.Mf[c].reset(a);for(c=0;c<a.length;c++)if(a[c]){var d=a[c].getParent();d&&d.removeChild(a[c])}for(c=0;c<b.length;c++)b[c]&&b[c].D(1);this.rP=[];a=new D.pr(this.j(),0.3);this.Ub.Zo(a);a.play();this.lp=[];this.Cd&&"none"!=this.yn&&((0,D.FT)(this.Cd,D.p),(0,D.GT)(this.Cd,D.p))};
D.AT=function(a){var b=a.cP.I(),c=a.Fz.I();if(a.Wz){var d=a.Ub.ja.Da();c.e/=d.Nd;c.g/=d.rg;c.x/=d.Nd;c.y/=d.rg}b=(0,D.Go)(b,c);(0,D.wT)(a);var e;a.Ub.ko||(e=a.Ub.oy(),a.Ub.Ju(e*a.PX));var f;(0,D.fl)()&&(f=new D.pr(a.j(),0.3));0<b.e&&0<b.g?a.Ub.Zo(f,b):a.Ub.Zo(f,a.ll.yH());f&&f.play();e&&a.Ub.Ju(e)};D.HS.prototype.gH=function(a){var b=new D.pr(this.j(),0.3);this.Ub.Zo(b,a);b.play()};
D.DT=function(a){if(a.zz){var b=(0,D.tT)(a,a.Bm).kj(a.zz);if(b&&(b=b.Qb)){for(var b=b.getSelection(),c=0;c<b.length;c++)b[c]=b[c].ta();if(0<b.length){for(var d=b[0].I(),c=1;c<b.length;c++)d=(0,D.Go)(d,b[c].I());a.gH(d)}}}};D.HT=function(a,b){var c=D.KS.EKa(a.xk,b);return(0,D.tT)(a,c)};D.$S=function(a,b){var c=D.KS.pra(a.xk,b);return(0,D.tT)(a,c)};D.dT=function(a){var b=[];if(a.ll)for(var c=0;c<a.Mf.length;c++){var d=a.Mf[c].Tj,e;for(e in d)b=a.ll.Vh==a.Mf[c].Vh?b.concat((0,D.iT)(d[e])):b.concat((0,D.jT)(d[e]))}return b};
D.qT=function(a){var b=[];if(a.ll)for(var c=0;c<a.Mf.length;c++){var d=a.Mf[c].Tj;if(a.ll.Vh==a.Mf[c].Vh||!(a.Mf[c]instanceof D.SS))for(var e in d)b=b.concat(d[e].sk)}return b};D.HS.prototype.HGa=function(a){this.Kja=a;if(this.Wz){for(var b=(0,D.qT)(this),c=0;c<b.length;c++)b[c].Bh(a);b=this.Hx.Qa();for(c=0;c<b;c++)for(var d=this.Hx.na(c),e=d.Qa(),f=0;f<e;f++){var g=d.na(f);g instanceof D.XS&&g.update(a)}}};D.HS.prototype.xCa=(0,D.y)("Kja");
D.HS.prototype.XZ=function(){(0,D.wT)(this);var a=(0,D.$S)(this,this.Bm),b=(0,D.tT)(this,this.Bm),c=[];if(a){this.KW[this.Bm]=this.zz;var d=this.pL[this.Bm];!this.tY&&"single"==this.yn&&(this.lp.pop(),b.reset(c,d),a.reset(this.Iz));for(var e=[],f=0;f<d.length;f++){var g=d[f],h=(0,D.WS)(b,g);e.push(h[0]);for(var j=0;j<h.length;j++)this.v5[h[j]]=d[f];a.yaa(h,c);if(h=b.kj(this.zz)){for(var j=g,l=this.Iz,m=0;m<h.Wc.length;m++)if(h.Wc[m].rl()==j){h.Wc[m].aN(D.k);h.lp.push(j);l.push(h.Wc[m].ta());if(m=
h.Wc[m].Yc())l.push(m),(m=m.Lm)&&l.push(m);break}for(m=0;m<h.sk.length;m++)if(h.sk[m].rl()==j){l.push(h.sk[m].ta());break}}this.lp.push(g)}(0,D.IT)(this,this.Iz,c,D.p);(0,D.JT)(this,a.Vh);this.Bm=a.Vh;this.pL[this.Bm]=e}};
D.HS.prototype.zaa=function(){(0,D.wT)(this);for(var a=(0,D.tT)(this,this.Bm),b=(0,D.HT)(this,this.Bm),c=[],d=[],e=this.pL[this.Bm],f=0;f<e.length;f++){var g=this.v5[e[f]];d.push(g);if(-1!=D.$f.Ta(this.lp,g)){a.MT((0,D.WS)(b,g),this.Iz);for(var h=b.kj(this.KW[b.Vh]),j=g,l=c,m=0;m<h.Wc.length;m++)if(h.Wc[m].rl()==j){var n=D.$f.Ta(h.lp,j);h.lp.splice(n,1);h.Wc[m].aN(D.p);n=h.Wc[m].ta();h.vn.k(n);l.push(n);if(m=h.Wc[m].Yc())m.update(h.eL),l.push(m),l.push(m.Lm);break}for(m=0;m<h.sk.length;m++)if(h.sk[m].rl()==
j){n=h.sk[m].ta();h.vx.k(n);l.push(n);break}g=D.$f.Ta(this.lp,g);-1!=g&&this.lp.splice(g,1)}}(0,D.IT)(this,this.Iz,c,D.k);this.Bm=b.Vh;this.zz=this.KW[this.Bm];this.pL[this.Bm]=d;(0,D.JT)(this,this.Bm)};D.wT=function(a){a.fb&&(a.fb.stop(D.k),a.fb=D.o)};
D.IT=function(a,b,c,d){a.Ub.ja.Da();if("zoomToFit"==a.w4&&!a.tY){var e=new D.pr(a.j(),0.3);(0,D.fl)()||(e=D.o);d?a.Ub.Zo(e):(0,D.DT)(a);e&&e.play()}(0,D.wT)(a);if((0,D.fl)()&&("alphaFade"==a.w4||"auto"==a.w4))a.fb=D.kl.xD(a.j(),"alphaFade",b,c,D.o,0.5);a.fb?(a.rb.Lc(),a.rb.Oi(a),a.fb.pe(a.xwa,a),a.fb.play()):(0,D.KT)(a)};
D.HS.prototype.kb=function(a){var b=a.$a();if("selection"==b)if(this.zz){this.k$=a.getSelection();for(var b=this.pL,c=this.Bm,d=this.k$,e=[],f=(0,D.tT)(this,this.Bm).kj(this.zz).Wc,g=0;g<d.length;g++)for(var h=0;h<f.length;h++)if(f[h].getId()==d[g]){e.push(f[h].rl());break}b[c]=e;(0,D.JT)(this,this.Bm);(0,D.Kl)(a,"clientId",this.zz);this.aW&&!(this.aW instanceof D.HH)&&(this.dqa=this.aW)}else(0,D.JT)(this,D.o),this.dqa=D.o;else b==D.nT.Wga?((0,D.Kl)(a,"clientId",this.ZJ),this.rP="multiple"==this.yn?
this.rP.concat(this.k$):this.k$,b=a.cCa,b==D.nT.nva&&this.zaa(),b==D.nT.T1?this.XZ():b==D.nT.Ewa&&this.kda(),a.qf(this.rP)):("showPopup"==b||"hidePopup"==b)&&(0,D.Kl)(a,"clientId",this.ZJ);D.HS.u.kb.call(this,a)};D.JT=function(a,b){if(a.Cd&&a.yn&&"none"!=a.yn){var c=(0,D.$S)(a,b),d=(0,D.HT)(a,b);c?(0,D.FT)(a.Cd,D.k):(0,D.FT)(a.Cd,D.p);d?(0,D.GT)(a.Cd,D.k):(0,D.GT)(a.Cd,D.p)}};D.HS.prototype.X=function(){D.HS.u.X.call(this);this.rb&&(this.rb.X(),this.rb=D.o)};D.HS.prototype.destroy=D.HS.prototype.X;
D.HS.prototype.Ar=function(){this.Cd&&this.Ub.k(this.Cd);this.TK&&(this.removeChild(this.TK),this.TK=D.o);this.fb=D.o;this.z7&&(0,D.AT)(this);this.G.highlightedCategories&&0<this.G.highlightedCategories.length&&this.Ke(this.G.highlightedCategories);this.GV&&(this.rb.Ge(this),this.GV=D.p)};D.HS.prototype.xwa=function(){(0,D.KT)(this);this.fb=D.o;this.rb.Ge(this)};
D.KT=function(a){if(0<a.Iz.length){for(var b=0;b<a.Iz.length;b++){var c=a.Iz[b];if(c)if(c instanceof D.XS)c.reset();else if(c.wy&&c.wy())c.D(0);else{var d=c.getParent();d&&d.removeChild(c)}}a.Iz=[]}};D.HS.prototype.D6=function(a,b){var c=new D.Fm(a,b),d=[],e;for(e in this.wj)for(var f in this.wj[e])d.push(this.wj[e][f]);for(e in this.Dn)for(f in this.Dn[e])d.push(this.Dn[e][f]);e=this.Fb.$Pa;for(var g in e)f=new D.LT(e[g].hg(),g),d.push(f);(0,D.wl)(c.al,d,D.k)};D.HS.prototype.Jd=(0,D.y)("xd");
D.HS.prototype.iN=(0,D.v)("xd");D.HS.prototype.Pf=function(){this.Uk||(this.Uk=new D.MT(this));return this.Uk};D.HS.prototype.getAutomation=D.HS.prototype.Pf;D.HS.prototype.Uj=function(){return(0,D.N)("DvtUtilBundle","THEMATIC_MAP")};D.HS.prototype.Yca=function(a){"dvtResizeEvent"==a.$a()&&this.Fb&&this.Fb.Fc(a)};D.HS.prototype.Ke=function(a){this.G.highlightedCategories=D.vl.ea(a);(0,D.wl)(a,(0,D.dT)(this).concat((0,D.qT)(this)),"any"==this.G.highlightMatch)};D.HS.prototype.highlight=D.HS.prototype.Ke;
D.HS.prototype.Fs=function(a,b){var c=(0,D.NT)(this,a);c&&c.Fs(b)};D.HS.prototype.processDefaultHoverEffect=D.HS.prototype.Fs;D.HS.prototype.iB=function(a,b){var c=(0,D.NT)(this,a);c&&c.iB(b)};D.HS.prototype.processDefaultSelectionEffect=D.HS.prototype.iB;D.HS.prototype.xw=function(a,b){var c=(0,D.NT)(this,a);c&&c.xw(b)};D.HS.prototype.processDefaultFocusEffect=D.HS.prototype.xw;
D.NT=function(a,b){for(var c=0;c<a.Mf.length;c++){var d=a.Mf[c].Tj,e;for(e in d)for(var f=d[e].sk,c=0;c<f.length;c++)if(f[c].getId()===b)return f[c]}return D.o};
D.IS=function(){this.Init({fusion:D.QT,alta:D.RT})};D.A.q(D.IS,D.Sj,"DvtThematicMapDefaults");
D.QT={animationDuration:500,animationOnDisplay:"none",animationOnDrill:"none",animationOnMapChange:"none",controlPanelBehavior:"hidden",drilling:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",areaStyle:"background-color:#B8CDEC;border-color:#FFFFFF;",hoverBehaviorDelay:200,dataAreaDefaults:{borderColor:"#FFFFFF",drilledInnerColor:"#FFFFFF",
drilledOuterColor:"#000000",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:0.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:0.4,scaleX:1,scaleY:1,shape:"circle",width:8},labelStyle:"font-family:Tahoma;font-size:11pt;"},legend:{position:"auto",rendered:D.k,layout:{gapRatio:1}},layout:{gapRatio:D.o,legendMaxSize:0.3,legendGap:10},resources:{images:{},
translations:{}}};D.RT={styleDefaults:{areaStyle:"background-color:#DDDDDD;border-color:#FFFFFF;",dataAreaDefaults:{drilledOuterColor:"#0572CE"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;color:#333333',opacity:1},labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;'}};D.ST={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};D.TT={animationOnDataChange:"none",selectionMode:"none"};
D.ZT=function(a){for(var b=0;b<a.Mf.length;b++){var c=a.Mf[b].Tj,d;for(d in c){var e=c[d].Qd;if(e&&e.tC)return e}}return D.o};D.z=D.HS.prototype;D.z.Oj=function(a,b,c){this.XBa=D.p;return(a=(0,D.ZT)(this))?a.Oj(c):D.p};D.z.Hk=function(a,b){var c=(0,D.ZT)(this);return c?c.Hk(a,b):D.o};D.z.ku=function(a,b){var c=(0,D.ZT)(this);return c?c.ku(a,b):D.o};D.z.Lp=function(a,b){var c=(0,D.ZT)(this);return c?c.Lp(a,b):D.o};D.z.aw=function(a,b){var c=(0,D.ZT)(this);return c?c.aw(a,b):D.o};
D.z.hw=function(a,b){var c=(0,D.ZT)(this);return c?c.hw(a,b):D.o};D.z.mw=function(){var a=(0,D.ZT)(this);a&&a.mw()};D.z.os=function(){var a=(0,D.ZT)(this);a&&a.os();(0,D.pu)(this.ga)};
D.HS.prototype.Co=function(a,b,c){var d=this.Ub.ud();a=(a-(0,D.Xr)(this.Ub))/d;b=(b-(0,D.Yr)(this.Ub))/d;a:{for(var d=a,e=b,f=0;f<this.Mf.length;f++)if(this.Mf[f].FJa){var g=this.Mf[f].Ll;if(g&&g.us(d,e)){d=g;break a}}d=D.o}return(this.Ll=d)?this.Ll.Co(a,b,c):D.o};D.HS.prototype.us=function(a,b){var c=this.Ub.ud();a=(a-(0,D.Xr)(this.Ub))/c;b=(b-(0,D.Yr)(this.Ub))/c;return this.Ll?this.Ll.us(a,b):D.o};
D.US=function(a,b){this.mV=a;this.$Aa=b};D.A.q(D.US,D.qu,"DvtThematicMapDropTarget");D.US.prototype.Co=function(a,b,c){if(a=(0,D.aT)(this.mV,a,b))a!=this.GF&&(this.mV.Uu(a),this.GF=a);else return this.mV.Uu(D.o),D.o;return c[0]};D.US.prototype.us=function(a,b){var c=(0,D.aT)(this.mV,a,b);if(c){var d=D.Z.uMa(a,b,this.$Aa);return{XRa:c.DAa,DRa:d.x,ERa:d.y}}return D.o};
D.MT=(0,D.v)("la");(0,D.da)("DvtThematicMapAutomation",D.MT);D.A.q(D.MT,D.Ij,"DvtThematicMapAutomation");
D.MT.prototype.Dl=function(a){a=(0,D.Jj)(this.la.Ia(),a);var b;if(a&&(a instanceof D.bT||a instanceof D.cT))a:{for(var c=a.ta(),d=this.la.Mf,e=0;e<d.length;e++){var f=d[e].Tj;for(b in f)if(c instanceof D.Mh)for(var g=f[b].Wc,h=0;h<g.length;h++){if(g[h]===a){b=(0,D.OT)(b)+":area["+h+"]";break a}}else if(c instanceof D.fh||c instanceof D.eh){g=f[b].sk;for(h=0;h<g.length;h++)if(g[h]===a){b=(0,D.OT)(b)+":marker["+h+"]";break a}}}b=D.o}else b=D.o;return b};
D.MT.prototype.Qf=function(a){if("tooltip"==a)return(0,D.hm)(this.la);var b=a.indexOf(":"),c=a.indexOf("[");a=0<b&&0<c?(a=(0,D.PT)(this,a.substring(0,b),a.substring(b+1,c),(0,window.parseInt)(a.substring(c+1,a.length-1))))?a.ta().ya():D.o:D.o;return a};D.MT.prototype.getDomElementForSubId=D.MT.prototype.Qf;D.MT.prototype.getData=function(a,b,c){return(a=(0,D.PT)(this,a,b,c))?(b={},b.color=a.Ki(),b.tooltip=a.Kc(),c=a.Yc(),b.label=c?c.Kd():D.o,b.selected=a.Ga(),b):D.o};D.MT.prototype.getData=D.MT.prototype.getData;
D.PT=function(a,b,c,d){a=a.la.Mf;for(var e=0;e<a.length;e++){var f=a[e].Tj,g;for(g in f)if((0,D.OT)(g)==b){if("area"==c)return f[g].Pja[d];if("marker"==c)return f[g].Rja[d]}}return D.o};D.OT=function(a){var b=a.lastIndexOf(":");return 0<b?a.substring(b+1):a};
D.MS=function(a,b){this.Init(a,b)};D.A.q(D.MS,D.Mh,"DvtDrillablePath");D.z=D.MS.prototype;D.z.Init=function(a,b){D.MS.u.Init.call(this,a);this.rC=this.qC=this.BW=this.AW=D.o;this.G7=D.p;this.Zoom=1;this.bg=b};D.z.wy=(0,D.y)("G7");
D.z.aN=function(a){this.G7!=a&&(this.G7=a,this.wy()?(this.qC=this.ij(),this.qC.P(D.o),this.qC.xa(D.p),this.rC=this.ij(),this.rC.P(D.o),this.rC.xa(D.p),a=this.getParent(),a.k(this.rC),a.k(this.qC),this.qC.ba((0,D.NS)(this,this.AW,2)),this.rC.ba((0,D.NS)(this,this.BW,4)),this.xa(D.p),this.cf=D.p):(this.cf&&(this.Yh(),this.Qi.ba((0,D.NS)(this,this.Vs,1),2)),this.rC.getParent().removeChild(this.rC),this.qC.getParent().removeChild(this.qC),this.xa(D.k),this.D(1)))};
D.z.qb=function(a){this.Wk!=a&&(a&&(this.cf?(this.xN(),this.nn=(0,D.NS)(this,this.nn,2),this.um=(0,D.NS)(this,this.um,6)):(this.$s=(0,D.NS)(this,this.$s,1),this.pq=(0,D.NS)(this,this.pq,4))),D.MS.u.qb.call(this,a))};D.z.Xb=function(){this.Ga()?(this.xN(),this.nn=(0,D.NS)(this,this.nn,2),this.um=(0,D.NS)(this,this.um,6)):this.Vs=(0,D.NS)(this,this.Vs,2);D.MS.u.Xb.call(this)};
D.z.xN=function(){this.nn||(this.nn=this.Vs.ea(),this.nn.ra(2),this.bg&&(this.nn.Nc=D.k));this.um||(this.um=this.pq.ea(),this.um.ra(6),this.bg&&(this.um.Nc=D.k))};D.z.Mb=function(){this.Ga()&&(this.$s=(0,D.NS)(this,this.$s,1),this.pq=(0,D.NS)(this,this.pq,4));D.MS.u.Mb.call(this)};D.z.Yp=function(a,b){D.MS.u.Yp.call(this,a,b);this.bg&&(this.Vs&&(this.Vs.Nc=D.k),this.MN&&(this.MN.Nc=D.k));return this};
D.z.$p=function(a,b){D.MS.u.$p.call(this,a,b);this.bg&&(this.$s&&(this.$s.Nc=D.k),this.pq&&(this.pq.Nc=D.k));return this};D.z.tr=function(a,b){D.MS.u.tr.call(this,a,b);this.bg&&(this.nn&&(this.nn.Nc=D.k),this.um&&(this.um.Nc=D.k));return this};D.OS=function(a,b,c){if(!a.bg){var d=b.jc();d&&(d=d.ea(),d.ra(c/a.Zoom),b.ba(d))}};D.NS=function(a,b,c){a.bg||(b=b.ea(),b.ra(c/a.Zoom));return b};
D.PS=function(a,b){a.Zoom=b.Nd;a.wy()?((0,D.OS)(a,a.qC,2),(0,D.OS)(a,a.rC,4)):a.Ga()?a.cf?((0,D.OS)(a,a.Qi,2),(0,D.OS)(a,a,6)):((0,D.OS)(a,a.Qi,1),(0,D.OS)(a,a,4)):a.cf?(0,D.OS)(a,a.Qi,2):(0,D.OS)(a,a,1)};
D.LS=function(a,b,c){this.Init(a,b,c)};D.A.q(D.LS,D.F,"DvtCustomDataItem");D.z=D.LS.prototype;
D.z.Init=function(a,b,c){D.LS.u.Init.call(this,a);this.Ez=b;b instanceof D.xj?(this.Fa=b.getWidth(),this.Ka=b.getHeight(),this.k(b)):(this.ya().appendChild(b),b=(0,D.tg)(a,this),this.Fa=b.e,this.Ka=b.g);this.hv=new D.Re(a,-5,-5,this.Fa+10,this.Ka+10);(0,D.Ai)(this.hv);a=new D.ig(c.selectedInnerColor,1,2);b=new D.ig("rgb(235, 236, 237)",1,4);var d=new D.ig(c.selectedInnerColor,1,2),e=new D.ig(c.selectedOuterColor,1,4),f=new D.ig(c.selectedInnerColor,1,2);c=new D.ig(c.selectedOuterColor,1,6);this.hv.Yp(a,
b).$p(d,e).tr(f,c);this.Sa(this.hv,0)};D.z.Rb=function(a,b){(0,D.Jf)()?this.hv.Rb(a,b):D.LS.u.Rb.call(this,a,b)};D.z.kd=function(a){(0,D.Jf)()?this.hv.kd(a):D.LS.u.kd.call(this,a)};D.z.getWidth=(0,D.y)("Fa");D.z.getHeight=(0,D.y)("Ka");D.z.Sf=function(a){this.hv.Sf(a)};D.z.Ea=function(){return this.hv.Ea()};D.z.Ga=function(){return this.hv.Ga()};D.z.qb=function(a){this.hv.qb(a)};D.z.Xb=function(){this.hv.Xb()};D.z.Mb=function(){this.hv.Mb()};D.z.LD=(0,D.y)("Ez");
D.z.bM=function(a){this.Ez instanceof D.xj&&this.Ez.bM(a)};
this?this.DvtBaseMapManager?D.KS=this.DvtBaseMapManager:(this.DvtBaseMapManager=D.KS={},D.KS._UNPROCESSED_MAPS=[[],[],[]],D.KS._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?D.KS=window.DvtBaseMapManager:(D.KS={},window.DvtBaseMapManager=D.KS,D.KS._UNPROCESSED_MAPS=[[],[],[]],D.KS._UNPROCESSED_PARENT_UPDATES=[[]]);D.A.q(D.KS,D.A,"DvtBaseMapManager");D.KS.UE=0;D.KS.fO=1;D.KS.K3=2;D.KS.J3=3;D.KS.VU=4;D.KS.Zw="__index";D.KS.Ri={};
D.KS.hra=function(a,b){D.KS.Lq();var c=D.KS.Ri[a][b];return c&&(c=c[D.KS.VU])?new D.C(c[0],c[1],c[2],c[3]):D.o};D.KS.TIa=function(a,b){D.KS.Lq();var c=D.KS.Ri[a][b];return c?c[D.KS.J3]:D.o};D.KS.UIa=function(a,b){D.KS.Lq();var c=D.KS.Ri[a][b];return c?c[D.KS.UE]:D.o};D.KS.hKa=function(a,b,c){D.KS.Lq();a=D.KS.Ri[a][b];var d;a&&(d=a[D.KS.UE]);return d&&d[c]?d[c][1]:D.o};D.KS.hJa=function(a,b){D.KS.Lq();var c=D.KS.Ri[a];if(c&&(c=c.cities))if(c=c[D.KS.fO][b])return new D.H(c[0],c[1]);return D.o};
D.KS.iJa=function(a,b){D.KS.Lq();var c=D.KS.Ri[a];if(c&&(c=c.cities))if(c=c[D.KS.UE][b])return c[1];return D.o};D.KS.RIa=function(a,b,c){D.KS.Lq();var d=D.KS.Ri[a];if(d&&(d=d[b])){if((d=d[D.KS.J3])&&d[c])return(0,D.qF)(d[c][0]).Td();a=D.KS.Ri[a][b][D.KS.fO][c];if(!a)return D.o;a=D.K.MR(a);return D.K.I(a).Td()}return D.o};D.KS.pra=function(a,b){D.KS.Lq();var c=D.KS.Ri[a][b];return c?D.KS.Ri[a][D.KS.Zw][c.__index+1]:D.o};
D.KS.EKa=function(a,b){D.KS.Lq();return D.KS.Ri[a][b]?D.KS.Ri[a][D.KS.Zw][D.KS.Ri[a][b].__index-1]:D.o};D.KS.cra=function(a,b){D.KS.Lq();return D.KS.Ri[a][b][D.KS.fO]};D.KS.FKa=function(a,b,c){D.KS.Lq();return D.KS.Ri[a][b][D.KS.fO][c]};D.KS.gJa=function(a,b){D.KS.Lq();var c=D.KS.pra(a,b);return c&&(c=D.KS.Ri[a][c][D.KS.K3])?c:[]};D.KS.hRa=function(a,b){D.KS.Lq();return D.KS.Ri[a][D.KS.Zw][b]};
D.KS.cda=function(a,b,c,d,e,f,g,h){var j=D.KS.Ri[a];j||(j={},j[D.KS.Zw]=[],D.KS.Ri[a]=j);a=j[b];a||(a={},j[b]=a,g!=D.o&&(j[D.KS.Zw][g]=b));a[D.KS.UE]=c;a[D.KS.fO]=d;a[D.KS.K3]=e;a[D.KS.J3]=f;a[D.KS.VU]=h;a[D.KS.Zw]=g};(0,D.da)("DvtBaseMapManager.registerBaseMapLayer",D.KS.cda);D.KS.aua=function(a,b,c){var d=D.KS.Ri[a];d||(d={},D.KS.Ri[a]=d);a=d[b];a||(a={},d[b]=a);(a=d[b])&&(a[D.KS.UE]=c)};(0,D.da)("DvtBaseMapManager.registerResourceBundle",D.KS.aua);
D.KS.yua=function(a,b,c){if(a=D.KS.Ri[a])if(b=a[b])for(var d in c)b[D.KS.UE][d]=c[d]};(0,D.da)("DvtBaseMapManager.updateResourceBundle",D.KS.yua);
D.KS.Lq=function(){var a,b,c=D.KS._UNPROCESSED_MAPS;if(c){for(a=0;a<c[0].length;a++)b=c[0][a],D.KS.cda(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);for(a=0;a<c[1].length;a++)b=c[1][a],D.KS.aua(b[0],b[1],b[2]);for(a=0;a<c[2].length;a++)b=c[2][a],D.KS.yua(b[0],b[1],b[2]);D.KS._UNPROCESSED_MAPS=[[],[],[]]}if(c=D.KS._UNPROCESSED_PARENT_UPDATES){for(a=0;a<c[0].length;a++){b=c[0][a];var d=b[1],e=b[2],f=D.KS.Ri[b[0]],g;if(f){if(d=f[d]){d[D.KS.K3]=b[3];g=d[D.KS.VU];a=d[D.KS.Zw];d=f[D.KS.Zw];d.splice(a,0,e);f[e][D.KS.Zw]=
a;for(a+=1;a<d.length;a++)(e=f[d[a]])&&e[D.KS.Zw]++}(d=f[b[2]])&&(d[D.KS.VU]=g)}}D.KS._UNPROCESSED_PARENT_UPDATES=[[]]}};D.KS.qOa=function(a,b,c,d,e,f){if(0<f){b=1/(window.Math.min(d/b,e/c)*f);if(1>=b)return a;c=[];if(a)for(var g in a)d=a[g],(0,window.isNaN)(d)&&(d=D.K.MR(a[g])),c[g]=D.K.rOa(d,b);return c}return a};D.KS.cKa=function(a,b){D.KS.Lq();var c=D.KS.Ri[a][b],d={};if(c){var c=c[D.KS.UE],e;for(e in c)d[e]=c[e][1]}return d};(0,D.da)("DvtBaseMapManager.getLayerIds",D.KS.cKa);
D.LT=function(a,b){this.Init(a,b)};D.A.q(D.LT,D.A,"DvtThematicMapCategoryWrapper");D.LT.prototype.Init=function(a,b){this.Dg=a;this.al=b};D.LT.prototype.Tc=(0,D.y)("al");D.LT.prototype.hd=function(){return[this.Dg]};
D.nT=function(a){this.Init(D.nT.Wga);this.cCa=a};D.A.q(D.nT,D.Pi,"DvtMapDrillEvent");D.nT.Wga="drill";D.nT.nva=0;D.nT.T1=1;D.nT.Ewa=2;D.nT.prototype.qf=(0,D.v)("xn");
D.QS=function(a,b,c){this.Init("action");this.hC=a;this.dR=b;this.sn=c};(0,D.da)("DvtMapActionEvent",D.QS);D.A.q(D.QS,D.Pi,"DvtMapActionEvent");D.QS.TYPE="action";D.QS.prototype.pl=(0,D.y)("hC");D.QS.prototype.getClientId=D.QS.prototype.pl;D.QS.prototype.Cba=(0,D.y)("dR");D.QS.prototype.getRowKey=D.QS.prototype.Cba;D.QS.prototype.He=(0,D.y)("sn");D.QS.prototype.getAction=D.QS.prototype.He;
D.XS=function(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)};D.A.q(D.XS,D.Kf,"DvtMapLabel");D.z=D.XS.prototype;D.z.Init=function(a,b,c,d,e,f){D.XS.u.Init.call(this,a,b,0,0);this.bg=f;this.ox=[];this.xa(D.p);this.$e();this.Ff();this.Ai=D.o;this.Yr=d;this.GG=e;if(c&&(this.ox.push((0,D.qF)(c[0])),1<c.length)){this.b8=[];for(b=1;b<c.length;b++)d=c[b],this.ox.push((0,D.qF)(d[0])),d=new D.uo(a,d[1]),(0,D.Ii)(d),e=new D.ig("#000000"),this.bg&&(e.Nc=D.k),d.ba(e),this.b8.push(d)}};
D.z.update=function(a){a=a.Nd;for(var b=-1,c=D.Ye.Ph(this),d=D.p,e=0;e<this.ox.length;e++){var f=this.ox[e].e*a;if(c.g<=this.ox[e].g*a)if(c.e<=f){b=e;break}else if(this.getParent()||(d=D.k,this.GG.k(this)),this.I().e<=f){b=e;break}}-1==b&&"on"==this.Yr&&(b=this.ox.length-1);this.T5!=b?(-1==b?this.reset():(this.getParent()||this.GG.k(this),c=this.ox[b].Td(),this.Wp(c),this.b8&&(this.GG.removeChild(this.Lm),this.Lm=D.o,0<b?(this.Lm=this.b8[b-1],this.GG.k(this.Lm),d=this.pc(),d.ca("color","#000000"),
this.Na(d),d=this.ox[b],e=this.Lm.Eb(),f=e.length,d.x>e[f-2]?(this.Lh(),this.Ff(),this.Wp(new D.H(d.x,c.y))):d.y>e[f-1]?(this.$l(),this.$e(),this.Wp(new D.H(c.x,d.y))):d.x+d.e<e[f-2]?(this.Mh(),this.Ff(),this.Wp(new D.H(d.x+d.e,c.y))):d.y+d.g<e[f-1]&&(this.Do(),this.$e(),this.Wp(new D.H(c.x,d.y+d.g)))):(this.$e(),this.Ff(),d=this.pc(),d.ca("color",this.bma),this.Na(d)))),this.T5=b):-1==b&&d&&this.GG.removeChild(this);-1!=this.T5&&(b=new D.mj,b.translate(a*this.Ai.x-this.Ai.x,a*this.Ai.y-this.Ai.y),
this.Ja(b),this.Lm&&(this.Lm.Ja(new D.mj(a,0,0,a)),this.bg||(b=this.Lm.jc().ea(),b.ra(1/a),this.Lm.ba(b))))};D.z.Wp=function(a){this.Ai=a;this.ka(a.x);this.Aa(a.y)};D.z.Td=(0,D.y)("Ai");D.z.Na=function(a){D.XS.u.Na.call(this,a);this.bma||(this.bma=a.C("color"))};D.z.reset=function(){this.GG.removeChild(this);this.T5=-1;this.Lm&&(this.GG.removeChild(this.Lm),this.Lm=D.o)};
D.cT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.A.q(D.cT,D.A,"DvtMapObjPeer");D.z=D.cT.prototype;
D.z.Init=function(a,b,c,d,e){this.wa=a;this.uq=b;this.Kb=c;this.Sb=this.Pl=this.gi=D.p;this.Kb.kI&&this.Kb.kI(a.color);this.Lb=d;this.Ai=e;this.Ek=1;this.K=b.la;this.wa.categories||this.Lb&&(this.wa.categories=[this.Lb.Kd()]);c=a.location;"auto"==this.K.$ja&&c&&(b=b.PQ,(b=!(b instanceof D.SS)||b instanceof D.eT?D.KS.iJa(this.K.xk,c):D.KS.hKa(this.K.xk,b.Vh,c))&&(this.wa.shortDesc=a.shortDesc?b+": "+a.shortDesc:b));this.Kb&&(a.destination?(this.Kb.kd("link"),this.Kb.setCursor("pointer"),this.g8=D.E.FD("_blank",
a.destination)):this.Kb.kd("img"));this.rn()};D.z.getId=function(){return this.wa.id};D.z.pl=function(){return this.wa.clientId};D.z.rl=function(){return this.wa.location};D.z.Td=(0,D.y)("Ai");D.z.Wp=function(a){this.Ai=a;this.eV()};D.z.ta=(0,D.y)("Kb");D.z.Yc=(0,D.y)("Lb");D.z.kj=(0,D.y)("uq");D.z.He=function(){return this.wa.action};D.z.sb=function(a){this.Kb.sb(a);this.Lb&&this.Lb.sb(a)};D.z.Kc=function(){return this.wa.shortDesc};
D.z.Zc=function(){return this.Kb.getWidth?this.Kb.getWidth()*this.Kb.getHeight():0};D.z.Tc=function(){return this.wa.categories};D.z.Ie=function(){if("none"!=this.K.$ja){var a=this.K.v().tooltip;return a?(0,D.op)(this.K.j().cd(),a,this.$v()):this.Kc()}return D.o};D.z.$v=function(){return{id:this.getId(),label:this.Lb?this.Lb.Kd():D.o,color:this.Ki(),location:this.rl(),x:this.wa.x,y:this.wa.y}};D.z.FD=(0,D.y)("g8");D.z.Ki=function(){return this.wa.color?this.wa.color:"#000000"};
D.z.oc=function(){var a=[];this.Ea()&&a.push((0,D.N)("DvtUtilBundle",this.Ga()?"STATE_SELECTED":"STATE_UNSELECTED"));return(0,D.vk)(this.Kc(),a)};D.z.hd=function(){return[this.ta()]};D.z.rn=function(){if(!(0,D.af)()){var a=this.oc();a&&this.Kb.Rb("label",a)}};D.z.Sf=function(a){this.Kb.Sf&&this.Kb.Sf(a)};D.z.Ea=function(){return this.Kb.Ea?this.Kb.Ea():D.p};D.z.Ga=(0,D.y)("gi");
D.z.qb=function(a){if(this.Ea()){var b=this.$i();this.gi=a;this.uq.v().selectionRenderer?(0,D.pT)(this,this.uq.v().selectionRenderer,this.$i(),b):this.iB(a);this.rn()}};D.z.Xb=function(){var a=this.$i();this.Pl=D.k;this.uq.v().hoverRenderer?(0,D.pT)(this,this.uq.v().hoverRenderer,this.$i(),a):this.Fs(D.k)};D.z.Mb=function(){var a=this.$i();this.Pl=D.p;this.uq.v().hoverRenderer?(0,D.pT)(this,this.uq.v().hoverRenderer,this.$i(),a):this.Fs(D.p)};D.z.iN=(0,D.v)("xd");D.z.Jd=(0,D.y)("xd");
D.z.Oj=function(a){for(var b=this.uq.pl(),c=0;c<a.length&&a[c]!=b;c++);return b};D.z.Hk=function(){return this.uq.WB(this)};D.z.ju=function(){return this.uq.VB()};D.z.Vd=function(a){return a.type==D.rk?this:32==a.keyCode&&a.ctrlKey?this:(0,D.Pm)(this,a,this.ffa())};D.z.ffa=function(){return(0,D.qT)(this.kj().la)};D.z.Je=function(a){return this.Kb.getParent()?this.Kb instanceof D.LS?this.Kb.I(a?a:this.Kb.j().Rc):this.Kb.I(a):new D.C(0,0,0,0)};D.z.Nj=function(){return this.Kb.ya()};
D.z.ce=function(){var a=this.$i();this.Sb=D.k;this.uq.v().focusRenderer?(0,D.pT)(this,this.uq.v().focusRenderer,this.$i(),a):this.xw(D.k)};D.z.sc=function(){if(this.xc()){var a=this.$i();this.Sb=D.p;this.uq.v().focusRenderer?(0,D.pT)(this,this.uq.v().focusRenderer,this.$i(),a):this.xw(D.p)}};D.z.xc=(0,D.y)("Sb");D.z.Bh=function(a){this.Kb.getParent()&&(this.Ek=a.Nd,this.eV())};
D.z.O0=function(){if(this.Lb){this.Lb.$e();var a=this.Kb.Ng()*this.Ek,b=this.Kb.Og()*this.Ek,c=this.Kb.getHeight(),d=this.Kb instanceof D.fh?this.Kb.$a():"image",e=this.wa.labelPosition;"top"==e?(b=b-c/2-4,this.Lb.Do()):"bottom"==e?(b+=c/2,this.Lb.$l()):(b="triangleUp"==d?b+c/6:"triangleDown"==d?b-c/6:b,this.Lb.Ff());this.Lb.ka(a).Aa(b)}};
D.z.eV=function(){var a=this.Kb.getWidth(),b=this.Kb.getHeight();if(a!=D.o&&b!=D.o&&this.Kb.getParent()){var c=0,d=this.Ai.x,c=this.Ai.y;this.Kb.iw&&(c=this.Kb.iw(),d=this.Ai.x*window.Math.cos(c)-this.Ai.y*window.Math.sin(c),c=this.Ai.x*window.Math.sin(c)+this.Ai.y*window.Math.cos(c));d=this.Ai.x*this.Ek-d;c=this.Ai.y*this.Ek-c;this.Kb instanceof D.LS&&(d+=this.Ai.x-a/2,c+=this.Ai.y-b/2);(0,D.wk)(this.Kb,d,c);(0,D.Jo)(this.Kb);this.O0()}};
D.z.hf=function(a,b){var c=new D.vn(this.K.j(),this.Kb,this.kj().Ca()),d=b.ta();if(this.Kb.Zb){var e=d.Zb(),f=this.Kb.Zb();f instanceof D.Jn&&!(f.zb()==e.zb()&&f.ma()==e.ma())&&(this.Kb.P(e),b.Yc()&&this.Lb&&(e=this.Lb.Zb(),this.Lb.P(b.Yc().Zb().ea()),(0,D.T)(c.O,"typeFill",this.Lb,this.Lb.Zb,this.Lb.P,e)),(0,D.T)(c.O,"typeFill",this.Kb,this.Kb.Zb,this.Kb.P,f))}if(this.Kb.iu&&(f=b.ta().iu(),e=this.Kb.iu(),f.x!=e.x||f.y!=e.y||f.e!=e.e||f.g!=e.g))this.Kb.lB(f),(0,D.T)(c.O,"typeRectangle",this.Kb,this.Kb.iu,
this.Kb.lB,e);f=d.iw();e=this.Kb.iw();if(f!=e){var g=f-e;g>window.Math.PI?f-=2*window.Math.PI:g<-window.Math.PI&&(f+=2*window.Math.PI);this.Kb.ik(f);(0,D.T)(c.O,"typeNumber",this.Kb,this.Kb.iw,this.Kb.ik,e)}var g=b.Td(),h=this.Td();if(g&&h&&(g.x!=h.x||g.y!=h.y||f!=e))this.Wp(new D.H(g.x,g.y)),(0,D.T)(c.O,"typePoint",this,this.Td,this.Wp,new D.H(h.x,h.y));this.Lb&&b.Yc()?(f=b.Yc().qa(),e=this.Lb.qa(),f!=e&&(this.Lb.ka(f),(0,D.T)(c.O,"typeNumber",this.Lb,this.Lb.qa,this.Lb.ka,e)),f=b.Yc().sa(),e=this.Lb.sa(),
f!=e&&(this.Lb.Aa(f),(0,D.T)(c.O,"typeNumber",this.Lb,this.Lb.sa,this.Lb.Aa,e)),b.Yc().D(0)):b.Yc()&&b.Yc().D(0);d.D(0);a.add(c,1)};D.z.vh=function(a){var b=[this.Kb],c=this.Yc();c&&b.push(c);b=new D.xn(this.K.j(),b,this.kj().Ca());a.add(b,0)};D.z.yg=function(a){var b=[this.Kb];this.Kb.D(0);var c=this.Yc();c&&(c.D(0),b.push(c));b=new D.an(this.K.j(),b,this.kj().Ca());a.add(b,2)};D.z.iB=function(a){this.Kb.qb&&this.Kb.qb(a)};D.z.xw=function(a){this.Fs(a)};
D.z.Fs=function(a){a?this.Kb.Xb&&this.Kb.Xb():this.Kb.Mb&&!this.xc()&&this.Kb.Mb()};D.pT=function(a,b,c,d){if(a.Kb instanceof D.LS){var e=a.K.v()._contextHandler;e&&(c=e(a.Kb.ya(),a.Kb.LD(),a.wa,c,d),b=b(c),a=a.Kb,a.Ez!==b&&(a.Ez&&(a.Ez instanceof D.xj?a.removeChild(a.Ez):a.ya().removeChild(a.Ez)),b instanceof D.xj?a.k(b):a.ya().appendChild(b),a.Ez=b))}};D.cT.prototype.$i=function(){return{hovered:this.Pl,selected:this.Ga(),focused:this.xc()}};
D.bT=function(a,b,c,d){this.Init(a,b,c,d)};D.A.q(D.bT,D.cT,"DvtMapAreaPeer");D.z=D.bT.prototype;D.z.Init=function(a,b,c,d){D.bT.u.Init.call(this,a,b,c,d)};D.z.qb=function(a){this.Ea()&&(a&&!this.Pl&&this.vn.k(this.Kb),D.bT.u.qb.call(this,a))};D.z.Xb=function(){this.vn.k(this.Kb);D.bT.u.Xb.call(this)};D.z.Mb=function(){this.Ga()?this.vn.k(this.Kb):this.vn.Sa(this.Kb,0);D.bT.u.Mb.call(this)};D.z.wy=function(){return this.Kb.wy()};D.z.aN=function(a){a?this.vn.k(this.Kb):this.vn.Sa(this.Kb,0);this.Kb.aN(a)};
D.z.Bh=function(a){D.bT.u.Bh.call(this,a);this.Kb.getParent()&&((0,D.PS)(this.Kb,a),this.wy()||this.O0(a))};D.z.O0=function(a){this.Yc()&&this.Yc().update(a)};D.z.ffa=function(){return(0,D.dT)(this.kj().la)};D.z.hf=function(a,b){D.bT.u.hf.call(this,a,b);this.kj().PQ.Tt[this.rl()]=D.p};D.z.eV=(0,D.t)();
D.RS=function(a,b,c,d){this.Init(a,b,c,d)};D.A.q(D.RS,D.F,"DvtMapArea");D.z=D.RS.prototype;D.z.Init=function(a,b,c,d){D.RS.u.Init.call(this,a);this.gi=this.kF=D.p;this.DAa=c;this.J=b;this.k(this.J);this.bg=d;if(a=b.jc())this.uia=a.getWidth()};D.z.af=(0,D.y)("oi");D.z.Gw=(0,D.v)("oi");D.z.jc=function(){return this.J instanceof D.Si?this.J.jc():D.o};D.z.ba=function(a){this.J instanceof D.Si&&this.J.ba(a)};D.z.P=function(a){this.J instanceof D.Si&&this.J.P(a)};
D.z.Zb=function(){return this.J instanceof D.Si?this.J.Zb():D.o};D.z.GA=function(){return this.J instanceof D.Mh?this.J.GA():D.o};D.z.Sj=function(a){this.J instanceof D.Mh&&this.J.Sj(a)};D.z.oI=function(a){this.J instanceof D.Se&&this.J.oI(a)};D.z.rH=function(){return this.J.ij()};D.z.contains=function(a,b){var c=this.I();return a>=c.x&&a<=c.x+c.e&&b>=c.y&&b<=c.y+c.g};D.z.Bh=function(a){if(!this.bg&&this.J&&this.uia){var b=this.J.jc().ea();b.ra(this.uia/a.Nd);this.J.ba(b)}};
D.TS=function(a,b,c){this.Init(a,b,c)};D.A.q(D.TS,D.A,"DvtMapLayer");D.z=D.TS.prototype;D.z.Init=function(a,b,c){this.la=a;this.Vh=b;this.b2=c;this.Tj={};this.cp=new D.mj};D.z.vga=(0,D.t)();D.z.l3=(0,D.t)();
D.z.Kda=function(a,b){this.fb&&this.fb.stop(D.k);this.cp=b;this.Ot=this.kj(a.pl());this.Tj[a.pl()]=a;a.W(this.cp);a.Bh(new D.QC("zoomed"),this.cp);if(this.Ot){var c=a.Xq(),d=a.Ca();if("auto"==c){var e=new D.Ym(this.la.j());(0,D.Zm)(e,this.Ot.sk.concat(this.Ot.Wc),a.sk.concat(a.Wc));this.fb=e.Xq()}else if(D.kl.isSupported(c)){this.Coa=D.k;for(var f=new D.C(0,0,this.la.getWidth(),this.la.getHeight()),g=(0,D.hT)(this.Ot),e=0;e<g.length;e++){var h=new D.Re(this.la.j(),0,0,this.la.getWidth(),this.la.getHeight());
h.P(D.o);g[e].k(h)}for(var j=(0,D.hT)(a),e=0;e<j.length;e++)h=new D.Re(this.la.j(),0,0,this.la.getWidth(),this.la.getHeight()),h.P(D.o),j[e].k(h);f=D.kl.xD(this.la.j(),c,g,j,f,d);g=new D.C(0,0,this.la.getWidth()/this.cp.Nd,this.la.getHeight()/this.cp.Nd);j=[this.Ot.vn];for(e=0;e<j.length;e++)h=new D.Re(this.la.j(),0,0,this.la.getWidth()/this.cp.Nd,this.la.getHeight()/this.cp.Nd),h.P(D.o),j[e].k(h);for(var l=[a.vn],e=0;e<l.length;e++)h=new D.Re(this.la.j(),0,0,this.la.getWidth()/this.cp.Nd,this.la.getHeight()/
this.cp.Nd),h.P(D.o),l[e].k(h);e=D.kl.xD(this.la.j(),c,j,l,g,d);this.fb=new D.tn(this.la.j(),[f,e])}else{c=[this.Ot.vn,this.Ot.vx,this.Ot.eP];for(e=0;e<c.length;e++)c[e].getParent().removeChild(c[e])}this.vga();if(this.fb){this.b2.Oi(this.ua);var m=this;this.fb.pe(function(){m.Ar(a)},this);this.fb.play()}}else this.l3(),(0,D.oT)(this.la)};D.z.kj=function(a){return this.Tj?this.Tj[a]:D.o};D.z.W=function(a){this.cp=a;for(var b in this.Tj)this.Tj[b].W(a)};
D.z.reset=function(a,b){for(var c in this.Tj)this.Tj[c].reset(a,b)};D.z.Bh=function(a,b){this.cp=b;for(var c in this.Tj)this.Tj[c].Bh(a,b)};D.z.Sw=function(a){this.cp=a;for(var b in this.Tj)this.Tj[b].Sw(a)};
D.z.Ar=function(a){if(this.Ot)for(var b=[this.Ot.vn,this.Ot.vx,this.Ot.eP],c=0;c<b.length;c++){var d=b[c].getParent();d&&d.removeChild(b[c])}if(this.Coa){this.Coa=D.p;b=(0,D.hT)(a);for(c=0;c<b.length;c++)b[c].Hs(b[c].Qa()-1);a=[a.vn];for(c=0;c<a.length;c++)a[c].Hs(a[c].Qa()-1)}this.l3();(0,D.oT)(this.la);this.fb=D.o;this.b2.Ge(this.ua)};
D.SS=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.A.q(D.SS,D.TS,"DvtMapAreaLayer");D.z=D.SS.prototype;D.z.Init=function(a,b,c,d,e){D.SS.u.Init.call(this,a,b,e);this.Yr=c;this.dma=d;this.rO={};this.$o={};this.Ns={};this.AK=this.Lu=D.o;this.xn=[];this.Tt={};this.Vt={};this.EY={};this.wI=new D.F(this.la.j());this.TN=new D.F(this.la.j());this.la.A4.Sa(this.wI,0);this.la.Hx.Sa(this.TN,0);this.Ll=new D.US(this,this.la.xk)};D.z.rda=(0,D.v)("u4");D.z.Xq=(0,D.y)("u4");D.z.Aw=(0,D.v)("t4");D.z.Ca=(0,D.y)("t4");
D.z.FJa=(0,D.y)("Ll");D.VS=function(a,b){a.Lu=b;for(var c in a.Lu)a.Tt[c]=D.k,a.Vt[c]=D.k};D.SS.prototype.Pra=function(a){return!this.AK?D.o:this.AK[a]};D.WS=function(a,b){return a.Il[b]?a.Il[b].split(","):[]};D.SS.prototype.x_=(0,D.y)("Yr");
D.SS.prototype.yH=function(){if(!this.CK)if(this.wK)this.CK=D.K.I(D.K.MR(D.KS.FKa(this.la.xk,this.Vh,this.wK)));else if("world"!=this.la.xk&&"worldRegions"!=this.la.xk&&(this.CK=D.KS.hra(this.la.xk,this.Vh)),!this.CK){var a=(0,D.Go)(this.wI.I(),this.la.cP.I());0<a.e&&0<a.g&&(this.CK=a)}return this.CK};
D.YS=function(a,b,c){var d=a.Ns[b];if(d&&((c||!a.$o[b])&&a.xua(b),a.$o[b]||(c=new D.RS(a.la.j(),d,b,a.la.bg),a.$o[b]=c,a.b2.La(d,c),c.Gw(a.Lu&&a.Lu[b]?a.Lu[b][1]:D.o)),a.Vt[b]&&(c=a.rO[b],!c&&("off"!=a.Yr&&a.Lu)&&(c="short"==a.dma?a.Lu[b][0]:a.Lu[b][1]))))a.AK&&a.AK[b]?c=new D.XS(a.la.j(),c,a.AK[b],a.Yr,a.TN,a.la.bg):(d=(0,D.tg)(a.la.j(),d),c=new D.XS(a.la.j(),c,[[d.x,d.y,d.e,d.g]],a.Yr,a.TN,a.la.bg)),a.rO[b]=c,a.Y7&&c.Na(a.Y7)};
D.ZS=function(a,b,c){if(a.Ns[b]){a.wI.k(a.$o[b]);var d=a.rO[b];d&&(a.Vt[b]?d.update(a.cp):d.reset(),a.EY[b]=a.Vt[b]);c&&(c.push(a.$o[b]),d&&(c.push(d),c.push(d.Lm)))}};D.z=D.SS.prototype;
D.z.xua=function(a){if(!this.hoa||this.Nia){this.Nia=D.p;var b;this.hoa=(b="world"==this.la.xk||"worldRegions"==this.la.xk?D.KS.hra(this.la.xk,this.Vh):this.yH())?D.KS.qOa(D.KS.cra(this.la.xk,this.Vh),b.e,b.g,this.la.getWidth(),this.la.getHeight(),this.la.hH?this.la.PX:1):D.KS.cra(this.la.xk,this.Vh)}b=this.hoa[a];this.Ns[a]&&b?this.Ns[a].Sj(b):delete this.Ns[a]};D.z.Kda=function(a,b,c){D.SS.u.Kda.call(this,a,b,c);if(c==this.Vh)for(var d in this.Ns)(0,D.YS)(this,d,D.k),this.Tt[d]&&(0,D.ZS)(this,d)};
D.z.W=function(a){this.Nia=D.k;for(var b in this.Ns)(0,D.YS)(this,b,D.k),this.Tt[b]&&(0,D.ZS)(this,b);D.SS.u.W.call(this,a)};D.z.vga=function(){for(var a in this.Tt)this.Tt[a]||((0,D.YS)(this,a,D.p),(0,D.ZS)(this,a))};D.z.l3=function(){for(var a in this.Tt)if(!this.Tt[a]){this.wI.removeChild(this.$o[a]);var b=this.rO[a];b&&(this.EY[a]=D.p,this.TN.removeChild(b),(b=b.Lm)&&this.TN.removeChild(b))}};
D.z.yaa=function(a,b){for(var c=0;c<a.length;c++)(0,D.YS)(this,a[c],D.p),this.Tt[a[c]]&&(0,D.ZS)(this,a[c],b);for(var d in this.Tj)this.Tj[d].yaa(a,b,this.cp);this.xn=this.xn.concat(a)};D.z.MT=function(a,b){for(var c in this.Tj)this.Tj[c].MT(a,b);c=(0,D.$S)(this.la,this.Vh);for(var d=0;d<a.length;d++){var e=a[d];if(this.$o[e]){var f=D.$f.Ta(this.xn,e);-1!==f&&(this.xn.splice(f,1),b.push(this.$o[e]))}c&&c.MT((0,D.WS)(this,e),b)}};
D.z.reset=function(a,b){D.SS.u.reset.call(this,a,b);"none"!=this.la.yn&&(this.MT(this.xn,a),this.xn=[])};D.aT=function(a,b,c){for(var d in a.$o)if(a.$o[d].contains(b,c))return a.$o[d];return D.o};
D.SS.prototype.Uu=function(a){this.Lf&&(this.wI.removeChild(this.Lf),this.Lf=D.o);if(a&&(this.Lf=a.rH()))this.Lf.P(new D.Jn(this.sP.C("background-color"))),a=this.sP.C("border-width")?this.sP.C("border-width").substring(0,this.sP.C("border-width").indexOf("px")):1,this.la.bg||(a/=this.cp.Nd),a=new D.ig(this.sP.C("border-color"),1,a),this.la.bg&&(a.Nc=D.k),this.Lf.ba(a),this.wI.k(this.Lf);return this.Lf};
D.SS.prototype.Bh=function(a,b){D.SS.u.Bh.call(this,a,b);if(!this.la.bg)for(var c in this.$o)this.$o[c].Bh(b);for(c in this.EY)if(this.EY[c]){var d=this.rO[c];d&&d.update(b)}};
D.eT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.A.q(D.eT,D.SS,"DvtMapCustomAreaLayer");D.eT.prototype.Init=function(a,b,c,d,e){D.eT.u.Init.call(this,a,b,c,d,e)};D.eT.prototype.xua=(0,D.t)();D.eT.prototype.yH=function(){return new D.C(0,0,this.XDa,this.WDa)};D.fT=function(a){var b=a.la.getWidth(),c=a.la.getHeight();a=a.CAa;for(var d=0;d<a.length;d++){var e=a[d],f=e.source,g=e.width,e=e.height;if(f&&-1<f.search(".svg")||g>=b&&e>=c||d==a.length-1)return f}};
D.eT.prototype.Bh=function(a,b){D.eT.u.Bh.call(this,a,b);if(this.$o.image){var c=(0,D.fT)(this);c!=this.jX&&(this.jX=c,this.$o.image.oI(this.jX))}};
D.gT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.A.q(D.gT,D.A,"DvtMapDataLayer");D.gT.prototype.Init=function(a,b,c,d,e){this.la=a;this.hC=c;this.le=e;this.Wc=[];this.sk=[];this.Pja=[];this.Rja=[];this.rb=d;this.Qd=new D.ou(a.j());(0,D.Sq)(this.rb,this.Qd);this.vn=new D.F(this.la.j());this.vx=new D.F(this.la.j());this.eP=new D.F(this.la.j());this.la.cP.Sa(this.vn,0);this.la.Fz.Sa(this.vx,0);this.la.Hx.Sa(this.eP,0);this.PQ=b;this.xn=[];this.lp=[]};D.gT.prototype.v=(0,D.y)("le");
D.hT=function(a){var b=[a.eP];a.la.Wz&&b.push(a.vx);return b};D.iT=function(a){for(var b=[],c=0;c<a.Wc.length;c++)a.Wc[c].wy()||b.push(a.Wc[c]);return b};D.jT=function(a){for(var b=[],c=0;c<a.Wc.length;c++)for(var d=0;d<a.xn.length;d++)a.Wc[c].rl()==a.xn[d]&&(a.Wc[c].wy()||b.push(a.Wc[c]));return b};D.kT=function(a,b){a.Rja.push(b);b&&(a.sk.push(b),a.rb.La(b.ta(),b))};D.lT=function(a,b){a.Pja.push(b);b&&(a.Wc.push(b),a.rb.La(b.ta(),b),b.vn=a.vn)};D.z=D.gT.prototype;D.z.pl=(0,D.y)("hC");D.z.rda=(0,D.v)("u4");
D.z.Xq=(0,D.y)("u4");D.z.Aw=(0,D.v)("t4");D.z.Ca=(0,D.y)("t4");D.z.Ew=function(a){if(this.Oq=a)this.Qb=new D.gl(this.Oq),this.rb.Ku(this.hC,this.Qb)};D.z.Ea=function(){return this.Oq!=D.o};D.mT=function(a,b){var c;c=a.Wc[b];var d=c.ta(),e=a.PQ.Ns[c.rl()];e?(d.Sj(e.GA()),c=D.k):(c=a.Wc.indexOf(c),-1!==c&&a.Wc.splice(c,1),c=D.p);if(c){d=a.Wc[b].ta();a.vn.k(d);if(c=a.Wc[b].Yc())0<c.ox.length||(d=d.I(),c.ox.push(d)),c.update(a.eL);return D.k}return D.p};D.z=D.gT.prototype;
D.z.W=function(a){this.Cia=D.k;this.eL=a;a={};var b=this.sk.slice();b.sort(function(a,b){return a.Zc()<b.Zc()?1:a.Zc()>b.Zc()?-1:0});for(var c=0;c<b.length;c++){var d=b[c],e=d.ta(),f=d.Yc();if(f){var g=new D.F(e.j());this.vx.k(g);g.k(e);g.k(f);d.O0()}else this.vx.k(e);(d=d.rl())&&(a[d]=D.k)}for(c=0;c<this.Wc.length;c++)a[this.Wc[c].rl()]&&(this.Wc[c].Lb=D.o),(0,D.mT)(this,c)||c--;this.t7&&this.kA()};
D.z.yaa=function(a,b,c){this.eL=c;for(var d=[],e=0;e<a.length;e++)for(var f=0;f<this.Wc.length;f++)if(this.Wc[f].rl()==a[e]){d.push(this.Wc[f].rl());(0,D.mT)(this,f);var g=this.Wc[f].ta();b.push(g);(0,D.PS)(g,c);if(f=this.Wc[f].Yc())b.push(f),(f=f.Lm)&&b.push(f);break}for(f=0;f<this.sk.length;f++)for(e=0;e<a.length;e++)c=this.sk[f].rl(),g=this.sk[f].ta(),c!=D.o?c==a[e]&&(this.vx.k(g),b.push(g)):(this.vx.k(g),b.push(g));this.xn=this.xn.concat(d)};
D.z.MT=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<this.Wc.length;d++)if(this.Wc[d].rl()==a[c]){this.Wc[d].wy()&&this.Wc[d].aN(D.p);this.Wc[d].Ga()&&this.Qb.oT(this.Wc[d]);var e=D.$f.Ta(this.xn,a[c]);if(-1<e&&(this.xn.splice(e,1),b.push(this.Wc[d].ta()),d=this.Wc[d].Yc()))b.push(d),b.push(d.Lm);break}};
D.z.reset=function(a,b){if(this.Qb)for(var c=this.Qb.getSelection(),d=0;d<c.length;d++)(!b||b&&-1==D.$f.Ta(b,c[d].rl()))&&this.Qb.oT(c[d]);if("none"!=this.la.yn)for(c=0;c<this.lp.length;c++){for(d=0;d<this.Wc.length;d++)if(this.Wc[d].rl()==this.lp[c]){this.Wc[d].aN(D.p);var e=this.Wc[d].ta();this.vn.k(e);a.push(e);if(d=this.Wc[d].Yc())d.update(this.eL),a.push(d),a.push(d.Lm);break}for(d=0;d<this.sk.length;d++)if(this.sk[d].rl()==this.lp[c]){e=this.sk[d].ta();this.vx.k(e);a.push(e);break}}this.lp=
[]};D.z.Bh=function(a,b){this.eL=b;var c=b.Nd,d=a.Mj();if(this.Cia&&"zoomed"==d){this.Cia=D.p;for(d=0;d<this.Wc.length;d++){var e=this.Wc[d].ta(),f=e.qFa;if(f){var g=new D.gh;f.Le(g);g.Ja(new D.mj(1/c,D.o,D.o,1/c));e.P(g)}}}d=this.Wc;for(c=0;c<d.length;c++)d[c].Bh(b);if(this.la.Wz){d=this.sk;for(c=0;c<d.length;c++)d[c].Bh(b)}};D.z.Sw=(0,D.v)("eL");D.z.kA=function(){this.Qb&&((0,D.Ol)(this.Qb,this.t7,this.sk.concat(this.Wc)),this.t7=D.o)};
D.z.WB=function(a){if(this.Qb){a.Ga()||(this.Qb.bn(a,D.p),this.rb.Zv(a));a=[];for(var b=this.Qb.getSelection(),c=0;c<b.length;c++)a.push(b[c].getId());return a}return D.o};D.z.VB=function(){for(var a=[],b=this.Qb.getSelection(),c=0;c<b.length;c++)a.push(b[c].ta());return a};
D.vT=function(a,b){this.Init(a,b)};D.A.q(D.vT,D.Rp,"DvtThematicMapKeyboardHandler");D.z=D.vT.prototype;D.z.Init=function(a,b){D.vT.u.Init.call(this,a,b);this.la=a};D.z.By=function(a){return this.Bg(a)&&!a.ctrlKey};
D.z.Sh=function(a){var b=a.keyCode;if(221==b){var b=this.ha.od(),c=(0,D.qT)(this.la);b instanceof D.bT&&0<c.length&&(b=(0,D.Pm)(b,a,c));(0,D.VT)(this.ha,b)}else 219==b?(b=this.ha.od(),c=(0,D.dT)(this.la),!(b instanceof D.bT)&&0<c.length&&(b=(0,D.Pm)(b,a,c)),(0,D.VT)(this.ha,b)):(b=D.vT.u.Sh.call(this,a),this.Bg(a)&&!a.ctrlKey&&(0,D.VT)(this.ha,b));return b};D.z.hr=function(a){return 32==a.keyCode&&a.ctrlKey};
D.z.Bg=function(a){var b=D.vT.u.Bg.call(this,a);if(!b&&(a=a.keyCode,219==a||221==a))b=D.k;return b};
D.uT=function(a,b,c){this.Init(a,b,c)};D.A.q(D.uT,D.Uj,"DvtThematicMapEventManager");D.z=D.uT.prototype;D.z.Init=function(a,b,c){D.uT.u.Init.call(this,a,b,c);this.rA={};this.la=c;this.lx=D.p};D.z.yh=function(a){if(a&&a.kj)return this.rA[a.kj().pl()]};D.z.Ku=function(a,b){this.rA[a]=b};D.z.yda=(0,D.v)("yn");D.z.oT=function(a,b){var c=this.rA[a];c&&c.oT(b)};D.z.ZL=function(a){(a=this.rA[a])&&a.ZL()};
D.z.Xy=function(a){var b=(0,D.Jj)(this,a.target);b&&(b.Jd&&b.kj)&&(this.la.ZJ=b.kj().pl());D.uT.u.Xy.call(this,a)};D.z.hn=function(a){this.la.ZJ=D.o;D.uT.u.hn.call(this,a)};D.z.Wh=function(a){var b=(0,D.Jj)(this,a.target);(0,D.VT)(this,b);if(!b||!b.Ea||!b.Ea())for(var c in this.rA)if(this.rA[c].bn(D.o,a.ctrlKey)){var d=new D.Qm([]);(0,D.Kl)(d,"clientId",c);this.tb.call(this.ua,d)}D.uT.u.Wh.call(this,a);this.QF(b,a.pageX,a.pageY)};
D.z.QF=function(a,b,c){if(a instanceof D.cT){var d=a.FD();d?d.call():a.He()!=D.o?(0,D.WT)(this,a,b,c):a.Jd()&&(this.la.ZJ=a.kj().pl())}};D.WT=function(a,b,c,d){var e=new D.QS(b.pl(),b.getId(),b.He());(0,D.Kl)(e,"clientId",b.kj().pl());c!=D.o&&d!=D.o&&(b=(0,D.Pu)(a.la.j(),c,d),(0,D.Kl)(e,"pointXY",{x:b.x,y:b.y}));a.Lc();a.tb.call(a.ua,e)};
D.VT=function(a,b){var c=D.o,d=D.o,e=D.o;b&&(b instanceof D.cT?e=b.ta():b instanceof D.RS&&(e=b),b.kj&&(d=b.kj(),c=d.pl(),d=d.PQ.Vh));var f=a.la;f.Bm=d;f.zz=c;f.aW=e};D.z=D.uT.prototype;D.z.Wy=function(a){a=(0,D.Jj)(this,a.target);this.yh(a)&&(this.yn&&"none"!=this.yn)&&(a=new D.nT(D.nT.T1),this.tb.call(this.ua,a))};
D.z.Xh=function(a){var b=D.k,c=a.keyCode,d=this.od(),e=d.ta();9!=c&&this.lx?(e.bM(a),a.preventDefault()):(48==c||96==c)&&a.ctrlKey&&a.shiftKey?(this.la.kda(),a.preventDefault()):220==c?((d=this.la.bd)&&(d instanceof D.Ku?(0,D.Lu)(d,!d.isCollapsed()):d instanceof D.zr&&d.qf(!d.mb())),a.preventDefault()):13==c?d instanceof D.cT&&((e=d.FD())?e.call():d.He()!=D.o?(0,D.WT)(this,d):a.shiftKey?this.la.zaa():this.la.XZ(),a.preventDefault()):32==c&&a.ctrlKey?((0,D.VT)(this,d),(0,D.cz)(this,d,D.k),a.preventDefault()):
(48==c||96==c)&&a.ctrlKey?(a.altKey?(d=this.la,e||(e=d.dqa),e||(e=d.aW),d.gH(e.I())):(0,D.DT)(this.la),a.preventDefault()):9==c&&e instanceof D.LS?!a.shiftKey&&d.xc()?(d.sc(),e.bM(a),a.preventDefault(),this.lx=D.k):(a.shiftKey&&this.lx?(this.YI(a,d),a.preventDefault()):(this.lx&&d.ce(),b=D.uT.u.Xh.call(this,a)),this.lx=D.p):b=D.uT.u.Xh.call(this,a);return b};
D.z.FB=function(a){if(!(0,D.Dq)(this,a,"panned")){var b=(0,D.Jj)(this,a.target);(0,D.VT)(this,b);if(b instanceof D.HS)for(var c in this.rA)if(this.rA[c].bn(D.o,a.ctrlKey)){for(var d=this.rA[c].getSelection(),e=[],f=0;f<d.length;f++)e.push(d[f].getId());d=new D.Qm(e);this.tb.call(this.ua,d)}D.uT.u.FB.call(this,a);this.QF(b,a.Yo.pageX,a.Yo.pageY)}};D.z.G2=function(a){a=(0,D.Jj)(this,a.target);this.la.ZJ=a&&a.Jd&&a.kj?a.kj().pl():D.o};
D.z.Kfa=function(a){a=(0,D.Jj)(this,a.target);this.la.ZJ=a&&a.Jd&&a.kj?a.kj().pl():D.o};D.z.BB=function(a){var b=(0,D.Jj)(this,a.target);b&&(this.yh(b)&&this.yn&&"none"!=this.yn)&&((0,D.cz)(this,b,a.ctrlKey),a=new D.nT(D.nT.T1),this.tb.call(this.ua,a))};D.z.sU=function(a,b){var c=(0,D.Jj)(this,a.target);(0,D.VT)(this,c);D.uT.u.sU.call(this,a,b)};
D.z.tm=function(a,b,c){a=this.la.v();"dim"==a.hoverBehavior&&(b=b.Tc?b.Tc():[],a.highlightedCategories=c?b.slice():D.o,c=new D.Fm(c?"categoryRollOver":"categoryRollOut",a.highlightedCategories),b=(0,D.np)(a.styleDefaults.hoverBehaviorDelay),this.LB.Yd(c,(0,D.dT)(this.la).concat((0,D.qT)(this.la)),b,"any"==a.highlightMatch))};D.z.Pu=function(){var a=this.la.v();return"none"!==a.panning||"none"!==a.zooming?"touchHold":"touchStart"===a.touchResponse?"touchStart":"auto"};
D.z.Ww=function(a){return"panned"==a?D.p:D.uT.u.Ww.call(this,a)};
D.sT=function(a){this.Init(a)};D.A.q(D.sT,D.A,"DvtThematicMapJsonParser");D.sT.prototype.Init=function(a){this.la=a;this.tX=D.p;this.eF=D.o;this.ODa=(0,D.Jf)();this.Mja={};this.Nja={}};
D.sT.prototype.parse=function(a){var b=a.animationDuration;"string"==typeof b?"ms"==b.slice(-2)?b=(0,window.parseInt)(b.slice(0,-2))/1E3:"s"==b.slice(-1)&&(b=(0,window.parseFloat)(b.slice(0,-1))):b/=1E3;this.la.Aw(b);this.la.qia="auto"==a.animationOnDisplay?"alphaFade":a.animationOnDisplay;this.la.tAa="auto"==a.animationOnMapChange?"alphaFade":a.animationOnMapChange;this.tX=a.source!=D.o;var b=this.la,c=this.tX?"$"+a.basemap:a.basemap;b.E4=b.xk&&b.xk!=c;b.xk=c;this.la.f1(a.featuresOff);this.la.YO=
a.controlPanelBehavior;b=a.tooltipDisplay;"shortDesc"==b?b="shortDescOnly":"labelAndShortDesc"==b&&(b="auto");this.la.$ja=b;(b=a.popups)&&this.la.iN(this.Im(b));this.la.yda(a.drilling);this.la.w4=a.animationOnDrill;this.la.z7="auto"==a.initialZooming;this.la.Wz="fixed"==a.markerZoomBehavior;this.la.$K="auto"==a.panning;this.la.hH="auto"==a.zooming;this.la.Hla=a.panX;this.la.Ila=a.panY;this.la.y7=a.zoom;(0,window.isNaN)(a.maxZoom)||(b=window.Math.max(a.maxZoom,1),this.la.PX=b);a._legend&&(this.la.Ix=
a._legend);b=a.styleDefaults;(0,D.sq)(this.la,b);this.eF=new D.I(b.areaStyle);(0,D.Vf)(this.eF,b.labelStyle);this.BAa=new D.I(b.dropTargetStyle);this.la.iZ=b;if(this.tX&&a.sourceXml)for(var b=(new D.rj).parse(a.sourceXml).Ic(),d,e,c=0;c<b.length;c++)if(d=b[c],e=d.getName(),"layer"==e){e=d;d=e.Ic();e=e.B("id");for(var f=D.i,g=D.i,h=[],j=0;j<d.length;j++)if(f=d[j],g=f.getName(),"image"==g){g={};g.source=f.B("source");g.width=f.B("width");g.height=f.B("height");var l=f.B("bidi"),f=f.B("dir");g.dir="true"==
l||"rtl"==f?"rtl":"ltr";h.push(g)}this.Mja[e]=h}else if("points"==e){d=d.Ic();h=e=D.i;j={};f={};for(g=0;g<d.length;g++)e=d[g],h=e.getName(),"point"==h&&(j[e.B("name")]=[e.B("x"),e.B("y")],f[e.B("name")]=[D.o,e.B("longLabel")]);D.KS.cda(this.la.xk,"cities",f,j,D.o,D.o,1)}b=a.areaLayers;c=this.la.xk;for(d=0;d<b.length;d++)if(e=D.vl.Xd(b[d],D.ST),j=e.layer){e.areaStyle&&(0,D.Vf)(this.eF,e.areaStyle);e.labelStyle&&(0,D.Vf)(this.eF,e.labelStyle);if(this.tX){f=h=new D.eT(this.la,j,e.labelDisplay,e.labelType,
this.la.Ia());j=this.Mja[j];l=D.o;g=(0,D.G)(f.la.j());if(j&&0<j.length){var l=j[0].width,m=j[0].height;f.XDa=l;f.WDa=m;for(var n=[],q=0;q<j.length;q++)g&&"rtl"==j[q].dir?n.push(j[q]):!g&&"ltr"==j[q].dir&&n.push(j[q]);f.CAa=0<n.length?n:j;f.jX=(0,D.fT)(f);l=new D.Se(f.la.j(),f.jX,0,0,l,m)}l&&((0,D.VS)(f,{image:[D.o,D.o]}),f.Ns={image:l})}else{h=new D.SS(this.la,j,e.labelDisplay,e.labelType,this.la.Ia());f=D.KS.UIa(c,j);g=h;q=f;l={};m=this.la.j();n=D.i;for(n in q){l[n]=new D.Mh(m);if((q=this.eF.C("border-color"))&&
"transparent"!=q)q=new D.ig(q),this.la.bg&&(q.Nc=D.k),l[n].ba(q);q=this.eF.C("background-color");"transparent"!=q?l[n].va(q):l[n].P(D.o)}g.Ns=l;(0,D.VS)(h,f);f=D.KS.TIa(c,j);h.AK=f;j=D.KS.gJa(this.la.xk,j);h.Il=j}h.Y7=this.eF;h.sP=this.BAa;h.rda("auto"==e.animationOnLayerChange?"alphaFade":e.animationOnLayerChange);h.Aw(this.la.Ca());this.la.Mf.push(h);e.areaDataLayer&&(0,D.zT)(this,[e.areaDataLayer],h,D.o,D.k);e.pointDataLayers&&(0,D.zT)(this,e.pointDataLayers,h,D.o,D.p)}(0,D.zT)(this,a.pointDataLayers,
D.o,D.o,D.p)};
D.zT=function(a,b,c,d,e){if(b)for(var f=0;f<b.length;f++){var g=D.vl.Xd(b[f],D.TT);if(g.markerDefs){var h=g.markerDefs,j;for(j in h)if(!a.Nja[j]){var l=(new D.rj).parse(h[j]);a.Nja[j]=D.xE.aIa(a.la.j(),l)}}g.legend&&(a.la.Ix=g.legend);if(c){if(c instanceof D.SS&&e)for(h in e=c,h=D.i,e.Lu)e.Tt[h]=D.k,e.Vt[h]=D.k}else c=new D.TS(a.la,g.id,a.la.Ia()),a.la.Mf.push(c);h=new D.gT(a.la,c,g.id,a.la.Ia(),g);e=g.selectionMode;"single"==e?h.Ew("s"):"multiple"==e&&h.Ew("m");h.rda(g.animationOnDataChange);h.Aw(a.la.Ca());
var m=D.o;c instanceof D.SS&&(m=g.isolatedItem);var n=g.disclosedItems,l=[],q;e=c instanceof D.SS;var r;g.popups&&(r=a.Im(g.popups));var s=a.la.v().hiddenCategories,u=g.areas;if(u)for(var w=0;w<u.length;w++)if(s&&D.$f.UA(s,u[w].categories))(0,D.lT)(h,D.o);else{var x=u[w].location;if(m)if(m!=u[w].id)continue;else q=x;n&&-1!=n.indexOf(u[w].id)&&l.push(x);var D$=a,Q=c,M=h,x=u[w],L=x.location;if(Q.Ns[L]&&x.color){Q.Tt[L]=D.p;L=new D.MS(D$.la.j(),D$.la.bg);x=D.vl.Xd(x,D$.la.iZ.dataAreaDefaults);x.labelStyle||
(x.labelStyle=D$.la.iZ.labelStyle);var W=new D.ig(x.hoverColor,1,2),O=new D.ig(x.selectedInnerColor,1,1),ca=new D.ig(x.selectedOuterColor,1,4);L.Yp(W,D.o).$p(O,ca);W=new D.ig(x.drilledInnerColor,1,2);ca=new D.ig(x.drilledOuterColor,1,4);O=L;O.AW=W;O.AW&&O.bg&&(O.AW.Nc=D.k);O.BW=ca;O.BW&&O.bg&&(O.BW.Nc=D.k);Q.Vt[x.location]=D.p;(0,D.XT)(D$,x,L);D$=D$.uF(Q,M,x,L,D.k);x=new D.bT(x,M,L,D$)}else x=D.o;r&&x.iN(r);x&&(x.Sf(h.Ea()),(0,D.lT)(h,x))}u=g.renderer;if((M=g.markers)&&!u)for(w=0;w<M.length;w++)if(s&&
D.$f.UA(s,M[w].categories))(0,D.kT)(h,D.o);else{x=M[w].location;if(m)if(m!=M[w].id)continue;else q=x;x=a.rW(c,h,M[w],e);r&&x.iN(r);x&&(x.Sf(h.Ea()),(0,D.kT)(h,x))}if(s=g.images)for(w=0;w<s.length;w++){x=s[w].location;if(m)if(m!=s[w].id)continue;else q=x;x=a.M5(c,h,s[w],e);r&&x.iN(r);x&&(0,D.kT)(h,x)}if(u)for(w=0;w<M.length;w++){x=M[w].location;if(m)if(m!=M[w].id)continue;else q=x;n&&-1!=n.indexOf(M[w].id)&&l.push(x);s=a.la.v()._contextHandler(a.la.ya(),D.o,M[w],{hovered:D.p,selected:D.p,focused:D.p},
D.o);L=u(s);D$=a;Q=c;s=h;x=M[w];W=L;O=e;(L=(0,D.YT)(s,x))?(O&&(Q.Vt[x.location]=D.p),D$=new D.LS(D$.la.j(),W,D$.la.iZ.dataAreaDefaults),x=new D.cT(x,s,D$,D.o,L)):x=D.o;r&&x.iN(r);x&&(x.Sf(h.Ea()),(0,D.kT)(h,x))}if(q)for(w in h.dQa=m,m=c,n=q,m.wK=n,m.CK=D.o,w=D.i,m.Ns)w!=n&&(m.Tt[w]=D.p);if((g=g.selection)&&0<g.length)h.t7=g;l&&0<l.length&&(a.la.NP[c.Vh]=[h.pl(),l]);d?c.Kda(h,a.la.ga.ja.Da(),d):c.Tj[h.pl()]=h}};
D.sT.prototype.rW=function(a,b,c,d){var e=(0,D.YT)(b,c);if(!e)return D.o;var f=this.la.iZ.dataMarkerDefaults,g=new D.I(f.labelStyle);(0,D.Vf)(g,c.labelStyle);c=D.vl.Xd(c,f);c.labelStyle=g.toString();f=1;(0,window.isNaN)(c.scaleX)||(f=c.scaleX);g=1;(0,window.isNaN)(c.scaleY)||(g=c.scaleY);var h=c.width,j=c.height;if(!h||(0,window.isNaN)(h))h=this.la.v().styleDefaults.dataMarkerDefaults.width;if(!j||(0,window.isNaN)(j))j=this.la.v().styleDefaults.dataMarkerDefaults.height;if(c.source)f=new D.eh(this.la.j(),
e.x,e.y,h*f,j*g,c.source,c.sourceSelected,c.sourceHover,c.sourceHoverSelected);else var l=c.shape?c.shape:this.la.v().styleDefaults.dataMarkerDefaults.shape,f=new D.fh(this.la.j(),l,this.la.wc,e.x,e.y,h*f,j*g);(g=c.rotation)&&f.ik(g*window.Math.PI/180);d&&(a.Vt[c.location]=D.p);(0,D.XT)(this,c,f);a=this.uF(a,b,c,f,d);return new D.cT(c,b,f,a,e)};
D.sT.prototype.M5=function(a,b,c,d){var e=(0,D.YT)(b,c);if(!e)return D.o;var f=new D.Se(this.la.j(),c.url),g=c.width,h=c.height;g!=D.o&&h!=D.o&&(f.ka(e.x-g/2),f.Aa(e.y-h/2),f.ra(g),f.Ha(h));d&&(a.Vt[c.location]=D.p);var j=new D.cT(c,b,f,D.o,e);(!g||!h)&&D.Ge.So(this.la.j(),c.url,function(a){a&&(a.width&&a.height)&&(f.ra(a.width),f.Ha(a.height),f.ka(e.x-a.width/2),f.Aa(e.y-a.height/2),j.eV())});return j};
D.sT.prototype.uF=function(a,b,c,d,e){var f=c.location,g=c.label,h=g?"on":"off";e&&(h=a.x_());d=d instanceof D.Mh;if(!g&&e&&(d&&"off"!=h||!d&&"on"==h))g="long"==a.dma?a.Lu[f][1]:a.Lu[f][0];if(g){var j=this.la.j(),j=d?new D.XS(j,g,a.Pra?a.Pra(f):D.o,h,b.eP,this.la.bg):new D.Kf(j,g,0,0);b=new D.I;d&&b.Xd(new D.I(a.Y7));c.labelStyle&&(0,D.Vf)(b,c.labelStyle);a=b.C("color");b.ca("color",D.o);j.Na(b);if(j instanceof D.XS&&(D.No===D.k||!a))a=D.J.Ij(c.color);a&&j.va(a)}return j};
D.XT=function(a,b,c){var d=b.pattern,e=b.color,f=a.ODa||"alta"==a.la.wc?"none":b.visualEffects;if(c instanceof D.fh){if("none"!=b.borderStyle){var g=b.borderWidth;"string"==typeof g&&(g="px"==g.slice(-2)?(0,window.parseFloat)(b.borderWidth.slice(0,-2)):(0,window.parseFloat)(b.borderWidth));var h=new D.ig(b.borderColor,1,g);a.la.Wz||(h.Nc=D.k);h.Qk((0,D.jg)(b.borderStyle));c.ba(h)}g=b.opacity;"none"!=f?c.P(new D.hh.Hqa(e,c,g)):d?c.P(new D.gh(d,e,"#FFFFFF")):e&&c.va(e,g)}else if(c instanceof D.Mh){if(b=
b.borderColor)h=new D.ig(b),a.la.bg&&(h.Nc=D.k),c.ba(h);d?(a=new D.gh(d,e,"#FFFFFF"),c.qFa=a):c.va(e,g)}};D.YT=function(a,b){var c=a.la,d=c.xk,e=b.location;return e?((c=D.KS.RIa(d,a.PQ.Vh,e))||(c=D.KS.hJa(d,e)),c):D.Z.FNa(b.x,b.y,c.xk)};D.sT.prototype.Im=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new D.Ki(a[c].popupId,a[c].triggerType,D.o,a[c].align));return b};
D.Z={};D.A.q(D.Z,D.A,"DvtThematicMapProjections");D.Z.fx=new D.C(0,0,800,500);D.Z.aV=6378206.4;D.Z.X3=new D.C(500,200,200,200);D.Z.W3=new D.C(163,-49,17,17);D.Z.kha=new D.C(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);D.Z.nha=new D.C(-0.8436866097568272,-0.7626456732012923,1.8336308036296942,1.5748427214611724);D.Z.oha=new D.C(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);
D.Z.Aha=new D.C(-0.47944476148667076,-0.0014669405958800579,0.7364925893845453,0.6293972741802124);D.Z.Pha=new D.C(-0.6154469465354344,-0.24589767758847714,1.2448236795108683,1.2631535127174947);D.Z.Vha=new D.C(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);D.Z.mha=new D.C(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);D.Z.zha=new D.C(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);
D.Z.Nha=new D.C(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);D.Z.Xha=new D.C(-0.6154656300926513,0.0507209798775865,1.0153104799231851,0.966537441082997);D.Z.Zha=new D.C(-171.9,-62.6,349.8,150.8);D.Z.oxa=new D.C(172,51,8,3);D.Z.pxa=new D.C(-180,51,51,21);D.Z.zya=new D.C(-178.5,18.9,35,11);D.Z.xza=new D.C(-124.8,24.4,58,25.5);D.Z.lha=new D.C(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);
D.Z.Hha=new D.C(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);D.Z.Wha=new D.C(-2386803.25,-1183550.5,4514111,2908402);D.Z.V3=new D.C(165,400,100,100);D.Z.S3=new D.C(-75,350,240,150);D.Z.ho=[[1,0],[0.9986,0.0314],[0.9954,0.0629],[0.99,0.0943],[0.9822,0.1258],[0.973,0.1572],[0.96,0.1887],[0.9427,0.2201],[0.9216,0.2515],[0.8962,0.2826],[0.8679,0.3132],[0.835,0.3433],[0.7986,0.3726],[0.7597,0.4008],[0.6732,0.4532],[0.6213,0.4765],[0.5722,0.4951],[0.5322,0.5072]];
D.Z.FNa=function(a,b,c){var d;switch(c){case "africa":d=D.Z.Pz(D.Z.kha,D.Z.EP(a,b));break;case "asia":d=D.Z.Pz(D.Z.nha,D.Z.RW(40,95,20,60,a,b),D.Z.qj(5));break;case "australia":d=D.Z.vCa(a,b);break;case "europe":d=D.Z.Pz(D.Z.Aha,D.Z.RW(35,25,40,65,a,b),D.Z.qj(10));break;case "northAmerica":d=D.Z.Pz(D.Z.Pha,D.Z.RW(23,-96,20,60,a,b));break;case "southAmerica":d=D.Z.Pz(D.Z.Vha,new D.H(a,b),D.Z.qj(5));break;case "apac":d=D.Z.Pz(D.Z.mha,D.Z.EP(a,b));break;case "emea":d=D.Z.Pz(D.Z.zha,D.Z.EP(a,b));break;
case "latinAmerica":d=D.Z.Pz(D.Z.Nha,new D.H(a,b));break;case "usaAndCanada":d=D.Z.Pz(D.Z.Xha,D.Z.RW(23,-96,20,60,a,b));break;case "worldRegions":d=D.Z.jla(a,b);break;case "usa":d=D.Z.aDa(a,b);break;case "world":d=D.Z.jla(a,b)}return d?new D.H(10*d.x,10*d.y):D.o};
D.Z.aDa=function(a,b){var c;(0,D.Bm)(D.Z.oxa,a,b)||(0,D.Bm)(D.Z.pxa,a,b)?(c=D.Z.Aq(D.Z.lha,D.Z.S3),c=D.Z.oO(c,D.Z.EP(a,b))):(0,D.Bm)(D.Z.zya,a,b)?(c=D.Z.Aq(D.Z.Hha,D.Z.V3),c=D.Z.oO(c,new D.H(a,b))):(0,D.Bm)(D.Z.xza,a,b)&&(c=D.Z.Aq(D.Z.Wha,D.Z.fx),c=D.Z.oO(c,D.Z.SCa(new D.H(-95,36),a,b)));return D.Z.SW(c)};D.Z.jla=function(a,b){var c=D.Z.Aq(D.Z.Zha,D.Z.fx),c=D.Z.oO(c,D.Z.WCa(a,b));return D.Z.SW(c)};
D.Z.vCa=function(a,b){var c;c=(0,D.Bm)(D.Z.W3,a,b)?D.Z.Aq(D.Z.W3,D.Z.X3):D.Z.Aq(D.Z.oha,D.Z.fx);c=D.Z.oO(c,D.Z.EP(a,b));return D.Z.SW(c)};D.Z.Pz=function(a,b,c){a=D.Z.Aq(a,D.Z.fx);if(c){var d=new D.mj;d.rotate(c);a=D.Z.sja(a,d)}b=(0,D.Op)(a,b);return D.Z.SW(b)};D.Z.SW=function(a){var b=D.Z.fx;return!a||!(0,D.Bm)(b,a.x,a.y)?D.o:a};
D.Z.RW=function(a,b,c,d,e,f){b=D.Z.qj(b);a=D.Z.qj(a);c=D.Z.qj(c);d=D.Z.qj(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;e=d*(D.Z.qj(e)-b);f=c-2*d*window.Math.sin(D.Z.qj(f));f=window.Math.sqrt(f)/d;return new D.H(f*window.Math.sin(e),a-f*window.Math.cos(e))};D.Z.EP=function(a,b){var c=window.Math.log(window.Math.tan(0.25*window.Math.PI+0.5*D.Z.qj(b)));return new D.H(a,D.Z.nN(c))};
D.Z.SCa=function(a,b,c){b=D.Z.qj(b);c=D.Z.qj(c);var d=D.Z.qj(a.x);a=D.Z.qj(a.y);return new D.H(window.Math.cos(c)*window.Math.sin(b-d)*D.Z.aV,(window.Math.cos(a)*window.Math.sin(c)-window.Math.sin(a)*window.Math.cos(c)*window.Math.cos(b-d))*D.Z.aV)};
D.Z.WCa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.ho.length-1&&(c=D.Z.ho.length-2);var d=(window.Math.abs(b)-5*c)/5,e=a*(D.Z.ho[c][0]+d*(D.Z.ho[c+1][0]-D.Z.ho[c][0])),c=D.Z.ho[c][1]+d*(D.Z.ho[c+1][1]-D.Z.ho[c][1]);0>b&&(c*=-1);return new D.H(e,180*c)};D.Z.oO=function(a,b){return new D.H(b.x*a.Nd+a.Hc,b.y*a.rg+a.Bc)};D.Z.sja=function(a,b){var c=a.Nd,d=a.rg;return new D.mj(b.Nd*c,b.ai*c,b.nh*d,b.rg*d,a.Hc+b.Hc*c,a.Bc+b.Bc*d)};
D.Z.Aq=function(a,b){var c=b.x,d=b.y,e=a.e,f=a.g,g=0,g=b.e/e,h=b.g/f,g=g<=h?g:h,c=c-a.x*g,d=d+a.y*g,c=c+(b.e-e*g)/2,d=d+(b.g-(b.g-f*g)/2);return new D.mj(g,0,0,-g,c,d)};D.Z.qj=function(a){return a*(window.Math.PI/180)};D.Z.nN=function(a){return a*(180/window.Math.PI)};
D.Z.uMa=function(a,b,c){var d;a/=10;b/=10;switch(c){case "africa":d=D.Z.Qz(D.Z.kha,new D.H(a,b));d=D.Z.CP(d.x,d.y);break;case "asia":d=D.Z.Qz(D.Z.nha,new D.H(a,b),D.Z.qj(5));d=D.Z.WW(40,95,20,60,d.x,d.y);break;case "australia":d=D.Z.HCa(a,b);break;case "europe":d=D.Z.Qz(D.Z.Aha,new D.H(a,b),D.Z.qj(10));d=D.Z.WW(35,25,40,65,d.x,d.y);break;case "northAmerica":d=D.Z.Qz(D.Z.Pha,new D.H(a,b));d=D.Z.WW(23,-96,20,60,d.x,d.y);break;case "southAmerica":d=D.Z.Qz(D.Z.Vha,new D.H(a,b),D.Z.qj(5));break;case "apac":d=
D.Z.Qz(D.Z.mha,new D.H(a,b));d=D.Z.CP(d.x,d.y);break;case "emea":d=D.Z.Qz(D.Z.zha,new D.H(a,b));d=D.Z.CP(d.x,d.y);break;case "latinAmerica":d=D.Z.Qz(D.Z.Nha,new D.H(a,b));break;case "usaAndCanada":d=D.Z.Qz(D.Z.Xha,new D.H(a,b));d=D.Z.WW(23,-96,20,60,d.x,d.y);break;case "worldRegions":d=D.Z.Qka(a,b);break;case "usa":d=D.Z.KCa(a,b);break;case "world":d=D.Z.Qka(a,b)}return d?d:new D.H(a,b)};
D.Z.KCa=function(a,b){var c;return(0,D.Bm)(D.Z.S3,a,b)?(c=D.Z.Aq(D.Z.lha,D.Z.S3),c.ty(),c=(0,D.Op)(c,new D.H(a,b)),D.Z.CP(c.x,c.y)):(0,D.Bm)(D.Z.V3,a,b)?(c=D.Z.Aq(D.Z.Hha,D.Z.V3),c.ty(),(0,D.Op)(c,new D.H(a,b))):(0,D.Bm)(D.Z.fx,a,b)?(c=D.Z.Aq(D.Z.Wha,D.Z.fx),c.ty(),c=(0,D.Op)(c,new D.H(a,b)),D.Z.ICa(new D.H(-95,36),c.x,c.y)):new D.H(a,b)};D.Z.Qka=function(a,b){var c=D.Z.Aq(D.Z.Zha,D.Z.fx);c.ty();c=(0,D.Op)(c,new D.H(a,b));return D.Z.JCa(c.x,c.y)};
D.Z.HCa=function(a,b){var c;c=(0,D.Bm)(D.Z.X3,a,b)?D.Z.Aq(D.Z.W3,D.Z.X3):D.Z.Aq(D.Z.oha,D.Z.fx);c.ty();c=(0,D.Op)(c,new D.H(a,b));return D.Z.CP(c.x,c.y)};D.Z.Qz=function(a,b,c){a=D.Z.Aq(a,D.Z.fx);if(c){var d=new D.mj;d.rotate(c);a=D.Z.sja(a,d)}a.ty();return(0,D.Op)(a,b)};
D.Z.WW=function(a,b,c,d,e,f){b=D.Z.qj(b);a=D.Z.qj(a);c=D.Z.qj(c);d=D.Z.qj(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;var g=window.Math.sqrt(e*e+(a-f)*(a-f));return new D.H(D.Z.nN(b+window.Math.atan(e/(a-f))/d),D.Z.nN(window.Math.asin((c-g*g*d*d)/(2*d))))};D.Z.CP=function(a,b){return new D.H(a,D.Z.nN(2*window.Math.atan(window.Math.exp(D.Z.qj(b)))-0.5*window.Math.PI))};
D.Z.ICa=function(a,b,c){b/=D.Z.aV;c/=D.Z.aV;var d=D.Z.qj(a.y),e=window.Math.sqrt(b*b+c*c),f=window.Math.asin(e);return new D.H(D.Z.nN(D.Z.qj(a.x)+window.Math.atan(b*window.Math.sin(f)/(e*window.Math.cos(d)*window.Math.cos(f)-c*window.Math.sin(d)*window.Math.sin(f)))),D.Z.nN(window.Math.asin(window.Math.cos(f)*window.Math.sin(d)+c*window.Math.sin(f)*window.Math.cos(d)/e)))};
D.Z.JCa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.Z.ho.length-1&&(c=D.Z.ho.length-2);var d=(window.Math.abs(b/180)-D.Z.ho[c][1])/(D.Z.ho[c+1][1]-D.Z.ho[c][1]),e=5*d+5*c,c=a/(D.Z.ho[c][0]+d*(D.Z.ho[c+1][0]-D.Z.ho[c][0]));0>b&&(e*=-1);return new D.H(c,e)};
D.zQ=function(a,b,c,d,e,f,g){this.Init(a,b,c,d,e,f,g)};D.A.q(D.zQ,D.fQ,"DvtMapControlButton");
D.zQ.prototype.Init=function(a,b,c,d,e,f){D.zQ.u.Init.call(this,a);this.e5=e;this.fe=b;this.ha=f;(0,D.Jh)(this.fe,this.Lva,this);a=new D.du(this,D.o,D.o,D.o,D.o,D.o,0==this.e5?(0,D.N)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLUP"):1==this.e5?(0,D.N)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLDOWN"):2==this.e5?(0,D.N)("DvtSubcomponentBundle","CONTROL_PANEL_RESET"):D.o);this.ha.La(this.fe,a);this.k(this.fe);this.Mma=c;this.Qla=D.k};
D.zQ.prototype.ih=function(a){this.D(a?1:0.4);this.Qla=a;this.fe.ih(a);(0,D.Me)(this.fe)};D.zQ.prototype.Lva=function(a){(0,D.ki)(a);this.Qla&&this.Mma&&this.Mma()};
D.ET=function(a,b,c){this.Init(a,b,c)};D.A.q(D.ET,D.Wt,"DvtThematicMapControlPanel");D.ET.prototype.Init=function(a,b,c){D.ET.u.Init.call(this,a,b,c);this.yn=b.yn;this.mo=(0,D.Cr)(b);this.dCa=D.A.Of(b,b.zaa);this.bCa=D.A.Of(b,b.XZ);this.rGa=D.A.Of(b,b.kda);this.QJ=this.RJ=this.Voa=D.o;this.gka=this.fka=D.p;this.da=b.xs()};D.FT=function(a,b){a.fka=b;a.QJ&&a.QJ.ih(b)};D.GT=function(a,b){a.gka=b;a.RJ&&a.RJ.ih(b)};
D.ET.prototype.aO=function(a){if(this.yn&&"none"!=this.yn){var b=(0,D.fu)(this.da,"buttonWidth",0);this.Voa=D.U.iIa(this.j(),this.rGa,this.ga,this.mo,this.ha,this.da);a.k(this.Voa);this.QJ=D.U.XHa(this.j(),this.bCa,this.ga,this.mo,this.ha,this.da);this.QJ.N(b);this.QJ.ih(this.fka);a.k(this.QJ);this.RJ=D.U.YHa(this.j(),this.dCa,this.ga,this.mo,this.ha,this.da);this.RJ.N(2*b);this.RJ.ih(this.gka);a.k(this.RJ)}};

  return D;
});