/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtBaseTreeView'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

  // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  
D.qV=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtTreemap",D.qV);D.w.l(D.qV,D.vR,"DvtTreemap");D.qV.newInstance=function(a,b,c){return new D.qV(a,b,c)};D.u=D.qV.prototype;D.u.Init=function(a,b,c){D.qV.o.Init.call(this,a,b,c);this.pf=new D.rV;this.setId("treemap1000"+window.Math.floor(1E9*window.Math.random()))};
D.u.eN=function(a){D.qV.o.eN.call(this,a);a=this.q();this.mf="sliceAndDiceHorizontal"==a.layout?new D.mV(!0):"sliceAndDiceVertical"==a.layout?new D.mV(!1):new D.nV;this.gd=[];var b=a.isolatedNode;if(b&&this.Ka){var c=(0,D.$R)(this.Ka);c.push(this.Ka);for(var d=0;d<c.length;d++)if(c[d].getId()==b){this.gd.push(c[d]);break}}"auto"==a.animationOnDisplay&&(a.animationOnDisplay="alphaFade")};
D.u.aq=function(a){var b="jet"!=this.q()._environment?7:1,b=window.Math.max(window.Math.ceil(b*window.Math.min(a.e,a.g)/400),1);a.x+=b;a.y+=b;a.e-=2*b;a.g-=2*b;b=this.mf.Raa(this,1);a.x+=b;a.e-=2*b;(0,D.yR)(this,a);this.Cb=D.zR.P(this,a,this.uX);a.x-=b;a.e+=2*b;b=this.gd.length;if(0<b&&this.nX)this.mf.br(this,this.gd[b-1],a.x,a.y,a.e,a.g,!0);else{this.Ka&&this.mf.br(this,this.Ka,a.x,a.y,a.e,a.g,!1);for(var c=0;c<b;c++)this.mf.br(this,this.gd[c],a.x,a.y,a.e,a.g,!0)}};
D.u.Gj=function(a){(0,D.BR)(this,a);this.Ym&&a.k(this.Ym);this.Cb&&(a.k(this.Cb),this.Cb=null);if((0,D.CR)(this)){this.K6=new D.B(this.j());a.k(this.K6);this.eDa?this.eDa.P(a):this.Ka.gf()?(this.Ka.wy(a),(0,D.ER)(this,this.Ka)):this.Ka.P(a);this.x7=new D.B(this.j());a.k(this.x7);this.Ox=new D.B(this.j());a.k(this.Ox);a.k(this.K6);this.yC=new D.go(this.j(),[]);this.yC.lb(!1);this.yC.qa(!1);(0,D.Ai)(this.yC);a.k(this.yC);for(a=0;a<this.gd.length;a++){var b=this.gd[a].ia();this.x7.k(b)}}else(0,D.FR)(this,
a)};D.u.qr=function(){this.BT||(this.X.Aj(),this.aq(new D.z(0,0,this.Ga,this.Ua)),this.Gj(this.X),this.i3());D.qV.o.qr.call(this)};D.u.i3=function(){for(var a=this.Hb?this.Hb.getSelection():[],b=0;b<a.length;b++)if(0<this.gd.length){var c=this.gd[this.gd.length-1];(a[b]==c||a[b].NA(c))&&a[b].jb(!0)}else a[b].jb(!0)};D.u.xw=function(a){return new D.sV(a)};D.u.tI=function(a,b,c,d){return new D.tV(a,b,c,d)};
D.u.Oea=function(a){var b=(0,D.uV)(this);return b?(0,D.vV)(this,D.$U.fra(b)):a?(0,D.vV)(this,D.$U.fra(a)):null};D.u.SU=function(a){for(var b=0,c=this.Ox.Ja(),d=0;d<c;d++){var e=this.Ox.ha(d);a.zIndex>e.zIndex&&(b=d+1)}b<c?this.Ox.Ma(a,b):this.Ox.k(a)};D.u.ME=function(a,b){return 0<this.gd.length?this.gd[this.gd.length-1].zD(a,b):this.Ka.zD(a,b)};D.uV=function(a){return a.gd&&0<a.gd.length?a.gd[a.gd.length-1]:null};
D.xV=function(a,b){if("none"!=a.q().animationOnDataChange){for(var c=a.Hb?a.Hb.getSelection():[],d=0;d<c.length;d++)c[d].jb(!1);for(var c=[(0,D.wV)(b)],d=(0,D.$R)(b),e=0;e<d.length;e++)c.push((0,D.wV)(d[e]));a.Vp=new D.en(a.j(),c);a.Vp.he(a.qr,a);a.fb.ei(a);a.Vp.play()}else a.P(null,a.Ga,a.Ua,!0)};D.vV=function(a,b){var c=a.fb.Rf;return c?c.sD(b):b&&0<b.length?b[0]:null};D.qV.prototype.Fj=function(){return(0,D.ik)(this.q(),"componentName","DvtUtilBundle","TREEMAP")};D.qV.prototype.XZ=(0,D.ba)("DvtTreemapBundle");
D.qV.prototype.Wp=function(a){return new D.yV(this,a)};
D.yV=function(a,b){this.Init(a,b);var c=this.H.q(),d=c.nodeDefaults,e=d.header,f=b.header?b.header:{};this.oCa=b.groupLabelDisplay?b.groupLabelDisplay:d.groupLabelDisplay;this.Qr=b.labelDisplay?b.labelDisplay:d.labelDisplay;this.nK=b.labelHalign?b.labelHalign:d.labelHalign;this.D7=b.labelValign?b.labelValign:d.labelValign;this.JCa=f.labelHalign?f.labelHalign:e.labelHalign;this.Tka=f.labelStyle?new D.F(f.labelStyle):null;this.pV="on"==(f.useNodeColor?f.useNodeColor:e.useNodeColor);this.w7=f.isolate?
f.isolate:e.isolate;"auto"==this.w7&&(this.w7=(0,D.Gf)()?"off":"on");this.Pu=null!=c.isolatedNode&&c.isolatedNode==this.getId()};D.w.l(D.yV,D.UR,"DvtTreemapNode");D.u=D.yV.prototype;
D.u.P=function(a){if(this.hv){this.G=this.u5();a.k(this.G);var b;this.gf()?(this.OV=new D.B(this.H.j()),this.G.k(this.OV),this.wy(this.OV)):b=(0,D.VR)(this);if(b){var c=this.q()._cf,d=this.H.Ec;d.Gr=c;var c=this.Ba-8-2,e=this.Ea-4-2;0<c&&0<e&&((0,D.jg)(d,c),(0,D.kg)(d,e),d.Ge((0,D.WR)(this)),this.i5=b=D.x.XH(d,b,this.G),(0,D.D)(a.j())?(a=b.F(),a=this.zb+this.Ba-4-1-a.e):a=this.zb+4+1,(0,D.kk)(b,a,this.Vb+2+1))}else this.Kb=this.TO(this.G),null!=this.Kb&&(this.Zr&&"header"!=this.Uk)&&(a=this.Kb.Eb(),
this.cs=new D.C(this.H.j(),a.x,a.y,a.e,a.g),this.cs.pa("#FFFFFF"),this.cs.qa(!1),this.G.k(this.cs),a=this.Kb,"node"==this.Uk&&this.gf()?this.H.K6.k(a):this.G.k(a));this.gf()?this.G.Td("group"):this.G.Td("img");this.Wm()}};
D.u.jb=function(a){D.yV.o.jb.call(this,a);if(this.G){a=this.H.q().nodeDefaults;var b=a.header;if(this.Ca()){var c=this.zb,d=this.Vb+1,e=this.Ba-1,f=this.Ea-1;(0,D.ej)()&&(d-=1);(0,D.BV)(this,this.Yh);(0,D.BV)(this,this.Px);this.Px=this.Yh=null;this.Yh=new D.C(this.H.j(),c,d,e,f);this.Yh.qa(!1);this.Yh.L(null);(0,D.Ai)(this.Yh);this.G.k(this.Yh);this.Px=new D.C(this.H.j(),c+1,d+1,e-2,f-2);this.Px.qa(!1);this.Px.L(null);(0,D.Ai)(this.Px);this.G.k(this.Px);"header"==this.Uk?(this.HN||this.oc()?this.rq.pa(b.hoverBackgroundColor):
(this.rq.pa(b.selectedBackgroundColor),this.Kb&&(0,D.CV)(this,this.Kb,"_selectedLabelStyle")),this.Yh.Qa(b.selectedOuterColor),this.Px.Qa(b.selectedInnerColor),(0,D.Gf)()&&(this.xe=(0,D.DV)(this,this.G))):(this.Yh.Qa(a.selectedOuterColor),this.Px.Qa(a.selectedInnerColor),!(0,D.tq)()&&!(0,D.fj)()&&(0,D.Go)(this.G,D.HR),this.H.SU(this.G))}else(0,D.BV)(this,this.Px),this.Px=null,(0,D.Gf)()&&(0,D.EV)(this),"header"==this.Uk?(this.HN||this.oc()?this.rq.pa(b.hoverBackgroundColor):((0,D.FV)(this,this.G,
this.rq),this.Kb&&(this.ju()?(0,D.CV)(this,this.Kb,"_drillableLabelStyle"):(0,D.CV)(this,this.Kb,"labelStyle"))),this.Yh&&(this.HN||this.oc()?this.Yh.Qa(b.hoverOuterColor):((0,D.BV)(this,this.Yh),this.Yh=null))):((0,D.Pz)(this.G),this.Yh&&((0,D.BV)(this,this.Yh),this.Yh=null),(a=this.kg)&&a.OV&&a.OV.k(this.G))}};
D.u.Ob=function(){if(this.G&&this.hv){var a=this.H.q().nodeDefaults,b=a.header,c=(0,D.uV)(this.H);if(!(null!=c&&c!=this&&!this.NA(c))){var c=[],d,e,f,g;"header"==this.Uk?(this.rq.pa(b.hoverBackgroundColor),this.Yh||(a=this.zb,d=this.Vb+1,e=this.Ba-1,f=this.Ea-1,(0,D.ej)()&&(d-=1),this.Yh=new D.C(this.H.j(),a,d,e,f),this.Yh.qa(!1),this.Yh.L(null),(0,D.Ai)(this.Yh),this.G.k(this.Yh)),this.Yh.Qa(this.Ca()?b.selectedOuterColor:b.hoverOuterColor),d=this.zb+1.5+1,f=this.zb+this.Ba-1.5-1,e=this.Vb+this.hp,
g=this.Vb+this.Ea-1.5-1,c.push(f,e,f,g,d,g,d,e),a=new D.I(b.hoverInnerColor,0.8,3),this.Kb&&(this.ju()?(0,D.CV)(this,this.Kb,"_drillableHoverLabelStyle"):(0,D.CV)(this,this.Kb,"_hoverLabelStyle"))):(d=this.zb+1,f=this.zb+this.Ba-1,e=this.Vb+1,g=this.Vb+this.Ea-1,c.push(this.zb,e,f,e,f,g,d,g,d,e),a=new D.I(a.hoverColor,1,2));b=this.H;b.yC.vc(c);b.yC.V(a);b.yC.lb(!0)}}};
D.u.Db=function(){if(this.G&&this.hv){var a=this.H.q().nodeDefaults.header;"header"==this.Uk&&(this.Ca()?(this.rq.pa(a.selectedBackgroundColor),this.Yh.Qa(a.selectedOuterColor),this.Kb&&(this.ju()?(0,D.CV)(this,this.Kb,"_drillableSelectedLabelStyle"):(0,D.CV)(this,this.Kb,"_selectedLabelStyle"))):((0,D.FV)(this,this.G,this.rq),this.Yh&&(this.G.removeChild(this.Yh),this.Yh=null),this.Kb&&(this.ju()?(0,D.CV)(this,this.Kb,"_drillableLabelStyle"):(0,D.CV)(this,this.Kb,"labelStyle"))));this.H.yC.lb(!1)}};
D.u.Ee=function(a,b){this.gf()?(this.Kb&&this.Kb.B(b),"header"==this.Uk&&(this.pV&&this.rq)&&this.rq.B(b)):D.yV.o.Ee.call(this,a,b)};D.u.oy=function(){return"off"!=this.w7&&"header"==this.Uk};D.u.vH=function(a){return!a||!a.SL()?D.yV.o.vH.call(this,a):new D.z(this.zb,this.Vb,this.Ba,this.Ea)};
D.u.zd=function(a){var b;if(a.type==D.fk)return D.yV.o.zd.call(this,a);b=a.keyCode;if(32==b&&a.ctrlKey)return this;if(38==b&&a.altKey||221==b)(b=this.kg)&&b.getId()!=this.H.Ka.getId()?(a=b,(0,D.bS)(b)):a=this;else if(40==b&&a.altKey||219==b)a=(a=this.sX)?a:this.gf()?(0,D.vV)(this.H,this.xc()):this;else{var c=(0,D.uV)(this.H),d=0;if(c)if(this==c)d=0;else{b=this.kg;for(d=1;c!=b;)d++,b=b.kg}else{for(c=this;c.kg;)c=c.kg;d=(0,D.YR)(this)}b=(0,D.XR)(this,c,d);a=(0,D.gk)(this,a,b)}(0,D.bS)(a);return a};
D.u.Ce=function(){return new D.z(this.zb,this.Vb,this.Ba,this.Ea)};D.u.wj=function(){return this.G?this.G.ta():null};
D.u.oT=function(a,b,c,d){if(!(0>=c||0>=d)){this.hv=!0;this.bna=this.Nm();this.zb=a;this.Vb=b;this.Ba=c?c:0;this.Ea=d?d:0;this.Uk=this.gf()?this.oCa:this.Qr;this.gD||(this.Uk="off");if("header"==this.Uk){this.hp=15;a=new D.Hf(this.H.j(),this.gD);a.Ge((0,D.WR)(this));(0,D.CV)(this,a,"labelStyle");a=D.Xe.Ah(a).g;this.hp=window.Math.max(this.hp,a);this.oy()&&(this.hp=window.Math.max(this.hp,15));a=this.zb;b=this.Vb+this.hp;c=this.Ba;d=this.Ea-this.hp;if(0<=c&&0<=d)return new D.z(a,b,c,d);this.Uk=null}return new D.z(this.zb,
this.Vb,this.Ba,this.Ea)}};D.u.zD=function(a,b){if(this.contains(a,b)||!this.hv){for(var c=this.xc(),d=0;d<c.length;d++)if(c[d].contains(a,b))return c[d].zD(a,b);if(this.hv)return this}return null};D.u.contains=function(a,b){return a>=this.zb&&a<=this.zb+this.Ba&&b>=this.Vb&&b<=this.Vb+this.Ea};D.u.Nm=function(){var a=D.M.qe(this.fk),b=D.M.oe(this.fk),c=D.M.ne(this.fk);return[this.zb,this.Vb,this.Ba,this.Ea,a,b,c,this.gf()?0:window.Math.random()]};
D.u.tr=function(a){this.oT(a[0],a[1],a[2],a[3]);this.fk=D.M.ZA(window.Math.round(a[4]),window.Math.round(a[5]),window.Math.round(a[6]));this.G&&((0,D.cI)(this.G,this.zb,this.Vb,this.Ba,this.Ea),this.rq&&(0,D.cI)(this.rq,this.zb+1,this.Vb+1,this.Ba-2,this.Ea-2),("header"!=this.Uk||this.pV)&&this.G.L(this.AI()),this.Ca()&&this.jb(!1),(0,D.BV)(this,this.Bz),(0,D.BV)(this,this.lR),this.lR=this.Bz=null,(0,D.EV)(this),(0,D.VR)(this)?((0,D.BV)(this,this.i5),this.i5=null):((0,D.BV)(this,this.cs),this.cs=
null,this.Kb&&this.Kb.getParent().removeChild(this.Kb),this.Kb=this.TO(this.G)))};D.wV=function(a){if(a.bna){var b=new D.gn(a.H.j(),a,0.3);(0,D.T)(b.J,"typeNumberArray",a,a.Nm,a.tr,a.Nm());a.tr(a.bna);return b}return null};D.yV.prototype.ff=function(a,b){return 0==(0,D.YR)(this)||b.hv&&0<b.Ba&&0<b.Ea?D.yV.o.ff.call(this,a,b):this.pg(a)};
D.yV.prototype.u5=function(){var a=this.H.j(),b;if("header"==this.Uk)b=new D.C(a,this.zb,this.Vb,this.Ba,this.Ea),this.rq=new D.C(a,this.zb+1,this.Vb+1,this.Ba-2,this.Ea-2),(0,D.FV)(this,b,this.rq),this.rq.qa(!1),b.k(this.rq),this.Pu&&(this.xe=(0,D.DV)(this,b));else{var c=this.AI();b=new D.C(a,this.zb,this.Vb,this.Ba,this.Ea);if((1E3>this.H.Wr||!(0,D.Gf)())&&2<=this.Ba&&2<=this.Ea){new D.I("#FFFFFF");new D.I("#000000",0.3);this.Zr&&new D.I(this.fk,0.15);var d=this.rb(),e=D.M.vM("#FFFFFF",d,0.7),d=
D.M.vM("#000000",d,0.7),f=window.Math.min(this.Ba,this.Ea);4<=f?(b.pa(d),this.lR=new D.C(a,this.zb,this.Vb,this.Ba-1,this.Ea-1),this.lR.pa(e),this.lR.qa(!1),b.k(this.lR),this.Bz=new D.C(a,this.zb+1,this.Vb+1,this.Ba-2,this.Ea-2),this.Bz.L(c),this.Bz.qa(!1),b.k(this.Bz)):2<=f?(b.pa(d),this.Bz=new D.C(a,this.zb,this.Vb,this.Ba-1,this.Ea-1),this.Bz.L(c),this.Bz.qa(!1),b.k(this.Bz)):b.L(c)}else b.L(c)}this.H.la().Fa(b,this);this.Aa()?b.Jf(!0):b.setCursor("default");b.zIndex=this.oZ;return b};
D.DV=function(a,b){if("header"!=a.Uk||!a.oy())return null;var c=null,d=a.zb,e=a.zb+a.Ba-1,f=a.Vb+1,g=a.Vb+a.hp;if(12<e-d-2){if(a.Pu){var c=a.H.j(),h=(0,D.D)(a.U),i=a.H.q()._resources,k=h&&i.restoreDownRtl?i.restoreDownRtl:i.restoreDown,l=h&&i.restoreOverRtl?i.restoreOverRtl:i.restoreOver,h=new D.Re(c,h&&i.restoreRtl?i.restoreRtl:i.restore,0,0,12,12),k=new D.Re(c,k,0,0,12,12),l=new D.Re(c,l,0,0,12,12);(0,D.si)(h);(0,D.si)(k);(0,D.si)(l);c=new D.Me(c,h,k,l);c.ka(D.fk,a.Dha,!1,a)}else c=a.H.j(),h=(0,D.D)(a.U),
i=a.H.q()._resources,k=h&&i.isolateDownRtl?i.isolateDownRtl:i.isolateDown,l=h&&i.isolateOverRtl?i.isolateOverRtl:i.isolateOver,h=new D.Re(c,h&&i.isolateRtl?i.isolateRtl:i.isolate,0,0,12,12),k=new D.Re(c,k,0,0,12,12),l=new D.Re(c,l,0,0,12,12),(0,D.si)(h),(0,D.si)(k),(0,D.si)(l),c=new D.Me(c,h,k,l),c.ka(D.fk,a.Cha,!1,a);d=(0,D.D)(b.j())?d+1:e-12-1;(0,D.kk)(c,d,(g+f-12)/2);b.k(c);(0,D.Gf)()&&(f=new D.C(b.j(),-2,-2,16,16),(0,D.si)(f),c.k(f));(0,D.SH)(a.H.q().skin)?a.H.la().Fa(c,a):(f=(0,D.ik)(a.H.q(),
a.Pu?"tooltipRestore":"tooltipIsolate","DvtTreemapBundle",a.Pu?"RESTORE":"ISOLATE"),a.H.la().Fa(c,new D.DR(a,a.getId(),f)))}return c};D.EV=function(a){a.xe&&((0,D.BV)(a,a.xe),a.xe=null)};
D.yV.prototype.TO=function(a){var b=(0,D.D)(a.j());if(!this.gD||!a||!this.Uk||"off"==this.Uk)return null;var c=this.Ea;if((0,D.WR)(this)>c)return null;var d="node"==this.Uk?this.nK:this.JCa;b&&("start"==d?d="end":"end"==d&&(d="start"));var e=this.Ba-6,f=0;this.oy()&&(f=13,e="center"==d?e-2*f:e-f);if(0>=e)return null;var g=new D.Hf(this.H.j(),this.gD);g.Ge((0,D.WR)(this));"start"==d?(b?g.ca(this.zb+4+f):g.ca(this.zb+4),g.vh()):"center"==d?(g.ca(this.zb+this.Ba/2),g.Xe()):"end"==d&&(b?g.ca(this.zb+
this.Ba-4):g.ca(this.zb+this.Ba-4-f),g.wh());"node"==this.Uk?((0,D.gS)(this,g),c=this.Ea-4,b=D.Xe.zH(g),"top"==this.D7?g.va(this.Vb+2):"center"==this.D7?g.va(this.Vb+this.Ea/2-b/2):"bottom"==this.D7&&g.va(this.Vb+this.Ea-2-b)):"header"==this.Uk&&(b=(0,D.ej)()?1:0,g.va(this.Vb+1+this.hp/2+b),g.uf(),(0,D.CV)(this,g,"labelStyle"));if(null!=g)return"header"==this.Uk&&this.ju()?((0,D.CV)(this,g,"_drillableLabelStyle"),g.setCursor("pointer"),b=new D.DR(this,this.getId(),null,this.Be(),this.si()),b.kda(!0),
this.H.la().Fa(g,b)):g.qa(!1),D.Xe.Qb(g,e,c,a)?g:null};D.FV=function(a,b,c){var d=a.H.q().nodeDefaults.header;a.pV?(a=a.rb(),c.pa(a),c=D.M.vM(d.borderColor,a,0.5),b.pa(c)):(b.pa(d.borderColor),c.pa(d.backgroundColor))};D.CV=function(a,b,c){var d=[];1>=(0,D.YR)(a)&&d.push(new D.F("font-weight:bold;"));d.push(a.H.q().nodeDefaults.header[c]);a.pV&&("labelStyle"==c||"_drillableLabelStyle"==c)&&d.push(new D.F("color: "+(a.Zr?"#000000":D.M.rj(a.fk))));a.Tka&&d.push(a.Tka);b.Ha((0,D.xo)(d))};
D.yV.prototype.gu=function(){!this.xe&&!(0,D.Gf)()&&(this.xe=(0,D.DV)(this,this.G));D.yV.o.gu.call(this)};D.yV.prototype.fu=function(){!0!==this.Pu&&!(0,D.Gf)()&&(0,D.EV)(this);D.yV.o.fu.call(this)};D.yV.prototype.jH=function(){return this.G?new D.C(this.H.j(),this.G.ja(),this.G.na(),this.G.getWidth(),this.G.getHeight()):null};D.BV=function(a,b){b&&a.G.removeChild(b)};D.u=D.yV.prototype;
D.u.Cha=function(a){this.Pu=!0;this.Db();var b=this.H,c=b.la().dd();c&&c.ic();b.gd.push(this);b.q().isolatedNode=this.getId();b.dispatchEvent(new D.AV(this.getId()));b.nX=!0;b.aq(new D.z(0,0,b.Ga,b.Ua));b.nX=!1;c=this.ia();b.x7.k(c);(0,D.xV)(b,this);(0,D.EV)(this);this.Wm();a&&a.stopPropagation()};
D.u.Dha=function(a){this.Pu=!1;this.Db();var b=this.H,c=b.gd.pop();b.q().isolatedNode=0<b.gd.length?b.gd[b.gd.length-1].getId():null;var d=b.la().dd();d&&d.ic();d=c.getId();b.fQ=d;b.dispatchEvent(new D.AV);b.nX=!0;b.aq(new D.z(0,0,b.Ga,b.Ua));b.nX=!1;(0,D.xV)(b,c);(0,D.EV)(this);this.Wm();a&&a.stopPropagation()};D.u.Be=function(a,b,c){return a&&a instanceof D.Me?null:D.yV.o.Be.call(this,a,b,c)};D.u.si=function(a){return a&&a instanceof D.Me?null:D.yV.o.si.call(this,a)};
D.u.Gf=function(a){return a&&a instanceof D.Me?(0,D.ik)(this.H.q(),this.Pu?"tooltipRestore":"tooltipIsolate","DvtTreemapBundle",this.Pu?"RESTORE":"ISOLATE"):null};
D.u.ec=function(){var a=this.H.q(),b=[];this.Aa()&&b.push((0,D.ik)(a,this.Ca()?"stateSelected":"stateUnselected","DvtUtilBundle",this.Ca()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Pu&&b.push((0,D.ik)(a,"stateIsolated","DvtUtilBundle","STATE_ISOLATED"));this.ju()&&b.push((0,D.ik)(a,"stateDrillable","DvtUtilBundle","STATE_DRILLABLE"));return(0,D.jk)(this.zc(),b)};D.u.Wm=function(){!(0,D.$e)()&&this.G&&this.G.Zb("label",this.ec())};
D.kV=function(){this.Init()};D.w.l(D.kV,D.w,"DvtBaseTreemapLayout");D.kV.prototype.Init=function(){this.oZ=0};D.kV.prototype.br=(0,D.j)();D.lV=function(a,b,c,d,e,f,g){b.oZ=a.oZ;a.oZ++;if(!g||!b.gf()){a=a.Raa(b.H,(0,D.YR)(b));g=window.Math.round(c+a);var h=window.Math.round(d+a);if(b=b.oT(g,h,window.Math.round(c+e-a)-g,window.Math.round(d+f-a)-h))return b}return new D.z(c,d,e,f)};D.kV.prototype.Raa=function(a,b){var c=a.q().groupGaps;return"outer"==c?1==b&&2<=a.ut?3:0:"all"==c?b<a.ut?3:0:0};
D.nV=function(){this.Init()};D.w.l(D.nV,D.kV,"DvtSquarifyingLayout");D.nV.prototype.br=function(a,b,c,d,e,f,g){this.mf(b,c,d,e,f,g?!1:!0)};D.nV.prototype.mf=function(a,b,c,d,e,f){b=(0,D.lV)(this,a,b,c,d,e,f);a=a.xc();if(null!=a&&0<a.length){c=a;e=b.e*b.g;for(d=d=f=0;d<c.length;d++)f+=0<c[d].Tc()?c[d].Tc():0;e=0==e?0:e/f;for(d=0;d<c.length;d++)f=c[d],f.NE=f.Tc()*e;a=a.slice(0).sort(function(a,b){return a.Tc()-b.Tc()});c=window.Math.min(b.e,b.g);(0,D.oV)(this,a,c,new D.z(b.x,b.y,b.e,b.g))}};
D.oV=function(a,b,c,d){var e=[],f=window.Infinity;if(null==b||0==b.length)(0,D.pV)(a,e,c,d);else for(;0<b.length;){var g=b.pop();if(0>g.NE){(0,D.pV)(a,e,c,d);break}e.push(g);var h,i=e,k=c,l=0;h=window.Infinity;for(var m=-window.Infinity,n=0;n<i.length;n++)l+=i[n].NE,h=window.Math.min(h,i[n].NE),m=window.Math.max(m,i[n].NE);i=l*l;k*=k;h=window.Math.max(k*m/i,i/(k*h));if(h>f){b.push(g);e.pop();d=(0,D.pV)(a,e,c,d);(0,D.oV)(a,b,window.Math.min(d.e,d.g),d);break}else if(0==b.length){(0,D.pV)(a,e,c,d);
break}else f=h}};D.pV=function(a,b,c,d){var e=0,f;for(f=0;f<b.length;f++)e+=b[f].NE;var g=d.x,h=d.y;if(c==d.e){e=0==c?0:e/c;for(f=0;f<b.length;f++)c=b[f].NE/e,a.mf(b[f],g,h,c,e,!1),g+=c;return new D.z(d.x,d.y+e,d.e,d.g-e)}c=0==c?0:e/c;for(f=0;f<b.length;f++)e=b[f].NE/c,a.mf(b[f],g,h,c,e,!1),h+=e;return new D.z(d.x+c,d.y,d.e-c,d.g)};
D.mV=function(a){this.Init();this.sx=a};D.w.l(D.mV,D.kV,"DvtSliceAndDiceLayout");D.mV.prototype.br=function(a,b,c,d,e,f,g){this.mf(this.sx,a,b,c,d,e,f,g?!1:!0)};
D.mV.prototype.mf=function(a,b,c,d,e,f,g,h){var i=b.q();d=(0,D.lV)(this,c,d,e,f,g,h);c=c.xc();if(null!=c){e=d.x;f=d.y;g=d.e;h=d.g;var k=0,l;for(l=0;l<c.length;l++)k+=0<c[l].Tc()?c[l].Tc():0;"on"==i.sorting&&(c=c.slice(0),c.sort(function(a,b){return b.Tc()-a.Tc()}));a&&(0,D.D)(b.j())&&(c=c.slice(0).reverse());for(l=0;l<c.length;l++)if(i=c[l],!(0>=i.Tc())){var m=i.Tc()/k;a?g=d.e*m:h=d.g*m;this.mf(!a,b,i,e,f,g,h,!1);a?e+=g:f+=h}}};
D.AV=function(a){this.Init("treemapIsolate");this.Xa=a?a:null};(0,D.ca)("DvtTreemapIsolateEvent",D.AV);D.w.l(D.AV,D.Hi,"DvtTreemapIsolateEvent");D.AV.TYPE="treemapIsolate";D.AV.prototype.getId=(0,D.s)("Xa");D.AV.prototype.getId=D.AV.prototype.getId;
D.sV=function(a){this.Init(a)};D.w.l(D.sV,D.aV,"DvtTreemapKeyboardHandler");D.sV.prototype.sg=function(a){var b=D.sV.o.sg.call(this,a);if(!b&&(a=a.keyCode,219==a||221==a))b=!0;return b};
D.tV=function(a,b,c,d){D.QR.call(this,a,b,c,d)};D.w.l(D.tV,D.QR,"DvtTreemapEventManager");D.tV.prototype.Ih=function(a){var b=!0;if(13==a.keyCode&&a.ctrlKey){var c=this.dd();c.oy()&&(c.Pu?c.Dha():c.Cha());(0,D.di)(a)}else b=D.tV.o.Ih.call(this,a);return b};D.tV.prototype.Qba=(0,D.ba)(!1);
(0,D.zg)("DvtTreemapBundle",{COLOR:"Color",ISOLATE:"Isolate",OTHER:"Other",RESTORE:"Restore",SIZE:"Size"});
D.rV=function(){this.Init({skyros:D.zV,alta:{}})};D.w.l(D.rV,D.PR,"DvtTreemapDefaults");
D.zV={groupGaps:"outer",nodeDefaults:{header:{backgroundColor:"#FFFFFF",borderColor:"#d6dfe6",hoverBackgroundColor:"#ebeced",hoverOuterColor:"#ebeced",hoverInnerColor:"#d6d7d8",isolate:"auto",labelHalign:"start",labelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;color:#252525;"),selectedBackgroundColor:"#dae9f5",selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000",useNodeColor:"off",_hoverLabelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;color:#252525;"),
_selectedLabelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;color:#252525;"),_drillableLabelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; color:#145c9e;"),_drillableHoverLabelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; color:#145c9e;"),_drillableSelectedLabelStyle:new D.F("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; color:#145c9e;")},
hoverColor:"#ebeced",groupLabelDisplay:"header",labelDisplay:"node",labelHalign:"center",labelValign:"center",selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"}};

  return D;
});