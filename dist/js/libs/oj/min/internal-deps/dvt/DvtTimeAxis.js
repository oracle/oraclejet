/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,E){0==a.indexOf("dvt.")&&(a=a.substring(4));var B=a.split("."),q=eval("dvt");B[0]in q||!q.execScript||q.execScript("var "+B[0]);for(var w;B.length&&(w=B.shift());)B.length||void 0===E?q=q[w]?q[w]:q[w]={}:q[w]=E}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function E(){}function B(a,f,d){this.Init(a,f,d)}function q(){this.Init({alta:q.Hg})}function w(a){this.Init(a)}a.Ua=function(a,f,d){this.Init(a,f,d)};a.i.v(a.Ua,a.lc);a.Ua.VM="vertical";a.Ua.aj=function(){return a.m.mb()};a.Ua.Jc=function(a,f,d,e){d=(d-a)*e;a=f-a;return 0==d||0==a?0:d/a};a.Ua.Ph=function(a,f,d,e){f=d*(f-a);return 0==f||0==e?a:f/e+a};a.Ua.newInstance=function(b,f,d){return new a.Ua(b,f,d)};a.Ua.PZ="seconds minutes hours days weeks months quarters years".split(" ");a.Ua.prototype.Init=
function(b,f,d){a.Ua.C.Init.call(this,b,f,d);this.aka=new w;this.ui=h.dya;this.zJ(!1,!1,!1,!1);this.FG=b.sR().dateToIsoWithTimeZoneConverter;this.Os={uHa:[a.I.Ka(a.I.ua,"DAY_SHORT_SUNDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_MONDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_TUESDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_WEDNESDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_THURSDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_FRIDAY",null),a.I.Ka(a.I.ua,"DAY_SHORT_SATURDAY",null),a.I.Ka(a.I.ua,"DAY_SUNDAY",null),a.I.Ka(a.I.ua,"DAY_MONDAY",null),
a.I.Ka(a.I.ua,"DAY_TUESDAY",null),a.I.Ka(a.I.ua,"DAY_WEDNESDAY",null),a.I.Ka(a.I.ua,"DAY_THURSDAY",null),a.I.Ka(a.I.ua,"DAY_FRIDAY",null),a.I.Ka(a.I.ua,"DAY_SATURDAY",null)],rca:[a.I.Ka(a.I.ua,"MONTH_SHORT_JANUARY",null),a.I.Ka(a.I.ua,"MONTH_SHORT_FEBRUARY",null),a.I.Ka(a.I.ua,"MONTH_SHORT_MARCH",null),a.I.Ka(a.I.ua,"MONTH_SHORT_APRIL",null),a.I.Ka(a.I.ua,"MONTH_SHORT_MAY",null),a.I.Ka(a.I.ua,"MONTH_SHORT_JUNE",null),a.I.Ka(a.I.ua,"MONTH_SHORT_JULY",null),a.I.Ka(a.I.ua,"MONTH_SHORT_AUGUST",null),
a.I.Ka(a.I.ua,"MONTH_SHORT_SEPTEMBER",null),a.I.Ka(a.I.ua,"MONTH_SHORT_OCTOBER",null),a.I.Ka(a.I.ua,"MONTH_SHORT_NOVEMBER",null),a.I.Ka(a.I.ua,"MONTH_SHORT_DECEMBER",null),a.I.Ka(a.I.ua,"MONTH_JANUARY",null),a.I.Ka(a.I.ua,"MONTH_FEBRUARY",null),a.I.Ka(a.I.ua,"MONTH_MARCH",null),a.I.Ka(a.I.ua,"MONTH_APRIL",null),a.I.Ka(a.I.ua,"MONTH_MAY",null),a.I.Ka(a.I.ua,"MONTH_JUNE",null),a.I.Ka(a.I.ua,"MONTH_JULY",null),a.I.Ka(a.I.ua,"MONTH_AUGUST",null),a.I.Ka(a.I.ua,"MONTH_SEPTEMBER",null),a.I.Ka(a.I.ua,"MONTH_OCTOBER",
null),a.I.Ka(a.I.ua,"MONTH_NOVEMBER",null),a.I.Ka(a.I.ua,"MONTH_DECEMBER",null)]};this.Uf=new q};a.Ua.prototype.Ke=function(a){this.K=this.Uf.Ho(a)};a.Ua.prototype.Av=function(a){this.bp=new E;return this.bp.parse(a)};a.Ua.prototype.zp=function(b){var f=b.orientation;this.Nc=f&&f==a.Ua.VM?!0:!1;this.Wwa(this.Nc);this.iC=b.L6;this.gE=b.uMa?b.uMa.reverse():[b.scale];this.fE=b.Q6;this.Nh=b.BI;this.gu=b.AI;this.Va=b.start;this.vb=b.end;this.jP=b.My;this.fd=b.scale;this.du=b.era;this.Su()};a.Ua.prototype.oA=
function(a,f){if("undefined"===typeof f||null===f)f=this.ae;this.zc=f<a?a:f};a.Ua.prototype.cg=function(){return a.m.ca(this.a)};a.Ua.prototype.Ia=function(){return this.Nc};a.Ua.prototype.ha=function(a,f,d){a&&(this.Ra=f,this.eb=d,this.hFa(),this.c5(a,this.ae));this.CB(f,d);this.Dl()};a.Ua.prototype.c5=function(a,f){this.Ke(a);this.Nk=this.K._resources;null==this.Nk&&(this.Nk=[]);this.Rx=this.K._locale?this.K._locale:"en-US";var d=this.Nk.firstDayOfWeek;null==d&&(d=0);this.aka.A7a(d);this.FG||(this.FG=
this.a.sR().dateToIsoWithTimeZoneConverter);d=this.Av(this.K);this.zp(d);this.fd&&this.a6a(this.Va,this.vb,f);return this.zc};a.Ua.prototype.rq=function(){var b=this.fd&&-1!=a.Z.fc(a.Ua.PZ,this.fd),f=this.fd&&this.Nh&&this.Nh[this.fd],d=this.Va&&this.vb&&this.vb>this.Va;return(b||f)&&d};a.Ua.prototype.zk=function(){return this.iC?this.iC:a.I.Ka(a.I.ua,"TIMEAXIS")};a.Ua.prototype.Su=function(){this.k9=new a.j(h.l2a(this.K));this.k9.ul(this.jP);var b=this.k9.$h();this.k9.ul("border:"+2*b+"px;");this.g7a(b)};
a.Ua.prototype.hFa=function(){this.Nc?(this.ae=this.eb,this.Qe=this.Ra):(this.ae=this.Ra,this.Qe=this.eb)};a.Ua.prototype.t_a=function(){null!==this.Qe&&this.Lca(this.Qe-this.Dta());this.mK=this.zc+this.Dta()-h.CNa};a.Ua.prototype.U_a=function(a,f){this.Ra=a;this.eb=f;this.hFa();this.oA(this.ae);this.t_a()};a.Ua.prototype.CB=function(a,f){this.U_a(a,f);x.B6a(this)};a.Ua.prototype.a6a=function(a,f,d){this.vwa(this.du);this.Im("short",this.Os);this.CCa=[];this.Un=[];this.gL=[];this.Nc?this.aW(this.Nk.converterVert):
this.aW(this.Nk.converter);this.fE&&this.mxa(this.fE);for(var e=this.fd,h=0;h<this.gE.length;h++){var g=this.gE[h],q=this.LYa(g,e,a,f);this.MYa(h,g,a,f,q,d)}this.kv(e)};a.Ua.prototype.LYa=function(b,f,d,e){this.kv(b);var m=Infinity,g=0,q;if(this.Nh&&this.Nh[b])q=this.Nh[b],b=q.times,q=q.labels;else if(this.gu&&this.gu[b])q=this.gu[b],b=q.times,q=q.labels;else for(b=[],q=[],d=this.vI(d).getTime(),b.push(d);d<e;)q.push(this.xy(new Date(d))),d=this.OI(d).getTime(),b.push(d);e=[];for(var r=0;r<q.length;r++){d=
b[r];var l=new a.J(this.a,q[r],0,0,"s_label"+d);l.tb(h.j2a(this.K));l.time=d;var y=b[r+1];this.B(l);var t=l.ga();this.removeChild(l);if(this.Nc)var x=t.f,t=t.b,w=h.fya;else x=t.b,t=t.f,w=h.hya;d=(y-d)/Math.max(w,x+2*h.gya);d<m&&(m=d);t>g&&(g=t);e.push(l)}this.Lca(g+2*h.gya);this.CCa.push(b);this.Un.push(e);this.kv(f);return m};a.Ua.prototype.MYa=function(a,f,d,e,h,g){d=null!==this.Qe?g:(e-d)/h;this.gL.push(d);f==this.fd&&(this.ol=a,this.oA(d,g));0==a&&(this.yP=this.Un[this.Un.length-1].length*g)};
a.Ua.prototype.kv=function(a){this.fd=a};a.Ua.prototype.mxa=function(a){this.fE=a};a.Ua.prototype.Zba=function(){for(var a=0;a<this.gE.length-1;a++)if(this.gE[a]==this.fd){this.fd=this.gE[a+1];break}};a.Ua.prototype.Raa=function(){for(var a=1;a<this.gE.length;a++)if(this.gE[a]==this.fd){this.fd=this.gE[a-1];break}};a.Ua.prototype.vwa=function(a){this.du=a};a.Ua.prototype.aW=function(a){this.Nka=a};a.Ua.prototype.Lca=function(a){a>this.Kl&&(this.Kl=a)};a.Ua.prototype.OR=function(){null==this.l3&&(this.l3=
30);return this.l3};a.Ua.prototype.g7a=function(a){this.ui=a};a.Ua.prototype.zJ=function(a,f,d,e){this.TBa=(a|0)*this.ui;this.xUa=(f|0)*this.ui;this.QBa=(d|0)*this.ui;this.wUa=(e|0)*this.ui};a.Ua.prototype.$0a=function(){for(var a=this.Nc?{top:this.ye(),right:this.mK,bottom:this.ye(),left:this.mK}:{top:this.mK,right:this.ye(),bottom:this.mK,left:this.ye()},f=[],d=0,e=1,h=["top","right","bottom","left"],g=0;g<h.length;g++)0<this.$h(h[g])==e?d+=a[h[g]]:(f.push(d),d=a[h[g]],e=Math.abs(e-1));f.push(d);
return f.toString()};a.Ua.prototype.Dta=function(){return this.TBa+this.QBa};a.Ua.prototype.$h=function(a){switch(a){case "top":return this.TBa;case "right":return this.xUa;case "bottom":return this.QBa;case "left":return this.wUa;default:return this.ui}};a.Ua.prototype.ye=function(){return this.Kl+this.Dta()};a.Ua.prototype.Im=function(a,f){this.iWa=new B("short"==a?B.SHORT:B.OOa,f,this.Rx)};a.Ua.prototype.vI=function(a){return this.aka.vI(new Date(a),this.fd)};a.Ua.prototype.OI=function(a){return this.aka.OI(a,
this.fd)};a.Ua.prototype.xy=function(a,f,d){var e=this.fd;if("axis"==(d||"axis"))(f=f||this.du)&&(f[e]?f=f[e]:f["default"]&&(f=f["default"])),f&&(f.format||f.getAsString)||!this.Nka||!this.Nka[e]||(f=this.Nka[e]);else if(!f)if(f="hours"==e||"minutes"==e||"seconds"==e?{formatType:"datetime",dateFormat:"medium",timeFormat:"medium"}:{formatType:"date",dateFormat:"medium"},d=this.Nk.converterFactory)f=d.createConverter(f);else{f="toLocaleDateString";d={year:"numeric",month:"short",day:"numeric"};if("hours"==
e||"minutes"==e||"seconds"==e)f="toLocaleString",d={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};try{return a[f](this.Rx,d)}catch(h){}return a[f]()}if(f){if(f.format)return f.format(this.FG?this.FG(a):a);if(f.getAsString)return f.getAsString(a)}return this.iWa.format(a,e,this.fE)};a.Ua.prototype.Wwa=function(a){this.Kl=a?h.hya:h.fya};a.Ua.prototype.Jca=function(){this.Qe=null};a.Ua.prototype.NE=function(a){this.ol=a};a.i.v(w,a.i);w.prototype.Init=function(){this.IVa=
864E5;this.$Ca=0};w.prototype.A7a=function(a){this.$Ca=a};w.prototype.vI=function(a,f){var d=new Date(a.getTime());if("weeks"==f){d.setHours(0,0,0);var e=(a.getDay()-this.$Ca+7)%7;0<e&&d.setTime(d.getTime()-e*this.IVa)}else"months"==f?d.setDate(1):"days"==f?d.setHours(0,0,0):"hours"==f?d.setMinutes(0,0,0):"minutes"==f?d.setSeconds(0,0):"seconds"==f?d.setMilliseconds(0):"quarters"==f?(d.setDate(1),e=2-(a.getMonth()+11)%3,0<e&&d.setMonth(d.getMonth()+e)):"halfyears"==f?(d.setDate(1),e=5-(a.getMonth()+
11)%6,0<e&&d.setMonth(d.getMonth()+e)):"years"==f?(d.setMonth(0),d.setDate(1)):"twoyears"==f&&(d.setMonth(0),d.setDate(1));return d};w.prototype.OI=function(a,f){if("seconds"==f)return new Date(a+1E3);if("minutes"==f)return new Date(a+6E4);if("hours"==f)return new Date(a+36E5);var d=new Date(a);"days"==f?d.setDate(d.getDate()+1):"weeks"==f?d.setDate(d.getDate()+7):"months"==f?d.setMonth(d.getMonth()+1):"quarters"==f?d.setMonth(d.getMonth()+3):"halfyears"==f?d.setMonth(d.getMonth()+6):"years"==f?d.setFullYear(d.getFullYear()+
1):"twoyears"==f?d.setFullYear(d.getFullYear()+2):d.setYear(d.getYear()+1);return d};a.i.v(q,a.ma,"DvtTimeAxisDefaults");q.Hg={backgroundColor:"rgba(255,255,255,0)",borderColor:"#d9dfe3",separatorColor:"#bcc7d2",labelStyle:new a.j(a.ma.rp+"color: #333333;")};a.i.v(B,a.i);B.OOa=0;B.SHORT=1;B.prototype.Init=function(a,f,d){this.Yn=a;this.Os=f;this.Rx=d;this.fn=[];this.fn[0]={};this.fn[0].seconds="HH:MM:ss";this.fn[0].minutes="HH:MM";this.fn[0].hours="HH:MM";this.fn[0].days="dddd";this.fn[0].weeks="m/dd";
this.fn[0].months="mmmm";this.fn[0].quarters="mmmm";this.fn[0].halfyears="yyyy";this.fn[0].years="yyyy";this.fn[0].twoyears="yyyy";this.fn[1]={};this.fn[1].seconds="HH:MM:ss";this.fn[1].minutes="HH:MM";this.fn[1].hours="HH:MM";this.fn[1].days="m/dd";this.fn[1].weeks="m/dd";this.fn[1].months="mmm";this.fn[1].quarters="mmm";this.fn[1].halfyears="yy";this.fn[1].years="yy";this.fn[1].twoyears="yy"};B.prototype.format=function(a,f,d){f=this.fn[this.Yn][f];if(null!=f){var e=!1;if(d){a=a.getTime();for(var e=
Object.keys(d),h=0,g=0;g<e.length;g++)a>=parseInt(e[g],10)&&(h=d[e[g]]);a=new Date(a+h);e=!0}if(-1!=f.indexOf(":"))var q=":";else-1!=f.indexOf("/")&&(q="/");if(q){f=f.split(q);d=this.msa(a,f[0],e);for(g=1;g<f.length;g++)d+=q+this.msa(a,f[g],e);return d}return this.msa(a,f,e)}try{return a.toLocaleString(this.Rx)}catch(r){}return a.toLocaleString()};B.prototype.msa=function(a,f,d){if(d)switch(f){case "ss":return a=a.getUTCSeconds(),10>a?"0"+a:a;case "HH":return a=a.getUTCHours(),10>a?"0"+a:a;case "MM":return a=
a.getUTCMinutes(),10>a?"0"+a:a;case "dd":return a=a.getUTCDate(),10>a?"0"+a:a;case "dddd":return this.Os.uHa[a.getUTCDay()+7];case "m":return a.getUTCMonth()+1;case "mmm":return this.Os.rca[a.getUTCMonth()];case "mmmm":return this.Os.rca[a.getUTCMonth()+12];case "yy":return a.getUTCFullYear().toString().substring(2,4);default:return a.getUTCFullYear()}else switch(f){case "ss":return a=a.getSeconds(),10>a?"0"+a:a;case "HH":return a=a.getHours(),10>a?"0"+a:a;case "MM":return a=a.getMinutes(),10>a?"0"+
a:a;case "dd":return a=a.getDate(),10>a?"0"+a:a;case "dddd":return this.Os.uHa[a.getDay()+7];case "m":return a.getMonth()+1;case "mmm":return this.Os.rca[a.getMonth()];case "mmmm":return this.Os.rca[a.getMonth()+12];case "yy":return a.getFullYear().toString().substring(2,4);default:return a.getFullYear()}};a.i.v(E,a.i,"DvtTimeAxisParser");E.prototype.parse=function(a){this.Ku=new Date(a.start);this.vB=new Date(a.end);var f=this.xY();f.My=a.style;f.id=a.id;f.L6=a.shortDesc;f.Q6=a._tzo;f.pca=a._ip;
f.BI=a._cts;f.AI=a._cfs;f.scale=a.scale;f.era=a.converter;f.uMa=a.zoomOrder?a.zoomOrder:null;f.orientation=a.orientation?a.orientation:"horizontal";return f};E.prototype.xY=function(){var a={};a.start=this.Ku.getTime();a.end=this.vB.getTime();return a};var x={};a.i.v(x,a.i,"DvtTimeAxisRenderer");x.B6a=function(a){if(a.rq()){var f=a.ye();x.jZa(a,f,h.Kra(a.K))}};x.jZa=function(b,f,d){var e=0,m=b.a;if(null==b.If){var g=new a.hc;b.Ia()?(b.If=new a.Rect(m,e,-b.$h("top"),f,b.mK,"axis"),g.ue(e,0,f,b.zc)):
(b.If=new a.Rect(m,-b.$h("left"),e,b.mK,f,"axis"),g.ue(0,e,b.zc,f));b.If.tb(b.k9);b.If.dd(!0);b.If.ge(g);b.B(b.If);(f=h.h2a(b.K))&&b.If.mq().pa().setAttribute("class",f)}else b.If.ge(null),g=new a.hc,b.Ia()?(b.If.qa(e),b.If.Ya(-b.$h("top")),b.If.qb(f),b.If.Sb(b.mK),g.ue(e,0,f,b.zc)):(b.If.qa(-b.$h("left")),b.If.Ya(e),b.If.qb(b.mK),b.If.Sb(f),g.ue(0,e,b.zc,f)),b.If.ge(g);b.If.di();b.If.mq().pa().setAttribute("stroke-dasharray",b.$0a());d=new a.j(d);b.eI=new a.na(d.O(a.j.ud));f=b.Kl;e=e+b.Ia()?b.$h("left"):
b.$h("top");x.kZa(b,b.Qe,b.If,b.zc,e+f,e,e)};x.kZa=function(b,f,d,e,m,g,q){var r=b.a,l=a.m.ca(r),y=new a.ba(r,"block_0_"+f);y.PE=0;y.yC=f;d.B(y);f=h.i2a(b.K);d=h.k2a(b.K);for(var t=b.Kl,w=b.CCa[b.ol],C=b.Un[b.ol],D=0;D<w.length-1;D++){var v=w[D],z=w[D+1],k=a.Ua.Jc(b.Va,b.vb,v,e),z=a.Ua.Jc(b.Va,b.vb,z,e),A=z-k;0!=k&&((b.Ia()?x.tja(r,y,m,g,k,k,b.eI,"s_tick"+v,d):l?x.tja(r,y,e-k,e-k,m,g,b.eI,"s_tick"+v,d):x.tja(r,y,k,k,m,g,b.eI,"s_tick"+v,d)).time=v);b.Ia()?x.mja(y,C[D],q+(m-q)/2,k+(z-k)/2,m-q,z-k,f):
l?x.mja(y,C[D],e-(k+(z-k)/2),q+(m-q)/2,A,t,f):x.mja(y,C[D],k+(z-k)/2,q+(m-q)/2,A,t,f)}};x.mja=function(b,f,d,e,h,g,q){f.qa(d);f.Ya(e);f.ao()&&f.ze(f.Dm());a.ea.Xc(f,h,g,b);f.og();a.ea.JQ(f,e);q&&f.mq().pa().setAttribute("class",q)};x.tja=function(b,f,d,e,h,g,q,r,l){b=new a.Hb(b,d,h,e,g,r);b.Ga(q);b.dd(!0);f.B(b);l&&b.mq().pa().setAttribute("class",l);return b};var h={};a.i.v(h,a.i,"DvtTimeAxisStyleUtils");h.dya=1;h.CNa=1;h.hya=50;h.fya=21;h.gya=2;h.l2a=function(a){var f="",d=h.m2a(a);d&&(f=f+"background-color:"+
d+";");(d=h.Jo(a))&&(f=f+"border-color:"+d+";");(d=h.$h())&&(f=f+"border-width:"+d+";");return f};h.m2a=function(a){return a.backgroundColor};h.Jo=function(a){return a.borderColor};h.$h=function(){return h.dya};h.j2a=function(a){return a.labelStyle};h.qta=function(a){return a.separatorColor};h.Kra=function(a){var f="";(a=h.qta(a))&&(f=f+"color:"+a+";");return f};h.h2a=function(a){return a._resources?a._resources.axisClass:void 0};h.v$a=function(a){return a._resources?a._resources.axisBorderClass:
void 0};h.i2a=function(a){return a._resources?a._resources.axisLabelClass:void 0};h.k2a=function(a){return a._resources?a._resources.axisSeparatorClass:void 0};h.I$a=function(a){return a._resources?a._resources.borderTopVisible:!1};h.H$a=function(a){return a._resources?a._resources.borderRightVisible:!1};h.F$a=function(a){return a._resources?a._resources.borderBottomVisible:!1};h.G$a=function(a){return a._resources?a._resources.borderLeftVisible:!1};a.M(a,"TimeAxis",a.Ua);a.M(a.Ua,"newInstance",a.Ua.newInstance);
a.M(a.Ua.prototype,"render",a.Ua.prototype.ha)})(dvt);
  return dvt;
});
