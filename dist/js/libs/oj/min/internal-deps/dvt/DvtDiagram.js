/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var p;function ba(a,b){0==a.indexOf("dvt.")&&(a=a.substring(4));var c=a.split("."),d=eval("dvt");c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}Math.floor(2147483648*Math.random()).toString(36);
function wl(a){this.Init(a)}ba("DvtDiagramLayoutContext",wl);dvt.v.F(wl,dvt.v,"DvtDiagramLayoutContext");
wl.prototype.Init=function(a){this.ci=a?a.ci:null;this.Dr=a?a.Dr:null;this.Ox=a?a.Ox:0;this.X0=a?a.X0:0;this.tx=a?a.tx:!1;this.Ema=a?a.Ema:null;this.ah=a?a.ah:null;this.Is=a?a.Is:null;this.Zh=a?a.Zh:null;this.oc={};this.be={};this.yG=[];this.l_=[];if(a){for(var b=0;b<this.Ox;b++){var c=new xl(a.yG[b]);this.yG.push(c);this.oc[c.getId()]=c}for(var d in a.oc)this.oc[d]||(this.oc[d]=new xl(a.oc[d]));for(b=0;b<this.X0;b++)c=new yl(a.l_[b]),this.l_.push(c),this.be[c.getId()]=c;for(var e in a.be)this.be[e]||
(this.be[e]=new yl(a.be[e]))}};wl.prototype.Bp=function(a){this.ci=a};wl.prototype.vg=function(){return this.ci};wl.prototype.getLayout=wl.prototype.vg;wl.prototype.Et=function(a){this.Dr=a};wl.prototype.qn=function(){return this.Dr};wl.prototype.getLayoutAttributes=wl.prototype.qn;wl.prototype.aM=function(a){this.la(a.getId())||(this.Ox++,this.yG.push(a));this.oc[a.getId()]=a};wl.prototype.la=function(a){return this.oc[a]};wl.prototype.getNodeById=wl.prototype.la;wl.prototype.hF=function(a){return this.yG[a]};
wl.prototype.getNodeByIndex=wl.prototype.hF;wl.prototype.Bg=function(){return this.Ox};wl.prototype.getNodeCount=wl.prototype.Bg;function pb(a,b){a.qd(b.getId())||(a.X0++,a.l_.push(b));a.be[b.getId()]=b}wl.prototype.qd=function(a){return this.be[a]};wl.prototype.getLinkById=wl.prototype.qd;wl.prototype.uM=function(a){return this.l_[a]};wl.prototype.getLinkByIndex=wl.prototype.uM;wl.prototype.Pu=function(){return this.X0};wl.prototype.getLinkCount=wl.prototype.Pu;
wl.prototype.Jpb=function(a,b){for(var c=b,d=new td(0,0);c;)if(d.x+=c.yN.x+c.si().x,d.y+=c.yN.y+c.si().y,c=c.Is){if((c=this.la(c))&&c.Bb()){var e=c.sp();e&&(d.x+=e.left,d.y+=e.top)}}else c=null;return new td(a.x+d.x,a.y+d.y)};wl.prototype.localToGlobal=wl.prototype.Jpb;wl.prototype.apb=function(){return this.tx};wl.prototype.isLocaleR2L=wl.prototype.apb;wl.prototype.ulb=function(){return this.Ema};wl.prototype.getComponentSize=wl.prototype.ulb;wl.prototype.Jtb=function(a){this.ah=a};
wl.prototype.setViewport=wl.prototype.Jtb;wl.prototype.CI=function(){return this.ah};wl.prototype.getViewport=wl.prototype.CI;wl.prototype.Qfa=function(a){this.Is=a};wl.prototype.hua=function(){return this.Is};wl.prototype.getContainerId=wl.prototype.hua;wl.prototype.xF=function(a,b,c,d){this.Is&&(this.Zh={},"number"!==typeof a&&"string"!==typeof a&&(d=a.left,b=a.right,c=a.bottom,a=a.top),this.Zh.top=a,this.Zh.right=b,this.Zh.bottom=c,this.Zh.left=d)};wl.prototype.setContainerPadding=wl.prototype.xF;
wl.prototype.sp=function(){return this.Zh};wl.prototype.getContainerPadding=wl.prototype.sp;wl.prototype.ylb=function(){return this.nz};wl.prototype.getCurrentViewport=wl.prototype.ylb;wl.prototype.tlb=function(a,b){function c(a,b){for(var c=[],d=b.la(a)?b.la(a).Is:null;d;)c.push(d),d=b.la(d)?b.la(d).Is:null;c.reverse();return c}for(var d=c(a,this),e=c(b,this),f=null,h=0;h<d.length&&h<e.length&&d[h]==e[h];h++)f=d[h];return f};wl.prototype.getCommonContainer=wl.prototype.tlb;
function yl(a){this.Init(a)}ba("DvtDiagramLayoutContextLink",yl);dvt.v.F(yl,dvt.v,"DvtDiagramLayoutContextLink");yl.prototype.Init=function(a){this.xc=a?a.xc:null;this.hW=a?a.hW:null;this.MU=a?a.MU:null;this.yl=a?a.yl:null;this.wP=a?a.wP:null;this.Ez=a?a.Ez:null;this.Yv=a?a.Yv:null;this.vP=a?a.vP:null;this.Dr=a?a.Dr:null;this.usa=a?a.usa:0;this.Hna=a?a.Hna:0;this.FP=a?a.FP:1;this.Lg=a?a.Lg:!1;this.Sn=a?a.Sn:null;this.en=a?a.en:null;this.bj=a?a.bj:!1;this.Is=a?a.Is:null};
yl.prototype.setId=function(a){this.xc=a};yl.prototype.getId=function(){return this.xc};yl.prototype.getId=yl.prototype.getId;yl.prototype.wY=function(a){this.hW=a};yl.prototype.Te=function(){return this.hW};yl.prototype.getStartId=yl.prototype.Te;yl.prototype.gY=function(a){this.MU=a};yl.prototype.Bd=function(){return this.MU};yl.prototype.getEndId=yl.prototype.Bd;yl.prototype.de=function(a){this.yl="string"==typeof a?dvt.P.c3(a):a};yl.prototype.setPoints=yl.prototype.de;yl.prototype.ad=function(){return this.yl};
yl.prototype.getPoints=yl.prototype.ad;yl.prototype.Dg=function(a){this.wP=a};yl.prototype.setLabelPosition=yl.prototype.Dg;yl.prototype.uf=function(){return this.wP};yl.prototype.getLabelPosition=yl.prototype.uf;yl.prototype.av=function(a){this.vP=a};yl.prototype.ug=function(){return this.vP};yl.prototype.getLabelBounds=yl.prototype.ug;yl.prototype.m4=function(){return this.usa};yl.prototype.getStartConnectorOffset=yl.prototype.m4;yl.prototype.F3=function(){return this.Hna};
yl.prototype.getEndConnectorOffset=yl.prototype.F3;yl.prototype.bN=function(a){this.FP=a};yl.prototype.hA=function(){return this.FP};yl.prototype.getLinkWidth=yl.prototype.hA;yl.prototype.Et=function(a){this.Dr=a};yl.prototype.qn=function(){return this.Dr};yl.prototype.getLayoutAttributes=yl.prototype.qn;yl.prototype.lc=function(a){this.Lg=a};yl.prototype.mva=function(){return this.Lg};yl.prototype.getSelected=yl.prototype.mva;yl.prototype.YI=function(a){this.Sn=a};
yl.prototype.setLabelRotationAngle=yl.prototype.YI;yl.prototype.aF=function(){return this.Sn};yl.prototype.getLabelRotationAngle=yl.prototype.aF;yl.prototype.BF=function(a){this.en=a};yl.prototype.setLabelRotationPoint=yl.prototype.BF;yl.prototype.bF=function(){return this.en};yl.prototype.getLabelRotationPoint=yl.prototype.bF;yl.prototype.aJ=function(a){this.bj=a};yl.prototype.CVa=function(){return this.bj};yl.prototype.isPromoted=yl.prototype.CVa;yl.prototype.hya=function(a){this.Ez=a};
yl.prototype.setLabelValign=yl.prototype.hya;yl.prototype.gya=function(a){this.Yv=a};yl.prototype.setLabelHalign=yl.prototype.gya;yl.prototype.Iua=function(){return this.Ez};yl.prototype.getLabelValign=yl.prototype.Iua;yl.prototype.gX=function(){return this.Yv};yl.prototype.getLabelHalign=yl.prototype.gX;yl.prototype.vsb=function(a){this.T_=a};yl.prototype.setCoordinateSpace=yl.prototype.vsb;yl.prototype.vlb=function(){return this.T_};yl.prototype.getCoordinateSpace=yl.prototype.vlb;
yl.prototype.setData=function(a){this.Nb=a};yl.prototype.getData=function(){return this.Nb};yl.prototype.getData=yl.prototype.getData;function xl(a){this.Init(a)}ba("DvtDiagramLayoutContextNode",xl);dvt.v.F(xl,dvt.v,"DvtDiagramLayoutContextNode");
xl.prototype.Init=function(a){this.xc=a?a.xc:null;this.xe=a?a.xe:null;this.S_=a?a.S_:null;this.CL=a?a.CL:null;this.wP=a?a.wP:null;this.vP=a?a.vP:null;this.Ez=a?a.Ez:null;this.Yv=a?a.Yv:null;this.Dr=a?a.Dr:null;this.$la=a?a.$la:!1;this.Is=a?a.Is:null;this.Lg=a?a.Lg:!1;this.Sn=a?a.Sn:null;this.en=a?a.en:null;this.Zh=a?a.Zh:null;this.dw=a?a.dw:null;this.ew=a?a.ew:null;this.Xm=a?a.Xm:!1;this.xN=a?a.Ma():null;this.kD=!0;this.yN=new td(0,0)};xl.prototype.setId=function(a){this.xc=a};
xl.prototype.getId=function(){return this.xc};xl.prototype.getId=xl.prototype.getId;xl.prototype.Sf=function(){!this.kD&&this.xN&&this.xN.SI(this);return this.xe};xl.prototype.getBounds=xl.prototype.Sf;xl.prototype.ei=function(){!this.kD&&this.xN&&this.xN.SI(this);return this.S_};xl.prototype.getContentBounds=xl.prototype.ei;xl.prototype.setPosition=function(a){this.CL=a;zl(this,this)};xl.prototype.setPosition=xl.prototype.setPosition;xl.prototype.si=function(){return this.CL};
xl.prototype.getPosition=xl.prototype.si;xl.prototype.pnb=function(a){var b=this.pCa;if(b){for(var c=new td(0,0),d=this,e=!1;d;){var f=d.Is;if(f){var h=b.la(f);h&&this.xN&&!h.kD&&this.xN.SI(h)}c.x+=d.yN.x+d.si().x;c.y+=d.yN.y+d.si().y;if(f!=a)if((d=b.la(f))&&d.Bb()){if(f=d.sp())c.x+=f.left,c.y+=f.top}else d=null;else e=!0,d=null}e||(c=null);return c}};xl.prototype.getRelativePosition=xl.prototype.pnb;xl.prototype.Dg=function(a){this.wP=a};xl.prototype.setLabelPosition=xl.prototype.Dg;
xl.prototype.uf=function(){return this.wP};xl.prototype.getLabelPosition=xl.prototype.uf;xl.prototype.av=function(a){this.vP=a};xl.prototype.ug=function(){return this.vP};xl.prototype.getLabelBounds=xl.prototype.ug;xl.prototype.Et=function(a){this.Dr=a};xl.prototype.qn=function(){return this.Dr};xl.prototype.getLayoutAttributes=xl.prototype.qn;xl.prototype.DF=function(a){this.$la=a};xl.prototype.MX=function(){return this.$la};xl.prototype.isReadOnly=xl.prototype.MX;
xl.prototype.Qfa=function(a){this.Is=a};xl.prototype.hua=function(){return this.Is};xl.prototype.getContainerId=xl.prototype.hua;xl.prototype.lc=function(a){this.Lg=a};xl.prototype.mva=function(){return this.Lg};xl.prototype.getSelected=xl.prototype.mva;xl.prototype.YI=function(a){this.Sn=a};xl.prototype.setLabelRotationAngle=xl.prototype.YI;xl.prototype.aF=function(){return this.Sn};xl.prototype.getLabelRotationAngle=xl.prototype.aF;xl.prototype.BF=function(a){this.en=a};
xl.prototype.setLabelRotationPoint=xl.prototype.BF;xl.prototype.bF=function(){return this.en};xl.prototype.getLabelRotationPoint=xl.prototype.bF;xl.prototype.xF=function(a,b,c,d){this.Bb()&&(this.Zh={},"number"!==typeof a&&"string"!==typeof a&&(d=a.left,b=a.right,c=a.bottom,a=a.top),this.Zh.top=a,this.Zh.right=b,this.Zh.bottom=c,this.Zh.left=d,this.dw&&(this.xe=new yb(this.dw.x,this.dw.y,this.dw.w+d+b,this.dw.h+a+c)),this.ew&&(this.S_=new yb(this.ew.x,this.ew.y,this.ew.w+d+b,this.ew.h+a+c)))};
xl.prototype.setContainerPadding=xl.prototype.xF;xl.prototype.sp=function(){return this.Zh};xl.prototype.getContainerPadding=xl.prototype.sp;xl.prototype.Ai=function(a){this.Xm=a};xl.prototype.Bb=function(){return this.Xm};xl.prototype.isDisclosed=xl.prototype.Bb;xl.prototype.g5=function(a){this.i9a=a};xl.prototype.Ae=function(){return this.i9a};xl.prototype.getChildNodes=xl.prototype.Ae;xl.prototype.hS=function(a){this.vE=a};xl.prototype.oq=function(){return this.vE};xl.prototype.getParentNode=xl.prototype.oq;
function zl(a,b){var c=b.oq();c&&c.kD&&(c.kD=!1,zl(a,c))}xl.prototype.hya=function(a){this.Ez=a};xl.prototype.setLabelValign=xl.prototype.hya;xl.prototype.gya=function(a){this.Yv=a};xl.prototype.setLabelHalign=xl.prototype.gya;xl.prototype.Iua=function(){return this.Ez};xl.prototype.getLabelValign=xl.prototype.Iua;xl.prototype.gX=function(){return this.Yv};xl.prototype.getLabelHalign=xl.prototype.gX;xl.prototype.setData=function(a){this.Nb=a};xl.prototype.getData=function(){return this.Nb};
xl.prototype.getData=xl.prototype.getData;function td(a,b){this.Init(a,b)}ba("DvtDiagramPoint",td);dvt.v.F(td,dvt.v,"DvtDiagramPoint");td.prototype.Init=function(a,b){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b};function yb(a,b,c,d){this.Init(a,b,c,d)}ba("DvtDiagramRectangle",yb);dvt.v.F(yb,dvt.v,"DvtDiagramRectangle");yb.prototype.Init=function(a,b,c,d){this.x=null===a||isNaN(a)?0:a;this.y=null===b||isNaN(b)?0:b;this.w=null===c||isNaN(c)?0:c;this.h=null===d||isNaN(d)?0:d};
dvt.dc={};dvt.v.F(dvt.dc,dvt.v);dvt.dc.Exb=function(a,b,c){a&&b&&a instanceof za&&b instanceof za?dvt.dc.$2a(a,b,c):a&&b&&a instanceof dvt.ve&&b instanceof dvt.ve?dvt.dc.Z2a(a,b,c):a&&b&&dvt.dc.FEa(a,b,c)};dvt.dc.$2a=function(a,b,c){dvt.dc.uhb(a,b,c);var d=a.gd?a.gd():null,e=b.gd?b.gd():null;c&&(a.Va()!=b.Va()&&c.N(dvt.G.V,a,a.Va,a.Aa,b.Va()),a.kb()!=b.kb()&&c.N(dvt.G.V,a,a.kb,a.eb,b.kb()),d&&e&&d instanceof dvt.Yb&&e instanceof dvt.Yb&&d.gc()!=e.gc()&&c.N(dvt.G.oo,a,a.gd,a.qa,e))};
dvt.dc.FEa=function(a,b,c){var d=a.aa(a.u().Re),e=b.aa(b.u().Re),f=a.gd?a.gd():null,h=b.gd?b.gd():null,k=a.Ud?a.Ud():null,l=b.Ud?b.Ud():null;if(c){var n=b=1;d.a!=e.a&&(b=e.a/d.a);d.b!=e.b&&(n=e.b/d.b);var m=0,r=0;d.x!=e.x&&(m=e.x-d.x);d.y!=e.y&&(r=e.y-d.y);f&&h&&f instanceof dvt.Yb&&h instanceof dvt.Yb&&f.gc()!=h.gc()&&c.N(dvt.G.oo,a,a.gd,a.qa,h);k&&l&&k instanceof dvt.xa&&l instanceof dvt.xa&&k.gc()!=l.gc()&&c.N(dvt.G.ZJ,a,a.Ud,a.Ga,l);if(0!=m||0!=r||1!=b||1!=n)e=new dvt.Ub,e.translate(-d.x,-d.y),
e.scale(b,n),e.translate(d.x,d.y),e.translate(m,r),d=a.sb().clone(),d.concat(e),c.N(dvt.G.$i,a,a.sb,a.rb,d)}};dvt.dc.uhb=function(a,b,c){if(c){var d=dvt.dc.v0(a);b=dvt.dc.v0(b);d.He(b)||(d=dvt.dc.v0(a.getParent()),d.nF(),b.concat(d),c.N(dvt.G.$i,a,a.sb,a.rb,b))}};dvt.dc.v0=function(a){var b=[a];for(a=a.getParent();a;)b.push(a),a=a.getParent();a=new dvt.Ub;for(var c=0;c<b.length;c++)a.concat(b[c].sb());return a};
dvt.dc.Z2a=function(a,b,c){var d=dvt.dc.dIa(a),e=dvt.dc.dIa(b);if(d&&e){a!=d&&(dvt.dc.qgb(a,d),a=d);var d=a.gd?a.gd():null,f=b.gd?b.gd():null;c&&(d&&f&&d instanceof dvt.Yb&&f instanceof dvt.Yb&&d.gc()!=f.gc()&&c.N(dvt.G.oo,a,a.gd,a.qa,f),b=dvt.dc.v0(b),dvt.dc.v8a(a,e,c,b))}else dvt.dc.FEa(a,b,c)};dvt.dc.dIa=function(a){if(a instanceof dvt.vb)return a;var b=dvt.dc.zbb(a);return b?new dvt.vb(a.u(),b):null};
dvt.dc.qgb=function(a,b){var c=a.gd(),d=a.Ud(),e=a.sb(),f=a.getParent().pi(a);a.getParent().Hb(b,f);a.qa(null);a.Ga(null);a.rb(null);b.qa(c);b.Ga(d);b.rb(e);c=a.Pb();for(d=0;d<c;d++)b.A(a.jb(0));a.getParent().removeChild(a);a.ya&&a.ya()};
dvt.dc.zbb=function(a){var b;if(a instanceof dvt.Rect){var c=a.qt(),d=a.Su(),e=a.Va(),f=a.kb(),h=a.getWidth(),k=a.getHeight();if(c&&d){a=.5*Math.PI;var l=Math.cos(.5*a),n=Math.sin(.5*a),m=l,r=-n,q=(4-l)/3,v=(1-l)*(3-l)/(3*n);b=q;var x=-v,l=new dvt.R(l,n),m=new dvt.R(m,r),q=new dvt.R(q,v),x=new dvt.R(b,x),v=new dvt.Ub;v.rotate(.5*a);v.scale(c,d);a=v.jf(q);var l=v.jf(x),u=e+h-c,A=f+d;b=["M",e+c,f,"L",e+h-c,f,"C",u+a.x,A-a.y,u+l.x,A-l.y,e+h,f+d];A=f+k-d;b.push("L",e+h,f+k-d,"C",u+l.x,A+l.y,u+a.x,A+a.y,
e+h-c,f+k);u=e+c;b.push("L",e+c,f+k,"C",u-a.x,A+a.y,u-l.x,A+l.y,e,f+k-d);A=f+d;b.push("L",e,f+d,"C",u-l.x,A-l.y,u-a.x,A-a.y,e+c,f,"Z")}else b=["M",e,f,"L",e+h,f,"L",e+h,f+k,"L",e,f+k,"Z"]}else if(a instanceof dvt.hx||a instanceof dvt.ji){if(c=a.ad()){b=[];for(f=0;f<c.length;f+=2)0==f?b.push("M",c[f],c[f+1]):b.push("L",c[f],c[f+1]);a instanceof dvt.ji&&b.push("Z")}}else if(a instanceof dvt.Gc)b=["M",a.Wr(),a.Xr(),"L",a.vt(),a.wt()];else if(a instanceof dvt.Qm){u=a.fk();A=a.gk();a instanceof dvt.wv?
(c=a.qt(),d=a.Su()):d=c=a.Zn();e=-.5*Math.PI;a=2*Math.PI/4;l=Math.cos(.5*a);n=Math.sin(.5*a);m=l;r=-n;q=(4-l)/3;v=(1-l)*(3-l)/(3*n);b=q;x=-v;l=new dvt.R(l,n);m=new dvt.R(m,r);q=new dvt.R(q,v);x=new dvt.R(b,x);b=[];for(f=0;4>f;f++)v=new dvt.Ub,v.rotate(e+f*a),v.scale(c,d),0==f&&(h=v.jf(m),b.push("M",u+h.x,A+h.y)),h=v.jf(x),k=v.jf(q),v=v.jf(l),b.push("C",u+h.x,A+h.y,u+k.x,A+k.y,u+v.x,A+v.y);b.push("Z")}else a instanceof dvt.ng&&(c=a.Zx()*dvt.Math.iG,d=a.kq()*dvt.Math.iG,b=["M",a.fk()+a.qt()*Math.cos(c),
a.gk()-a.Su()*Math.sin(c),"A",a.qt(),a.Su(),"0",180<Math.abs(a.kq())?"1":"0",0<a.kq()?"0":"1",a.fk()+a.qt()*Math.cos(c+d),a.gk()-a.Su()*Math.sin(c+d)],a.PO===dvt.ng.wS?b.push("Z"):a.PO===dvt.ng.Via&&b.push("L",a.fk(),a.gk(),"Z"));return b};dvt.dc.hH=function(a,b){for(;b<a.length&&!isNaN(a[b]);)b++;return b};dvt.dc.WU=function(a,b){for(;-1<b&&!isNaN(a[b]);)b--;return b};dvt.dc.jIa=function(a){for(var b=0,c=0;c<a.length;c++)isNaN(a[c])&&b++;return b};
dvt.dc.vdb=function(a,b){var c=dvt.dc.jIa(a),d=dvt.dc.jIa(b);if(c!=d){var e=0,f=0;c>d?(e=c-d,f=d,c=b):(e=d-c,f=c,c=a);d=Math.floor(f/e);1>d&&(d=1);f=Math.floor(e/f);1>f&&(f=1);for(var h=-1,k=0;k<c.length;k++)if(isNaN(c[k])){if(h==d)for(var l=h=0;l<f;l++)c.splice(k++,0,"tmp"),e--;h++}for(k=0;k<e;k++)"Z"==c[c.length-1]?c.splice(c.length-1,0,"tmp"):c.push("tmp")}};dvt.dc.NMa=function(a){return 2<a.length&&"Z"==a[a.length-1]?(a.splice(a.length-1,1),a.push("L",a[1],a[2]),!0):!1};
dvt.dc.v8a=function(a,b,c,d){b=dvt.dc.DSa(a.bR(),b.bR());var e=dvt.dc.v0(a);e&&dvt.dc.wQa(b.Cya,e);a.rb(null);d&&dvt.dc.wQa(b.Bya,d);a.Bt(b.Cya);c.N(dvt.G.mm,a,a.bR,a.Bt,b.Bya)};
dvt.dc.DSa=function(a,b){var c=dvt.na.copy(a),d=dvt.na.copy(b),e=[],f=[];dvt.dc.sMa(c);dvt.dc.sMa(d);dvt.dc.vMa(c);dvt.dc.vMa(d);dvt.dc.wMa(c);dvt.dc.wMa(d);dvt.dc.xMa(c);dvt.dc.xMa(d);var h=dvt.dc.BHa(c),k=dvt.dc.BHa(d);dvt.dc.OPa(h);dvt.dc.OPa(k);for(var l=0;l<Math.max(h.length,k.length);l++){var n=[],m=[],r=null,q=null;l<h.length?r=h[l]:(r=["M",c[1],c[2]],"Z"==k[l][k[l].length-1]&&r.push("Z"));l<k.length?q=k[l]:(q=["M",d[1],d[2]],"Z"==h[l][h[l].length-1]&&q.push("Z"));dvt.dc.w8a(r,q,n,m);f=f.concat(n);
e=e.concat(m)}return{Cya:f,Bya:e}};dvt.dc.BHa=function(a){for(var b=[],c=0,d=1;d<a.length;d++)if("M"==a[d]||"m"==a[d])b.push(a.slice(c,d)),c=d;1>b.length?b.push(a):c<a.length&&b.push(a.slice(c));return b};dvt.dc.OPa=function(a){a.sort(dvt.dc.o9a)};dvt.dc.o9a=function(a,b){var c=dvt.dc.HHa(a),d=dvt.dc.HHa(b);return c>d?-1:d>c?1:0};
dvt.dc.HHa=function(a){for(var b=0,c=0,d=0,e=0,f=0,h=0,k=0,l=0;l<a.length;){switch(a[l]){case "M":f=a[l+1];h=a[l+2];break;case "L":b=a[l+1];c=a[l+2];break;case "C":b=a[l+5];c=a[l+6];break;case "Q":b=a[l+3];c=a[l+4];break;case "A":b=a[l+6];c=a[l+7];break;case "Z":b=f,c=h}k+=Math.sqrt((b-d)*(b-d)+(c-e)*(c-e));l=dvt.dc.hH(a,l+1);d=b;e=c}return k};
dvt.dc.w8a=function(a,b,c,d){var e=dvt.dc.NMa(a),f=dvt.dc.NMa(b);if(e||a[a.length-2]==a[1]&&a[a.length-1]==a[2])a=dvt.dc.uMa(a),a=dvt.dc.tMa(a);if(f||b[b.length-2]==b[1]&&b[b.length-1]==b[2])b=dvt.dc.uMa(b),b=dvt.dc.tMa(b);dvt.dc.vdb(a,b);dvt.dc.u8a(a,b,c,d);e&&a.push("Z");f&&b.push("Z")};
dvt.dc.u8a=function(a,b,c,d){for(var e=0,f=0,h=0,k=0,l=0,n=0,m=!1,r=!1;-1<e||-1<f;){var q=-1<e?a[e]:null,v=-1<f?b[f]:null,x=-1<e?dvt.dc.hH(a,e+1):-1,u=-1<f?dvt.dc.hH(b,f+1):-1;if(q==v){for(;f<u;f++)d.push(b[f]);for(f=e;f<x;f++)c.push(a[f])}else q&&"tmp"!=q?v&&"tmp"!=v?"L"==q?"Q"==v?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h+.5*(a[e+1]-h),k+.5*(a[e+2]-k),a[e+1],a[e+2])):"C"==v?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h+.5*(a[e+1]-h),k+.5*(a[e+2]-k),h+.5*(a[e+1]-
h),k+.5*(a[e+2]-k),a[e+1],a[e+2])):"A"==v?(d.push("L",l,n,"A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("L",a[e+1],a[e+2],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+1],a[e+2])):"Z"==v&&(m=!0,d.push("L",l,n),c.push("L",a[e+1],a[e+2])):"Q"==q?"L"==v?(d.push("Q",l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),b[f+1],b[f+2]),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==v?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",a[e+1],a[e+2],a[e+1],a[e+2],a[e+3],a[e+4])):"A"==v?(d.push("Q",l,n,l,n,"A",
b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+3],a[e+4])):"Z"==v&&(m=!0,d.push("Q",l,n,l,n),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==q?"L"==v?(d.push("C",l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),l+.5*(b[f+1]-l),n+.5*(b[f+2]-n),b[f+1],b[f+2]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"Q"==v?(d.push("C",b[f+1],b[f+2],b[f+1],b[f+2],b[f+3],b[f+4]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==v?(d.push("C",
l,n,l,n,l,n,"A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],"A",0,0,b[f+3],b[f+4],b[f+5],a[e+5],a[e+6])):"Z"==v&&(m=!0,d.push("C",l,n,l,n,l,n),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==q?"L"==v?(d.push("L",b[f+1],b[f+2],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+1],b[f+2]),c.push("L",h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Q"==v?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+3],b[f+4]),
c.push("Q",h,k,h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"C"==v?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],"A",0,0,a[e+3],a[e+4],a[e+5],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k,"A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Z"==v&&(m=!0,d.push("A",0,0,a[e+3],a[e+4],a[e+5],l,n),c.push("A",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6],a[e+7])):"Z"==q&&(r=!0,"L"==v?(d.push("L",b[f+1],b[f+2]),c.push("L",h,k)):"Q"==v?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h,k,
h,k)):"C"==v?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k)):"A"==v&&(d.push("A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("A",0,0,b[f+3],b[f+4],b[f+5],h,k))):"L"==q?(d.push("L",l,n),c.push("L",a[e+1],a[e+2])):"Q"==q?(d.push("Q",l,n,l,n),c.push("Q",a[e+1],a[e+2],a[e+3],a[e+4])):"C"==q?(d.push("C",l,n,l,n,l,n),c.push("C",a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])):"A"==q?(d.push("A",0,0,a[e+3],a[e+4],a[e+5],l,n),c.push("A",a[e+1],a[e+2],a[e+3],a[e+4],
a[e+5],a[e+6],a[e+7])):"Z"==q&&(d.push("Z"),c.push("Z")):"L"==v?(d.push("L",b[f+1],b[f+2]),c.push("L",h,k)):"Q"==v?(d.push("Q",b[f+1],b[f+2],b[f+3],b[f+4]),c.push("Q",h,k,h,k)):"C"==v?(d.push("C",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6]),c.push("C",h,k,h,k,h,k)):"A"==v?(d.push("A",b[f+1],b[f+2],b[f+3],b[f+4],b[f+5],b[f+6],b[f+7]),c.push("A",0,0,b[f+3],b[f+4],b[f+5],h,k)):"Z"==v&&(d.push("Z"),c.push("Z"));-1<x&&"Z"!=q&&"tmp"!=q&&(h=a[x-2],k=a[x-1]);-1<u&&"Z"!=v&&"tmp"!=v&&(l=b[u-2],n=b[u-1]);e=x;
f=u;if(e>=a.length||0>e)e=-1;if(f>=b.length||0>f)f=-1}if(r||m)d.push("Z"),c.push("Z")};
dvt.dc.tMa=function(a){if(!dvt.dc.Xcb(a)){for(var b=["M"],c=dvt.dc.WU(a,a.length-1);-1<c;){var d=a[c];switch(d){case "M":b.push(a[c+1],a[c+2]);break;case "L":b.push(a[c+1],a[c+2]);b.push(d);break;case "Q":b.push(a[c+3],a[c+4]);b.push(d);b.push(a[c+1],a[c+2]);break;case "C":b.push(a[c+5],a[c+6]);b.push(d);b.push(a[c+3],a[c+4]);b.push(a[c+1],a[c+2]);break;case "A":b.push(a[c+6],a[c+7]),b.push(d),b.push(a[c+1],a[c+2],a[c+3],a[c+4]),b.push(0==a[c+5]?1:0)}c=dvt.dc.WU(a,c-1)}return b}return a};
dvt.dc.Xcb=function(a){for(var b=[],c=0,d=Number.MAX_VALUE,e=Number.MAX_VALUE,f=dvt.dc.WU(a,a.length-1),h=1;h<f;){h=dvt.dc.hH(a,h);if(0<h-2&&"Z"!=a[h-1]){var k=a[h-2],l=a[h-1];b.push(k,l);if(l<e||l==e&&k<d)d=k,e=l,c=b.length-2}h+=1}k=h=f=a=0;0<c?(a=b[c-2],f=b[c-1]):(a=b[b.length-2],f=b[b.length-1]);c<b.length-2?(h=b[c+2],k=b[c+3]):(h=b[0],k=b[1]);return 0>d*k+a*e+f*h-(f*d+e*h+a*k)?!1:!0};
dvt.dc.uMa=function(a){for(var b=0,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=0,f=dvt.dc.WU(a,a.length-1),h=1;h<f;){var k=dvt.dc.hH(a,h);if(0<k-2&&"Z"!=a[k-1]){var h=a[k-2],l=a[k-1];if(l<d||l==d&&h<c)c=h,d=l,b=e}h=k+1;e=k}return 0<b?(k=dvt.dc.hH(a,b+1),b=["M"],c=a.slice(k-2,a.length),b=b.concat(c),c=a.slice(3,k),b=b.concat(c)):a};
dvt.dc.rbb=function(a){switch(a){case "H":case "h":case "V":case "v":return 1;case "M":case "m":case "L":case "l":case "T":case "t":return 2;case "Q":case "q":case "S":case "s":return 4;case "C":case "c":return 6;case "A":case "a":return 7}return 0};
dvt.dc.sMa=function(a){for(var b=0;b<a.length;){var c=a[b],d=dvt.dc.rbb(c);switch(c){case "M":b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,"L");break;case "m":b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,"l");break;case "Z":case "z":break;default:b+d+1<a.length&&!isNaN(a[b+d+1])&&a.splice(b+d+1,0,c)}b+=d+1}};
dvt.dc.vMa=function(a){for(var b=0,c=0,d=0,e=0,f=0;f<a.length;){switch(a[f]){case "m":a[f]="M";0<f&&(a[f+1]=b+a[f+1],a[f+2]=c+a[f+2]);b=a[f+1];c=a[f+2];d=b;e=c;break;case "l":a[f]="L";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];b=a[f+1];c=a[f+2];break;case "h":a[f]="H";a[f+1]=b+a[f+1];b=a[f+1];break;case "v":a[f]="V";a[f+1]=c+a[f+1];c=a[f+1];break;case "c":a[f]="C";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];a[f+5]=b+a[f+5];a[f+6]=c+a[f+6];b=a[f+5];c=a[f+6];break;case "s":a[f]="S";a[f+1]=
b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];b=a[f+3];c=a[f+4];break;case "q":a[f]="Q";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];a[f+3]=b+a[f+3];a[f+4]=c+a[f+4];b=a[f+3];c=a[f+4];break;case "t":a[f]="T";a[f+1]=b+a[f+1];a[f+2]=c+a[f+2];b=a[f+1];c=a[f+2];break;case "a":a[f]="A";a[f+6]=b+a[f+6];a[f+7]=c+a[f+7];b=a[f+6];c=a[f+7];break;case "z":a[f]="Z";b=d;c=e;break;case "M":b=a[f+1];c=a[f+2];d=b;e=c;break;case "L":b=a[f+1];c=a[f+2];break;case "H":b=a[f+1];break;case "V":c=a[f+1];break;case "C":b=a[f+
5];c=a[f+6];break;case "S":b=a[f+3];c=a[f+4];break;case "Q":b=a[f+3];c=a[f+4];break;case "T":b=a[f+1];c=a[f+2];break;case "A":b=a[f+6];c=a[f+7];break;case "Z":b=d,c=e}f=dvt.dc.hH(a,f+1)}};
dvt.dc.wMa=function(a){for(var b=0,c=0,d=0,e=0,f=0;f<a.length;){switch(a[f]){case "M":b=a[f+1];c=a[f+2];d=b;e=c;break;case "L":b=a[f+1];c=a[f+2];break;case "H":b=a[f+1];a[f]="L";a.splice(f+2,0,c);break;case "V":c=a[f+1];a[f]="L";a.splice(f+1,0,b);break;case "C":b=a[f+5];c=a[f+6];break;case "S":var h=dvt.dc.WU(a,f-1),k=b,l=c;"C"==a[h]&&(l=a[h+4],k=b+(b-a[h+3]),l=c+(c-l));a[f]="C";a.splice(f+1,0,k,l);b=a[f+5];c=a[f+6];break;case "Q":b=a[f+3];c=a[f+4];break;case "T":h=dvt.dc.WU(a,f-1);k=b;l=c;"Q"==a[h]&&
(l=a[h+2],k=b+(b-a[h+1]),l=c+(c-l));a[f]="Q";a.splice(f+1,0,k,l);b=a[f+3];c=a[f+4];break;case "A":b=a[f+6];c=a[f+7];break;case "Z":b=d,c=e}f=dvt.dc.hH(a,f+1)}};dvt.dc.xMa=function(a){for(var b=0,c=0,d=0;d<a.length;d++)"Z"==a[d]?d+1<a.length&&"M"!=a[d+1]&&"m"!=a[d+1]&&a.splice(d+1,0,"M",b,c):"M"==a[d]&&(b=a[d+1],c=a[d+2])};
dvt.dc.wQa=function(a,b){for(var c=null,d=0;d<a.length;){switch(a[d]){case "M":case "L":c=b.jf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;break;case "Q":c=b.jf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;c=b.jf(new dvt.R(a[d+3],a[d+4]));a[d+3]=c.x;a[d+4]=c.y;break;case "C":c=b.jf(new dvt.R(a[d+1],a[d+2]));a[d+1]=c.x;a[d+2]=c.y;c=b.jf(new dvt.R(a[d+3],a[d+4]));a[d+3]=c.x;a[d+4]=c.y;c=b.jf(new dvt.R(a[d+5],a[d+6]));a[d+5]=c.x;a[d+6]=c.y;break;case "A":var c=b.jf(new dvt.R(0,0)),e=b.jf(new dvt.R(a[d+
1],0)),f=b.jf(new dvt.R(0,a[d+2])),f=Math.sqrt((f.x-c.x)*(f.x-c.x)+(f.y-c.y)*(f.y-c.y));a[d+1]=Math.sqrt((e.x-c.x)*(e.x-c.x)+(e.y-c.y)*(e.y-c.y));a[d+2]=f;c=b.jf(new dvt.R(a[d+6],a[d+7]));a[d+6]=c.x;a[d+7]=c.y}d=dvt.dc.hH(a,d+1)}};function ka(a,b,c){this.Init(a,b,c)}ba("DvtBaseDiagram",ka);dvt.v.F(ka,dvt.hc,"DvtBaseDiagram");p=ka.prototype;
p.Init=function(a,b,c){ka.C.Init.call(this,a,b,c);this.u().Re.Ua().setAttributeNS(null,"text-rendering","geometricPrecision");this.T0;this.sV=this.Er=null;this.K0;this.Xla=!0;this.Wp=new dvt.ma(a);this.wl=new dvt.ma(a);this.Vz=new dvt.ma(a);this.Vm=dvt.rd.Eza;this.eCa()};p.dT=function(){var a=this.Qa;a.WC(this.tI());a.CA(this.eF());a.SC(this.pb());a.Oa.A(this.Wp);a.Oa.A(this.wl);a.Oa.A(this.Vz)};p.SC=function(a){this.Vm=a;this.Qa&&this.Qa.SC(a)};p.pb=function(){return this.Vm};
p.CA=function(a){this.IB=a;this.Qa&&this.Qa.CA(a)};p.eF=function(){return this.IB};p.WC=function(a){this.KB=a;this.Qa&&this.Qa.WC(a)};p.tI=function(){return this.KB};p.eCa=function(){this.CA(2);this.WC(0)};p.la=function(){return null};p.qd=function(){return null};p.tJ=function(){return[]};p.uJ=function(){return[]};p.Bg=function(){return this.uJ().length};ka.prototype.getNodeCount=ka.prototype.Bg;ka.prototype.Pu=function(){return this.tJ().length};ka.prototype.getLinkCount=ka.prototype.Pu;
function ub(a,b){if(b&&a.$m)a.NK?(a.NK.Aa(a.xb/2),a.NK.eb(a.Kb/2),dvt.Ba.fd(a.NK,a.getWidth()-2*dvt.Ba.yha,Infinity,a)):a.NK=a.yza(a.$m);else if(a.NK){var c=a.NK.getParent();c&&c.removeChild(a.NK);a.NK=null}}p=ka.prototype;p.yza=function(a){var b=this.D();return dvt.Ba.yp(this,a,new dvt.Z(0,0,this.getWidth(),this.getHeight()),this.Za(),b._statusMessageStyle)};p.k5=function(a){this.$m=a};p.$I=function(a){this.Dba=a;this.Qa&&this.Qa.$I(a)};p.vI=function(){return this.Dba};p.n5=function(a){this.K0=a};
ka.prototype.setInitAnim=ka.prototype.n5;p=ka.prototype;p.Th=function(){return this.Yc};p.xy=function(a){this.Yc="single"==a?new dvt.Sc(dvt.Sc.Yy):"multiple"==a?new dvt.Sc(dvt.Sc.Xy):null;this.Za().EA(this.Yc)};function Ga(a){return a.Yc?a.Yc.he():null}p.No=function(){return this.Yc?!0:!1};function wb(a){var b=new wl,c=dvt.B.ca(a.u());b.tx=c;a=new yb(0,0,a.getWidth(),a.getHeight());b.Ema=a;return b}
p.Uw=function(a,b,c,d){var e=new xl;e.setId(a.getId?a.getId():a.getData().getId());var f=Ld.TQ(a.Sg());e.xe=f;e.dw=f;f=Ld.TQ(a.ei());e.S_=f;e.ew=f;b=a.qn?a.qn(b):a.getData();e.Et(b);e.setData(b);e.av(Ld.TQ(a.ug()));e.Dg(Ld.IRa(a.uf()));e.lc(1==a.wb());a.Bb()&&(e.Ai(!0),b=xb(a.sp()),e.Bb()&&(e.Zh=b))&&(e.dw&&(e.dw=new yb(e.dw.x,e.dw.y,e.dw.w-(b.left+b.right),e.dw.h-(b.top+b.bottom))),e.ew&&(e.ew=new yb(e.ew.x,e.ew.y,e.ew.w-(b.left+b.right),e.ew.h-(b.top+b.bottom))));e.Qfa(a.Cd());e.xN=this;e.kD=!c;
e.pCa=d;return e};p.oJ=function(a,b,c,d,e){var f=new yl;f.setId(a.getId?a.getId():a.getData().getId());f.wY(b?b:a.getData().Te());f.gY(c?c:a.getData().Bd());b=a.qn?a.qn(d):a.bj?a.getData()._links:a.getData();f.Et(b);f.setData(b);f.av(Ld.TQ(a.ug()));f.Dg(Ld.IRa(a.uf()));b=a.m4();f.usa=b;b=a.F3();f.Hna=b;f.bN(a.hA());f.lc(1==a.wb());f.aJ(1==a.bj);f.pCa=e;return f};
p.FF=function(a,b,c){var d=a.sp();if(d){var e=a.Is;e&&(e=this.la(e))&&e.xF(rd(d),b)}for(var f=e=Number.MAX_VALUE,d=0;d<a.Bg();d++){var h=a.hF(d),k=this.la(h.getId()),l=h.si();l&&(e=Math.min(e,l.x),f=Math.min(f,l.y));var n=h.ug(),h=h.uf();n&&h&&(e=Math.min(e,h.x+n.x),f=Math.min(f,h.y+n.y))}for(d=0;d<a.Pu();d++){var h=a.uM(d),m=this.qd(h.getId());if(l=h.ad())for(n=af.Mha(l),k=0;k<n.length;k++)l=n[k],e=Math.min(e,l.x),f=Math.min(f,l.y);n=h.ug();h=h.uf();n&&h&&(e=Math.min(e,h.x+n.x),f=Math.min(f,h.y+
n.y))}n=this.uza(-e,-f);e=n.x;f=n.y;for(d=0;d<a.Bg();d++)h=a.hF(d),h.yN=new td(n.x,n.y),k=this.la(h.getId()),(l=h.si())&&k.qD(l.x+e,l.y+f,b),Al(h,k,Ld.HRa(l),b),k.Bb()&&(h=h.sp())&&k.xF(rd(h),b);if(!this.FG)for(d=0;d<a.Pu();d++){var h=a.uM(d),m=this.qd(h.getId()),k=this.aBa(m,h,n,b),r=k.x,q=k.y;if(l=h.ad()){0<l.length&&!isNaN(l[0])&&(l=af.i6(l));for(var v=[],k=0;k<l.length;)isNaN(l[k])?(v.push(l[k]),k++):(v.push(l[k]+r),v.push(l[k+1]+q),k+=2);b&&m.ad()?0<v.length&&isNaN(v[0])?(k=dvt.dc.DSa(m.ad(),
v),m.de(k.Cya),b.N(dvt.G.mm,m,m.ad,m.de,k.Bya),dvt.bb.Ib(b,function(){m.de(v)})):b.N(dvt.G.Yt,m,m.ad,m.de,v):m.de(v)}Al(h,m,new dvt.R(-r,-q),b)}if(b=a.CI())this.Er=new dvt.Z(b.x+e,b.y+f,b.w,b.h),this.sV=a.Is;c&&(this.T0=new dvt.R(e,f))};p.aBa=function(a,b,c,d){var e=new dvt.R(0,0);if(!a.Cd())e=c;else if(a.Cd()!=b.T_){b=b.T_;for(a=this.la(a.Cd());a;){var f=a.sp();e.x-=f.left-vd(a,d).x;e.y-=f.top-vd(a,d).y;a=a.Cd();a=a!=b?this.la(a):null}b||(e.x+=c.x,e.y+=c.y)}return e};
function Ra(a,b){var c;if(a.Er&&(c=new dvt.Z(a.Er.x,a.Er.y,a.Er.a,a.Er.b),a.sV))for(var d=a.la(a.sV);d;){var e=d.ra(),f=d.pa();if(b){var h=b.Zf(d,d.ra),k=b.Zf(d,d.pa);if(h||0==h)e=h;if(k||0==k)f=k}c.x+=e;c.y+=f;d=(d=d.Cd())?a.la(d):null}return c}p.uza=function(a,b){return new dvt.R(a,b)};p.ZC=function(a,b){if(0==this.tI()){var c=this.Qa,d=b?b:Qa(this,a,void 0,void 0);c.WC(this.bBa()*Math.min(Bl(this,d),c.eF()));return d}return null};p.bBa=function(){return 1};
function Bl(a,b){if(!b)return 0;var c=a.Qa;return Math.min((a.xb-2*c.Wx)/b.a,(a.Kb-2*c.Wx)/b.b)}
function Qa(a,b,c,d){var e=null,f,h,k,l,n=a.Qa.Oa;c||(c=a.uJ());for(var m=0;m<c.length;m++)if(f=c[m],(l=a.la(f))&&l.nc&&!l.ig){var r=l,q=b;f=r.Sg();h=new dvt.Z(f.x,f.y,f.a,f.b);k=null;q&&(k=q.Zf(r,r.uf));k||(k=r.uf());var v=null,x=null;q&&(v=q.Zf(r,r.aF),x=q.Zf(r,r.bF));null==v&&(v=r.Sn);x||(x=r.en);r=r.ug();k&&r&&(null!=v&&(r=Cl(r,v,x)),h.x=Math.min(f.x,r.x+k.x),h.y=Math.min(f.y,r.y+k.y),h.a=Math.max(f.x+f.a,r.x+k.x+r.a)-h.x,h.b=Math.max(f.y+f.b,r.y+k.y+r.b)-h.y);f=h;k=h=null;b&&(h=b.Zf(l,l.ra),
k=b.Zf(l,l.pa));null==h&&(h=l.ra());null==k&&(k=l.pa());f.x+=h;f.y+=k;if(h=l.Cd())h=l.getParent(),l=md(new dvt.R(f.x,f.y),h,b),l=nd(l,n,b),h=md(new dvt.R(f.x+f.a,f.y+f.b),h,b),h=nd(h,n,b),f.x=l.x,f.y=l.y,f.a=h.x-l.x,f.b=h.y-l.y;e?(l=e.x,h=e.y,e.x=Math.min(e.x,f.x),e.y=Math.min(e.y,f.y),e.a=Math.max(l+e.a,f.x+f.a)-e.x,e.b=Math.max(h+e.b,f.y+f.b)-e.y):e=f}d||(d=a.tJ());for(m=0;m<d.length;m++)if(c=d[m],(c=a.qd(c))&&c.nc){l=c;h=b;f=new dvt.Z(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);
k=null;h&&(k=h.Zf(l,l.ad));k||(k=l.ad());if(k){k=af.Mha(k);for(var u=void 0,u=r=x=v=void 0,q=0;q<k.length;q++)u=k[q],v=Math.max(f.x+f.a,u.x),x=Math.max(f.y+f.b,u.y),r=Math.min(f.x,u.x),u=Math.min(f.y,u.y),f.x=r,f.y=u,f.a=v-r,f.b=x-u}k=new dvt.Z(f.x,f.y,f.a,f.b);v=null;h&&(v=h.Zf(l,l.uf));null==v&&(v=l.uf());r=x=null;h&&(x=h.Zf(l,l.aF),r=h.Zf(l,l.bF));null==x&&(x=l.Sn);r||(r=l.en);l=l.ug();v&&l&&(null!=x&&(l=Cl(l,x,r)),k.x=Math.min(f.x,l.x+v.x),k.y=Math.min(f.y,l.y+v.y),k.a=Math.max(f.x+f.a,l.x+v.x+
l.a)-k.x,k.b=Math.max(f.y+f.b,l.y+v.y+l.b)-k.y);f=k;if(h=c.Cd())c=c.getParent(),l=md(new dvt.R(f.x,f.y),c,b),l=nd(l,n,b),h=md(new dvt.R(f.x+f.a,f.y+f.b),c,b),h=nd(h,n,b),f.x=l.x,f.y=l.y,f.a=h.x-l.x,f.b=h.y-l.y;e?(l=e.x,h=e.y,e.x=Math.min(e.x,f.x),e.y=Math.min(e.y,f.y),e.a=Math.max(l+e.a,f.x+f.a)-e.x,e.b=Math.max(h+e.b,f.y+f.b)-e.y):e=f}return e}
function Cl(a,b,c){if(null==b&&!c)return a;var d=new dvt.R(a.x,a.y),e=new dvt.R(a.x+a.a,a.y),f=new dvt.R(a.x,a.y+a.b);a=new dvt.R(a.x+a.a,a.y+a.b);var h=new dvt.Ub;null!=b&&(c&&h.translate(-c.x,-c.y),h.rotate(b),c&&h.translate(c.x,c.y));b=h.jf(d);e=h.jf(e);f=h.jf(f);a=h.jf(a);h=Math.min(Math.min(b.x,e.x),Math.min(f.x,a.x));c=Math.min(Math.min(b.y,e.y),Math.min(f.y,a.y));return new dvt.Z(h,c,Math.max(Math.max(b.x,e.x),Math.max(f.x,a.x))-h,Math.max(Math.max(b.y,e.y),Math.max(f.y,a.y))-c)}
function nd(a,b,c){for(var d=b.h4(),e=a,f=d.length-1;0<=f;f--){b=d[f];a=b.sb().clone();var h=null,k=null;c&&(h=c.Zf(b,b.ra),k=c.Zf(b,b.pa));null!=h&&(a.le=h);null!=k&&(a.ge=k);a.nF();e=a.jf(e)}return e}function md(a,b,c){for(var d=b.h4(),e=a,f=0;f<d.length;f++){b=d[f];a=b.sb().clone();var h=null,k=null;c&&(h=c.Zf(b,b.ra),k=c.Zf(b,b.pa));null!=h&&(a.le=h);null!=k&&(a.ge=k);e=a.jf(e)}return e}
p.OY=function(a,b,c,d,e){var f=this.Qa,h=f.te().a/2,k=f.te().b/2;c=h-(c+a)*e;d=k-(d+b)*e;a=h-a*e;b=k-b*e;this.Er&&(k=Ra(this),-k.x*e<c?(h=c+k.x*e,c-=h,a+=h):-k.x*e>a&&(h=-k.x*e-a,c-=h,a+=h),-k.y*e<d?(e=d+k.y*e,d-=e,b+=e):-k.y*e>b&&(e=-k.y*e-b,d-=e,b+=e));f.rY(c);f.sY(d);f.pY(a);f.qY(b)};function rd(a){var b={};b.top=a.top;b.right=a.right;b.bottom=a.bottom;b.left=a.left;return b}function xb(a){var b={};b.top=a.top;b.right=a.right;b.bottom=a.bottom;b.left=a.left;return b}p.SI=function(){};
function sd(a,b){var c=b.Bb()?b.sp():null;c&&a.xF(c.top,c.right,c.bottom,c.left);c=Ld.TQ(b.Sg());a.xe=c;a.dw=c;c=Ld.TQ(b.ei());a.S_=c;a.ew=c;a.av(Ld.TQ(b.ug()));a.kD=!0}
function Al(a,b,c,d){var e=a.ug(),e=Ld.pjb(e),f=a.uf();if(e&&f){c=new dvt.R(f.x-c.x,f.y-c.y);var f=a.Sn,h=Ld.HRa(a.en);d?(d.N(dvt.G.wD,b,b.ug,b.av,e),b.uf()?d.N(dvt.G.qG,b,b.uf,b.Dg,c):b.Dg(c),null!=f&&d.N(dvt.G.V,b,b.aF,b.YI,f),h&&(b.en?d.N(dvt.G.qG,b,b.bF,b.BF,h):b.BF(h))):(b.av(e),b.Dg(c),b.bga(a.gX(),a.Ez),null!=f&&b.YI(f),h&&b.BF(h))}}function Gg(a,b){this.Init(a,b)}dvt.v.F(Gg,dvt.WN,"DvtBaseDiagramKeyboardHandler");p=Gg.prototype;p.Init=function(a,b){Gg.C.Init.call(this,a,b);this.L=a};
p.Ma=function(){return this.L};p.qF=function(a){return a.keyCode==dvt.KeyboardEvent.Nh?!1:this.Si(a)&&!a.ctrlKey};p.Vu=function(a){return a.keyCode==dvt.KeyboardEvent.ki&&a.ctrlKey};p.dX=function(a,b,c){b=b.keyCode;if(!c||1>c.length||!a)return null;var d=c[0];a=a.tf();a=a.x+a.a/2;for(var e=0;e<c.length;e++){var f=c[e],h=f.tf(),h=h.x+h.a/2;if(b==dvt.KeyboardEvent.YA&&h<=a||b==dvt.KeyboardEvent.KA&&h>=a){d=f;break}}return d};
p.oea=function(a,b,c,d){if(!d)return null;if(!b)return d[0];if(!a)return b;for(var e=0;e<d.length;e++){var f=d[e],h=f,k=a,l=f,n=this.IN(l.Te?l.Te():l.getData().Te()),l=this.IN(l.Bd?l.Bd():l.getData().Bd()),n=k==n?l:n,k=Dl(k),n=Dl(n),k=Math.atan2(n.y-k.y,n.x-k.x),k=0>k?k+2*Math.PI:k;h.kla=k;n=h=f;k=this.IN(n.Te?n.Te():n.getData().Te());n=this.IN(n.Bd?n.Bd():n.getData().Bd());k=Dl(k);n=Dl(n);h.sO=Math.sqrt(Math.pow(n.x-k.x,2)+Math.pow(n.y-k.y,2));h=f;f=a==this.IN(f.Bd?f.Bd():f.getData().Bd())?1:0;h.f_=
f}d.sort(El());for(a=0;a<d.length;a++)e=d[a],e.kla=void 0,e.sO=void 0,e.f_=void 0;c=c.keyCode==dvt.KeyboardEvent.Uf?!0:!1;for(e=a=0;e<d.length;e++)if(d[e]===b){a=c?e==d.length-1?0:e+1:0==e?d.length-1:e-1;break}return d[a]};p.IN=function(){return null};function Dl(a){a=a.tf();return new dvt.R(a.x+a.a/2,a.y+a.b/2)}function El(){return function(a,b){var c=a.kla,d=b.kla,e=-1;!Fl(c,d)&&c>d?e=1:Fl(c,d)&&(a.sO>b.sO?e=1:b.sO==a.sO&&a.f_>b.f_?e=1:b.sO==a.sO&&a.f_==b.f_&&(e=0));return e}}
function Fl(a,b){var c=1E-7>=Math.abs(a-b);c||(c=1E-7>=Math.abs(2*Math.PI+Math.min(a,b)-Math.max(a,b)));return c}function je(a,b,c){this.Init(a,b,c)}dvt.v.F(je,dvt.ma,"DvtBaseDiagramNode");p=je.prototype;p.Init=function(a,b,c){je.C.Init.call(this,a,null,b);this.L=c;this.Lg=this.Xm=!1;this.wQ=!0;this.Fb;this.P0;this.Sn;this.en;this.Ir;this.Qn};p.Ma=function(){return this.L};p.getData=function(){return null};p.Sg=function(){return this.ei()};p.ei=function(){return new dvt.Z(0,0,this.getWidth(),this.getHeight())};
p.Dg=function(a){if(a){this.P0=a;var b=this.Fb;this.ug();b&&(a=cf(a,this.Sn,this.en),b.rb(a))}};p.uf=function(){return this.P0};p.ug=function(){return null};p.av=function(){};p.sp=function(){return null};p.xF=function(){};p.Bb=function(){return this.Xm};p.Ai=function(a){this.Xm=a};p.wb=function(){return this.Lg};je.prototype.isSelected=je.prototype.wb;p=je.prototype;p.lc=function(a){this.Lg=a};p.jj=function(a){this.wQ=a};p.tb=function(){return this.Ma().No()&&this.wQ};p.m5=function(a){this.ig=a};
p.Uob=function(){return this.ig};p.YI=function(a){this.Sn=a;var b=this.Fb;this.ug();b&&(a=cf(this.uf(),a,this.en),b.rb(a))};p.aF=function(){return this.Sn};p.BF=function(a){this.en=a;var b=this.Fb;this.ug();b&&(a=cf(this.uf(),this.Sn,a),b.rb(a))};p.bF=function(){return this.en};function cf(a,b,c){var d=new dvt.Ub;null!=b&&(c&&d.translate(-c.x,-c.y),d.rotate(b),c&&d.translate(c.x,c.y));a&&d.translate(a.x,a.y);return d}
p.qD=function(a,b,c){c?(c.N(dvt.G.V,this,this.ra,this.ha,a),c.N(dvt.G.V,this,this.pa,this.va,b)):this.Na(a,b)};function vd(a,b){var c,d;b&&(c=b.Zf(a,a.ra),d=b.Zf(a,a.pa));null==c&&(c=a.ra());null==d&&(d=a.pa());return new dvt.R(c,d)}p.Fd=function(){return null};p.tf=function(a){var b=this.ei(a);a=this.Ld(new dvt.R(b.x,b.y));b=this.Ld(new dvt.R(b.x+b.a,b.y+b.b));return new dvt.Z(a.x,a.y,b.x-a.x,b.y-a.y)};p.Mm=function(){return this.Ua()};p.Tf=function(){};p.Qd=function(){};p.Kd=function(){};p.Zd=function(){return null};
function Fb(a,b){a.Ir||(a.Ir=[]);a.Ir.push(b)}function Gb(a,b){a.Qn||(a.Qn=[]);a.Qn.push(b)}p.bga=function(){};p.Cd=function(){return null};function ud(a,b){if(a.qc){var c=b?b.Zf(a.qc,a.qc.ra,!0):a.qc.ra(),d=b?b.Zf(a.qc,a.qc.pa,!0):a.qc.pa();return new dvt.R(c,d)}return null}function Nd(a,b,c){this.Init(a,b,c)}dvt.v.F(Nd,dvt.ma,"DvtBaseDiagramLink");p=Nd.prototype;
p.Init=function(a,b,c){Nd.C.Init.call(this,a,null,b);this.L=c;this.zG;this.yl;this.SB;this.Fb;this.P0;this.Sn;this.en;this.Lg=!1;this.wQ=!0;this.ba;this.Dj;this.Jj};p.Ma=function(){return this.L};p.l5=function(){};p.kt=function(){return null};p.w5=function(){};p.Mnb=function(){return this.Jj};Nd.prototype.getStartConnector=Nd.prototype.Mnb;Nd.prototype.Wlb=function(){return this.Dj};Nd.prototype.getEndConnector=Nd.prototype.Wlb;p=Nd.prototype;p.bJ=function(a){this.ba=a};p.Nc=function(){return this.ba};
p.YI=function(a){this.Sn=a;var b=this.Fb;this.ug();b&&(a=Gl(this.uf(),a,this.en),b.rb(a))};p.aF=function(){return this.Sn};p.BF=function(a){this.en=a;var b=this.Fb;this.ug();b&&(a=Gl(this.uf(),this.Sn,a),b.rb(a))};p.bF=function(){return this.en};p.uf=function(){return this.P0};p.Dg=function(a){if(a){this.P0=a;var b=this.Fb;this.ug();b&&(a=Gl(a,this.Sn,this.en),b.rb(a))}};p.ug=function(){return null};p.av=function(){};p.m4=function(){return 0};p.F3=function(){return 0};p.jj=function(a){this.wQ=a};
p.tb=function(){return this.Ma().No()&&this.wQ};p.wb=function(){return this.Lg};Nd.prototype.isSelected=Nd.prototype.wb;p=Nd.prototype;p.lc=function(a){this.Lg=a};p.aJ=function(a){this.bj=a};p.CVa=function(){return this.bj};p.bN=function(){};p.hA=function(){return 1};Nd.prototype.getLinkWidth=Nd.prototype.hA;p=Nd.prototype;p.mY=function(){};p.wM=function(){return"solid"};p.lY=function(){};p.dF=function(){return null};p.Mu=function(){return null};p.Jha=function(){return this.wM()};p.OA=function(){return this.hA()};
p.MAa=function(){return this.dF()};function Sd(a,b,c,d,e){if(c||e){var f;e||(f=a.ba.Ud().clone(),f.bo(dvt.Xc.Vt),f.Mf(!1));if(c=Td.xza(a.u(),c,e,f,a))a.ba.A(c),Td.AT(c,0,e,b,d);return c}}
p.de=function(a){this.zG=a;af.n7(a)?(this.SB=a,this.yl=af.wza(a)):(this.yl=a,this.SB=af.i6(a));this.ba&&this.ba instanceof dvt.vb&&(this.ba.Bt(this.SB),this.Dj?Td.AT(this.Dj,this.kt(),this.Mu(Td.LS),this.yl,1):this.Dj=Sd(this,this.yl,this.kt(),1,this.Mu(Td.LS)),this.Jj?Td.AT(this.Jj,this.Tu(),this.Mu(Td.sT),this.yl,0):this.Jj=Sd(this,this.yl,this.Tu(),0,this.Mu(Td.sT)));var b=a=null;this.Kg&&this.Kg.YL instanceof dvt.vb&&this.Kg.YL.Bt(this.SB);this.Kg&&(a=this.Kg.Xz)&&Td.AT(a,this.Tu(),this.Mu(Td.sT),
this.yl,0);this.Kg&&(b=this.Kg.Wz)&&Td.AT(b,this.kt(),this.Mu(Td.LS),this.yl,1);this.Dx&&this.Dx.YL instanceof dvt.vb&&this.Dx.YL.Bt(this.SB);this.gW&&this.gW.setPosition(Wd(this));this.LU&&this.LU.setPosition(Xd(this))};p.ad=function(){return this.zG};function Wd(a){return a.yl?new dvt.R(a.yl[0],a.yl[1]):null}function Xd(a){if(!a.yl)return null;var b=a.yl.length;return new dvt.R(a.yl[b-2],a.yl[b-1])}
function Gl(a,b,c){var d=new dvt.Ub;null!=b&&(c&&d.translate(-c.x,-c.y),d.rotate(b),c&&d.translate(c.x,c.y));a&&d.translate(a.x,a.y);return d}p.WY=function(a,b,c){b||0==b||(b=1);c||0==c||(c=0);c=this.OA()+c;a=new dvt.xa(a,b,c);return new Hl(this.u(),this.SB,a)};
function Qd(a,b,c,d){b=a.WY(b,c,d);a.Jj&&a.Tu()&&(c=a.Tu(),d=Il(b,a.yl,c,a.Mu(Td.sT),a,0),b.Xz&&b.removeChild(b.Xz),b.Xz=d,b.Lsa=c,b.A(b.Xz));a.Dj&&a.kt()&&(c=a.kt(),a=Il(b,a.yl,c,a.Mu(Td.LS),a,1),b.Wz&&b.removeChild(b.Wz),b.Wz=a,b.Ksa=c,b.A(b.Wz));return b}p.DY=function(a,b){var c=this.Jha(),c=af.PY(c);a.bo(c,af.M6(c,b),af.N6(c,b))};
function Pd(a,b){if(a){var c=null;b.gc&&(c=b.gc());if(c){var d=a.Ud()?a.Ud().clone():null,e=a.gd()?a.gd().clone():null;d&&d.Nw&&(d.Nw(c),a.Ga(d));e&&e.Nw&&(e.Nw(c),a.qa(e))}}}p.Fd=function(){return null};p.tf=function(a){return this.aa(a)};p.Mm=function(){return this.Ua()};p.Tf=function(){};p.Qd=function(){};p.Kd=function(){};p.Zd=function(){return null};p.bga=function(){};p.Cd=function(){return null};var Ld={};dvt.v.F(Ld,dvt.v,"DvtDiagramLayoutUtils");
Ld.nob=function(a){for(var b=Ld.Kmb(a),c=Math.max(b.w,b.h),b=a.Bg(),d=a.Pu(),e=Math.floor(Math.sqrt(b)),f=0,f=(f=a.qn())&&f.padding?f.padding:0<d?c:.25*c,c=c+f,d=-(Math.ceil(b/e)-1)*c/2,f=-(e-1)*c/2,h=0;h<b;h++)Ld.djb(a.hF(h),d+c*Math.floor(h/e),f+h%e*c)};Ld.Kmb=function(a){for(var b=a.Bg(),c=0,d=0,e=0;e<b;e++){var f=a.hF(e),h=f.Sf(),c=Math.max(h.w,c),d=Math.max(h.h,d);if(f=f.ug())c=Math.max(f.w,c),d=Math.max(h.h+f.h,d)}return new yb(0,0,c,d)};
Ld.djb=function(a,b,c){var d=a.ei();a.setPosition(new td(b-d.x-.5*d.w,c-d.y-.5*d.h));Ld.zqb(a)};Ld.zqb=function(a){var b=a.Sf(),c=a.si(),d=a.ug();d&&a.Dg(new td(b.x+c.x+.5*(b.w-d.w),b.y+c.y+b.h))};Ld.TQ=function(a){return void 0===a||null==a?null:new yb(a.x,a.y,a.a,a.b)};Ld.IRa=function(a){return void 0===a||null==a?null:new td(a.x,a.y)};Ld.pjb=function(a){return a?new dvt.Z(a.x,a.y,a.w,a.h):null};Ld.HRa=function(a){return a?new dvt.R(a.x,a.y):null};
function Hl(a,b,c){Hl.C.Init.call(this,a);this.Init(a,b,c)}dvt.v.F(Hl,dvt.ma,"DvtDiagramLinkUnderlay");Hl.prototype.Init=function(a,b,c){b||(b=["M",0,0,"L",1,0]);this.$s=c;this.$s||(this.$s=new dvt.xa("#ffffff",1,1));this.YL=new dvt.vb(a,b);this.YL.Ga(c);this.YL.qa(null);this.A(this.YL);this.Ksa=this.Wz=this.Lsa=this.Xz=null};function Il(a,b,c,d,e,f){a=Td.xza(a.u(),c,d,a.$s,e);Td.AT(a,0,d,b,f);return a}
Hl.prototype.Ga=function(a,b){this.$s=a;dvt.B.Wa()&&dvt.B.rq()&&1==dvt.B.eR()&&a.Mf(!0);this.YL.Ga(a);if(this.Xz){var c=a.clone();c.bo(dvt.Xc.Vt);c.Mf(!1);if(this.Lsa==Td.X5||this.Lsa==Td.Y5)c.Xa(b),this.Xz.ib(a.gc());this.Xz.Ga(c)}if(this.Wz){c=a.clone();c.bo(dvt.Xc.Vt);c.Mf(!1);if(this.Ksa==Td.X5||this.Ksa==Td.Y5)c.Xa(b),this.Wz.ib(a.gc());this.Wz.Ga(c)}};Hl.prototype.Ud=function(){return this.$s};var af={};dvt.v.F(af,dvt.v,"DvtDiagramLinkUtils");
af.PY=function(a){var b=dvt.Xc.Vt;switch(a){case "dash":b=dvt.Xc.eD;break;case "dot":b=dvt.Xc.ZY;break;case "dashDot":b=dvt.Xc.jha}return b};af.M6=function(a,b){if(dvt.Xc.Vt==a)return null;if(dvt.Xc.eD==a)return b?"8,2":"6,4";if(dvt.Xc.ZY==a)return b?"4,1":"2,3";if(dvt.Xc.jha==a)return b?"10,1,4,1":"8,3,2,3"};af.N6=function(a,b){return b&&dvt.Xc.Vt!=a?1:null};af.Pnb=function(a){var b=af.PY(a);return{_type:a,strokeDasharray:af.M6(b,void 0),strokeDashoffset:af.N6(b,void 0)}};
af.Pqb=function(a){return a?(a=a.split(/[\s,]+/),0<a.length%2&&(a=a.concat(a)),a.toString()):a};af.Blb=function(a){if(a){a=a.split(/[\s,]+/);for(var b="",c=0;c<a.length;c++){var d=dvt.j.nk(dvt.Nd.trim(a[c])),b=b+(0==c%2?d+2:2<=d?d-2:0);c<a.length-1&&(b+=", ")}return b}return null};af.i6=function(a){var b=[];if(a)for(var c=0;c<a.length;c+=2)0==c?b.push("M"):b.push("L"),b.push(a[c]),b.push(a[c+1]);return b};af.wza=function(a){var b=[];if(a)for(var c=0;c<a.length;c++)isNaN(a[c])||b.push(a[c]);return b};
af.n7=function(a){return a&&0<a.length?isNaN(a[0]):!1};af.Mha=function(a){var b=[];a=af.n7(a)?af.wza(a):a;for(var c=0;c<a.length;c+=2)b.push(new dvt.R(a[c],a[c+1]));return b};var Td={};dvt.v.F(Td,dvt.v,"DvtDiagramLinkConnectorUtils");Td.LS="endConnector";Td.sT="startConnector";Td.mza="arrowOpen";Td.X5="arrow";Td.Y5="arrowConcave";Td.oza="rectangle";Td.pza="rectangleRounded";Td.nza="circle";
Td.xza=function(a,b,c,d,e){if(c)return Td.$Ya(c,e);c=e.OA();switch(b){case Td.X5:return Td.aZa(a,c,e.dF());case Td.Y5:return Td.bZa(a,c,e.dF());case Td.mza:return Td.gZa(a,c,d);case Td.nza:return Td.ZYa(a,c,d);case Td.oza:return Td.Cza(a,c,d);case Td.pza:return Td.mZa(a,c,d)}return null};Td.AT=function(a,b,c,d,e){b=Td.MYa(a,c,d,e);a.rb(b)};
Td.MYa=function(a,b,c,d){var e=-1,f=0,h=0,k=0;c&&(f=c.length,1===d?(2<=f&&(h=c[f-2],k=c[f-1]),4<=f?(e=c[f-4],f=c[f-3]):(e=h-1E-4,f=k)):(2<=f&&(h=c[0],k=c[1]),4<=f?(e=c[2],f=c[3]):(e=h+1E-4,f=k)));c=h;d=k;e=Td.LYa(e,f,h,k);h=a.r9a;h||(h=a.sb().clone(),a.r9a=h);k=new dvt.Ub;b&&(b=Td.RJa(a),f=a.qe(),a=a.Be(),k.translate(-.5*b.a*f,-.5*b.b*a));k.rotate(e);k.translate(c,d);k.concat(h);return k};Td.RJa=function(a){var b=a.Q8a;b||(b=a.aa(),a.Q8a=b);return b};
Td.LYa=function(a,b,c,d){return Math.atan2(d-b,c-a)};Td.bZa=function(a,b,c){b=6*Td.gaa(b);var d=.8*b;a=new dvt.ji(a,[-.22*b,-.5*d,.78*b,0,-.22*b,.5*d,0,0]);a.ib(c);return a};Td.aZa=function(a,b,c){b=5*Td.gaa(b);var d=.8*b;a=new dvt.ji(a,[0,-.5*d,b,0,0,.5*d]);a.ib(c);return a};Td.gaa=function(a){return 1>=a?a:1+.5*(a-1)};Td.gZa=function(a,b,c){b*=3;var d=c.getWidth();a=new dvt.hx(a,[-b+d*Math.sqrt(2)/2,-b,d*Math.sqrt(2)/2,0,-b+d*Math.sqrt(2)/2,b]);a.Ga(c);a.qa(null);return a};
Td.WSa=function(a){return 2*a};Td.qUa=function(a){return 3*a};Td.ZYa=function(a,b,c){b=Td.WSa(b);a=new dvt.Qm(a,b,0,b);a.Ga(c);a.qa(null);return a};Td.Cza=function(a,b,c){b=Td.qUa(b);a=new dvt.Rect(a,0,-b/2,b,b);a.Ga(c);a.qa(null);return a};Td.mZa=function(a,b,c){a=Td.Cza(a,b,c);a.TC(b);return a};Td.$Ya=function(a,b){var c=Aa(b.Ma()),d=b.getData().Rp;c.zx=d;c.VI(b,b.n3);d=b.wR();c.Tx=d;return K.RR(c,a,b)};Td.SAa=function(a,b,c,d,e){return c?(b=Td.RJa(a),a=a.qe(),.5*b.a*a):Td.wva(b,e.OA(),d.getWidth())};
Td.wva=function(a,b,c){switch(a){case Td.mza:return c*Math.sqrt(2);case Td.X5:return a=Td.gaa(b),5*a;case Td.Y5:return a=Td.gaa(b),4.68*a;case Td.nza:return 2*Td.WSa(c)+c/2;case Td.oza:case Td.pza:return Td.qUa(c)+c/2;default:return 0}};
dvt.eg=function(a,b,c){this.Init(a,b,c)};ba("dvt.Diagram",dvt.eg);dvt.v.F(dvt.eg,ka);dvt.eg.prototype.Init=function(a,b,c){dvt.eg.C.Init.call(this,a,b,c);this.Xg=new Jl;this.H=new Kl(a,this.ag,this);this.H.Lf(this);dvt.B.Wa()||this.H.cs(new Ll(this,this.H));this.oc={};this.Gq=[];this.BG=[];this.be={};this.dB=[];this.b0=this.Rz=0};dvt.eg.newInstance=function(a,b,c){return new dvt.eg(a,b,c)};dvt.eg.newInstance=dvt.eg.newInstance;p=dvt.eg.prototype;
p.oT=function(){!this.Ss&&this.mh&&("none"!=this.AU&&(this.Ao={id:this.getId(),getId:function(){return this.id},options:this.D(),getOptions:function(){return this.options},panZoomMatrix:this.Qa.Oa.sb(),getPanZoomMatrix:function(){return this.panZoomMatrix},nodes:this.oc?Ml(this):{},roots:this.BG?Nl(this):[],links:this.be?Ol(this):[],linkIds:this.tJ(),getNodes:function(){return this.nodes},getRoots:function(){return this.roots},getLinks:function(){return this.links},getLinkIds:function(){return this.linkIds}},
this.Ao.D=this.Ao.getOptions,this.Ao.enb=this.Ao.getPanZoomMatrix,this.Ao.getId=this.Ao.getId,this.Ao.eUa=this.Ao.getNodes,this.Ao.rnb=this.Ao.getRoots,this.Ao.KTa=this.Ao.getLinks,this.Ao.Cmb=this.Ao.getLinkIds),this.nz=this.Qa.CI(),this.mh=!1,this.GV=this.Qa);this.Ss||this.xja()};p.xja=function(){this.Wp=new dvt.ma(this.u());this.wl=new dvt.ma(this.u());this.Vz=new dvt.ma(this.u());this.oc={};this.Gq=[];this.BG=[];this.be={};this.dB=[];this.sU=this.FL=this.eE=null};
p.cw=function(){this.ai&&(this.removeChild(this.ai),this.ai.ya());this.ai=null;this.Xb&&this.Za().Lf(this);this.em||this.Aq();this.Xb=null;this.em=!1};p.tg=function(a,b){var c=new dvt.jd(this.u(),null,a.pb()),d=b.enb(),e=this.Qa.Oa.sb();d.He(e)||(this.Qa.Oa.rb(d),c.ka.N(dvt.G.$i,this.Qa.Oa,this.Qa.Oa.sb,this.Qa.Oa.rb,e));a.Ho(b.rnb(),this.BG?Nl(this):[]);a.Ho(b.KTa(),this.be?Ol(this):[]);a.add(c,1)};
function Pl(a,b){var c=void 0===b.nodes&&a.D().childNodes?a.D().childNodes:b.nodes,d=b.id;if(c&&Ql(a,d))if(c instanceof Function&&(d={id:d,type:"node",label:b.label,data:b,component:a.D().childNodes},c=c(d)),Array.isArray(c))for(d=0;d<c.length;d++)Pl(a,c[d]);else if(c.then){a.b0++;var e=a.Rz;c.then(function(c){Rl(a,e,b,c)},function(){Rl(a,e,b,null)})}}function Rl(a,b,c,d){if(b===a.Rz){a.b0--;c.nodes=d;if(Array.isArray(d))for(b=0;b<d.length;b++)Pl(a,c.nodes[b]);0===a.b0&&a.Ut()}}
p.In=function(){dvt.eg.C.In.call(this);this.dT();this.b0=0;if(!this.mh&&!this.Ss){this.Rz++;var a=this.D().nodes;if(a)for(var b=0;b<a.length;b++)Pl(this,this.D().nodes[b])}0===this.b0&&this.Ut()};
p.Ut=function(a){var b=!1;if(!this.mh&&!this.Ss){Sl(this);Tl(this);var c=[],d;for(d in this.oc)c.push(d);b=0===c.length;this.u().aN([this])}if(b)Ul(this,a,b);else{this.contains(this.GV)||this.A(this.GV);var c=this.Kw(a),e=this,f=this.Rz;c.then(function(){f===e.Rz&&Ul(e,a,b)},function(){f===e.Rz&&(e.removeChild(e.GV),e.GV=null,e.mh=!0,this.nz=null)})}};
function Ul(a,b,c){var d;if(!c){a.removeChild(a.GV);a.IH();a.TB();a.lC();if(d=null==a.tm)a.tm=Qa(a,b,void 0,void 0);var e=a.Qa;if(a.mh)a.Ss&&(f=a.ZC(b,a.tm),h=a.Er?Ra(a):f?f:a.tm,e.sga(!0),e.Jt(null,h),e.sga(a.dI));else{a.ZC(b,a.tm);if(!a.Ss){var f=a.Er?!0:!1,h=f?Ra(a):a.tm;f&&e.CXa();e.Jt(null,h)}e.XC(a.RB);e.$I(a.vI());e.yY(a.dI);e.sga(a.dI)}}a.GV=null;a.mh||(a.Bq(!0),dvt.B.wj()&&a.K0&&!a.Ao?a.Xb=dvt.pc.$E(a.u(),a.K0,a,null,a.pb()):"none"!=a.AU&&a.Ao&&(a.ai=new dvt.ma(a.u(),"Delete Container"),
a.A(a.ai),e=new Vl(a.u(),a.ai,a.Ao,a),e.Ho([a.Ao],[a]),a.Xb=e.xw()),a.Xb?(a.Za().ue(),a.Za().Pj(a),a.Xb.mg(a.cw,a),a.Xb.play()):a.cw());a.mh=!0;a.nz=null;ub(a,c);a.RB&&(c=a.tm,null!=c&&(b=a.Qa.xg(b),a.OY(c.x,c.y,c.a,c.b,b)));a.Er=null;a.sV=null;d&&(a.tm=null)}
p.yf=function(a){dvt.eg.C.yf.call(this,a);this.dxa(this.W);this.RB="none"!=this.W.panning;this.dI="none"!=this.W.zooming;this.Tfa("hidden");this.AU=this.W.animationOnDataChange;this.n5("auto"==this.W.animationOnDisplay?dvt.pc.YC:null);this.xy(this.W.selectionMode);this.k5(this.W.emptyText?this.W.emptyText:dvt.I.Ef(this.W,"labelNoData",dvt.I.Ia,"NO_DATA"))};dvt.eg.Or=function(a){return(new Jl).Or(a)};p=dvt.eg.prototype;p.eF=function(){var a=this.D().maxZoom,a=parseFloat(a);return 0<a?a:1};
p.tI=function(){var a=this.D().minZoom;if(a){var b=parseFloat(a);0<b&&(a=Math.min(b,this.eF()));return a}return 0};p.vI=function(){return this.D().panDirection};p.pb=function(){return dvt.Ta.Vr(this.D().styleDefaults.animationDuration)/1E3};p.ag=function(a){var b=a.type;"categoryHighlight"==b?this.IH(!0):"selection"==b&&(this.D().selection=a.selection);a&&this.dispatchEvent(a)};function Sl(a){var b=a.D().nodes;b&&(Wl(a,null,b),a.nv||(b=a.D().expanded,a.nv=b?"all"===b?a.Gq:b:[]))}
function Tl(a){var b=a.D().links;if(b){var c=a.D().styleDefaults.linkDefaults;Xl(c);c.style=dvt.bc.Vd(c.style,c._style);for(var d=0;d<b.length;d++){var e=b[d],f;f=a;var h=e,k=f.la(h.startNode),l=f.la(h.endNode);if(k&&l||!f.sU)f=!1;else if(k=k?k.getId():Yl(f,h.startNode),l=l?l.getId():Yl(f,h.endNode),k&&l&&k!==l){var n="_plL"+k+"_L"+l;f.FL||(f.FL={});f.FL[n]?f.FL[n]._links.push(h):f.FL[n]={id:n,startNode:k,endNode:l,_links:[h]};f=!0}else f=!1;f||(Xl(e),e=dvt.bc.Vd(e,c),e=new Zl(a.u(),a,e,!1),f=e.getId(),
a.dB.push(f),e.wwa()||(h=a.la(e.Te()),k=a.la(e.Bd()),Fb(h,f),Gb(k,f),e.ta(),a.be[f]=e))}if(a.FL){b=a.D().styleDefaults.promotedLink;Xl(b);b.style=dvt.bc.Vd(b.style,b._style);for(var m in a.FL)e=a.FL[m],e=dvt.bc.Vd(e,b),e=new Zl(a.u(),a,e,!0),f=e.getId(),h=a.la(e.Te()),k=a.la(e.Bd()),Fb(h,f),Gb(k,f),e.ta(),a.dB.push(f),a.be[f]=e}}}function Xl(a){a&&null!=a.style&&(a.style instanceof Object?null==a.style._type&&(a.style._type="customStyle"):a.style=af.Pnb(a.style))}
p.Kw=function(a){for(var b=this.D().layout,c=wb(this),d={},e=0;e<this.BG.length;e++){var f=this.BG[e];if(this.la(f)){d[f]=!0;var h=this.Uw(this.la(f),null,this.mh?!1:!0,c);$l(this,this.la(f),h,c,d);c.aM(h)}}for(var k in this.be)if(e=this.qd(k))f=e.getData().startNode,h=e.getData().endNode,d[f]&&d[h]&&pb(c,this.oJ(e,f,h,null,c));this.nz&&(d=this.nz,k=this.T0?this.T0:new dvt.R(0,0),d=new yb(d.x-k.x,d.y-k.y,d.a,d.b),c.nz=d);if(b&&"function"==typeof b){var l=this;(b=b(c))||(b={then:function(a){a()}});
this.Lfa(0);var n=this.Rz;b.then(function(){if(l.Rz===n||l.Ss){l.Lfa(1);for(var b=c.Bg(),d=0;d<b;d++)l.SI(c.hF(d));l.FF(c,a,!0)}},function(){});return b}this.PN("dvt.Diagram: Layout function is not defined",1)};p.Lfa=function(a){this.mh||(this.Wp.T(a),this.wl.T(a))};p.la=function(a){return this.oc[a]};p.qd=function(a){return this.be[a]};p.tJ=function(){return this.dB};function Ol(a){var b=[],c;for(c in a.be)b.push(a.be[c]);return b}p.uJ=function(){return this.Gq};
function Ml(a){var b={},c;for(c in a.oc)b[c]=a.oc[c];return b}function am(a){var b=[],c;for(c in a.oc)b.push(a.oc[c]);return b}function Nl(a){for(var b=[],c=0;c<a.BG.length;c++){var d=a.oc[a.BG[c]];d&&b.push(d)}return b}
p.tk=function(a){dvt.eg.C.tk.call(this,a);switch(a.$n()){case dvt.yd.Q7:if(this.RB){var b=a.MB,c=this.tm?this.tm:Qa(this,a.ka,void 0,void 0);this.OY(c.x,c.y,c.a,c.b,b)}break;case dvt.yd.U7:this.Er||(c=this.tm?this.tm:Qa(this,a.ka,void 0,void 0),a.BXa(c));break;case dvt.yd.VJ:if(this.D().zoomRenderer&&a.wL!==a.MB)for(b in this.oc){var c=this.la(b),d=a;if(c.L.D().zoomRenderer){var e=c.wm(d.wL),d=c.wm(d.MB);bm(c,c.L.D().zoomRenderer,d,e)}}}};p.wWa=function(){};
p.fF=function(a){var b=[],c;for(c in this.be){var d=this.qd(c),e=d.Te(),f=d.Bd();e!=a&&f!=a||!d.nc||b.push(d)}return b};p.hm=function(){return dvt.I.wa(dvt.I.Ia,"DIAGRAM")};p.TB=function(){if(this.W.selection&&this.No()){var a=[],b;for(b in this.oc)a.push(this.la(b));for(var c in this.be)a.push(this.qd(c));this.Th().At(this.W.selection,a)}};
p.IH=function(a){a&&this.H.Pj(this);this.eE&&(this.S2(!1,this.eE),this.eE=null);var b=this.W.highlightedCategories;if(b&&0!==b.length){var c="any"==this.W.highlightMatch;this.eE={};var d=[],e;for(e in this.oc){var f=this.la(e),h=c?dvt.na.Hw(f.Zd(),b):dvt.na.w4(f.Zd(),b);h&&(this.eE[f.getId()]=f,d.push(f))}cm(this,d);var d=[],k;for(k in this.be)if(e=this.qd(k),h=c?dvt.na.Hw(e.Zd(),b):dvt.na.w4(e.Zd(),b))this.eE[e.getId()]=e,d.push(e);"linkAndNodes"==this.W.linkHighlightMode&&dm(this,d);this.S2(!0,
this.eE);if(a){var l=this;setTimeout(function(){l.Za().Lf(l)},0)}}else a&&this.H.Lf(this)};function cm(a,b){var c=a.W.nodeHighlightMode;if("node"!=c){for(var d="nodeAndIncomingLinks"==c||"nodeAndLinks"==c,c="nodeAndOutgoingLinks"==c||"nodeAndLinks"==c,e=[],f=0;f<b.length;f++)for(var h=b[f],k=d&&h.Qn?h.Qn:[],k=c&&h.Ir?k.concat(h.Ir):k,h=0;h<k.length;h++){var l=k[h];a.eE[l]=a.qd(l);e.push(a.qd(l))}dm(a,e)}}
function dm(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.Te(),d=d.Bd();a.eE[e]=a.la(e);a.eE[d]=a.la(d)}}
p.S2=function(a,b){var c;if(this.Gq.length==this.BG.length){c=a?this.W.styleDefaults._highlightAlpha:1;this.Wp.T(c);this.wl.T(c);for(var d in b)a?this.Vz.A(b[d]):b[d]instanceof Zl?this.Wp.A(b[d]):b[d]instanceof em&&this.wl.A(b[d])}else if(a){c=this.W.styleDefaults._highlightAlpha;var e={};for(d in b)b[d].T(1),e[d]=!0;for(var f in this.oc)e[f]||this.la(f).T(c);for(var h in this.be)e[h]||this.qd(h).T(c)}else{for(f in this.oc)this.la(f).T(1);for(h in this.be)this.qd(h).T(1)}};
p.Ze=function(a){this.W.highlightedCategories=dvt.bc.clone(a);this.IH()};dvt.eg.prototype.highlight=dvt.eg.prototype.Ze;dvt.eg.prototype.select=function(a){this.W.selection=dvt.bc.clone(a);this.TB()};dvt.eg.prototype.select=dvt.eg.prototype.select;dvt.eg.prototype.oh=function(){this.Rd||(this.Rd=new fm(this));return this.Rd};dvt.eg.prototype.getAutomation=dvt.eg.prototype.oh;
dvt.eg.prototype.PN=function(a,b){var c=this.D()._logger;if(c)switch(b){case 1:c.error&&c.error(a);break;case 2:c.warn&&c.warn(a);break;case 3:c.info&&c.info(a);break;default:c.log&&c.log(a)}};dvt.eg.prototype.ry=function(a,b){var c=this.la(a);c&&c.ry(b)};dvt.eg.prototype.processDefaultHoverEffect=dvt.eg.prototype.ry;dvt.eg.prototype.NI=function(a,b){var c=this.la(a);c&&c.NI(b)};dvt.eg.prototype.processDefaultSelectionEffect=dvt.eg.prototype.NI;
dvt.eg.prototype.PC=function(a,b){var c=this.la(a);c&&c.PC(b)};dvt.eg.prototype.processDefaultFocusEffect=dvt.eg.prototype.PC;dvt.eg.prototype.SI=function(a){if(!a.kD){var b=this.la(a.getId());if(b.Bb()){for(var c=wb(this),d=a.Ae(),e=0;e<d.length;e++){var f=d[e];this.SI(f);c.aM(f)}this.FF(c)}b.ta();sd(a,b)}};
function Wl(a,b,c){var d=a.D().styleDefaults.nodeDefaults;gm(d,"backgroundStyle");gm(d,"containerStyle");for(var e=0;e<c.length;e++){var f=c[e];gm(f,"backgroundStyle");gm(f,"containerStyle");var f=dvt.bc.Vd(f,d),h=new em(a.u(),a,f),k=h.getId();if(b){var l=b,n=k;l.cj||(l.cj=[]);l.cj.push(n);h.WI(b.getId())}else a.BG.push(k);a.Gq.push(k);f.nodes&&(Ql(a,k)?(h.Ai(!0),Wl(a,h,f.nodes)):(f=a,l=h,f.sU||(f.sU=[]),f.sU.push(l)));h.wwa()||(b&&b.hD()?b.hD().A(h):a.wl.A(h),a.oc[k]=h)}}
function gm(a,b){!a||null==a[b]||a[b]instanceof Object||(a[b]=dvt.j.WQ(a[b]))}dvt.eg.prototype.ZI=function(a,b){var c=-1;this.nv&&(c=dvt.na.lb(this.nv,a));(!b&&-1<c||b&&0>c)&&this.dispatchEvent(new dvt.$a.Hh(b?"beforeExpand":"beforeCollapse",a))};dvt.eg.prototype.expand=function(a){this.nv||(this.nv=[]);0>dvt.na.lb(this.nv,a)&&(this.nv.push(a),this.ta(this.D(),this.xb,this.Kb),this.dispatchEvent(new dvt.$a.Hh("expand",a)))};dvt.eg.prototype.expand=dvt.eg.prototype.expand;
dvt.eg.prototype.collapse=function(a){var b=-1;this.nv&&(b=dvt.na.lb(this.nv,a));-1<b&&(this.nv.splice(b,1),this.ta(this.D(),this.xb,this.Kb),this.dispatchEvent(new dvt.$a.Hh("collapse",a)))};dvt.eg.prototype.collapse=dvt.eg.prototype.collapse;function $l(a,b,c,d,e){if(b.Bb()){b=b.cj;for(var f=[],h=0;h<b.length;h++){var k=a.la(b[h]);if(k.nc){e[k.getId()]=!0;var l=a.Uw(k,null,a.mh?!1:!0,d),n=l;d.oc[n.getId()]=n;l.hS(c);f.push(l);$l(a,k,l,d,e)}}c.g5(f)}}
function Ql(a,b){var c=a.nv?a.nv:a.D().expanded;return c&&-1<dvt.na.lb(c,b)||c&&-1<dvt.na.lb(c,"all")}function Yl(a,b){function c(a,b){if(a)for(var d=0;d<a.length;d++)if(a[d].id===b||c(a[d].nodes,b))return!0;return!1}for(var d=0;d<a.sU.length;d++){var e=a.sU[d];if(c(e.getData().nodes,b))return e.getId()}return null}dvt.eg.prototype.lC=function(){var a=this.Za().nf(),b=!1;if(a){var c;a instanceof em?c=this.la(a.getId()):a instanceof Zl&&(c=this.qd(a.getId()));b=a.Kd();c&&b&&c.Tf();this.Za().Ow(c)}};
dvt.eg.prototype.hjb=function(){this.nv=null};dvt.eg.prototype.clearDisclosedState=dvt.eg.prototype.hjb;dvt.I.nC(dvt.I.q6,{PROMOTED_LINK:"{0} link",PROMOTED_LINKS:"{0} links",PROMOTED_LINK_ARIA_DESC:"Indirect"});function hm(a,b){hm.C.constructor.call(this,a,b);this.Osb();this.L=b}dvt.v.F(hm,dvt.uh,"DvtDiagramCategoryRolloverHandler");hm.prototype.Xha=function(a){return dvt.v.oi(this,function(){this.Xja(!0);this.L.ag(a)})};hm.prototype.Wha=function(a){return dvt.v.oi(this,function(){this.Yja();this.L.ag(a)})};
function Jl(){this.Init({skyros:im,alta:jm})}dvt.v.F(Jl,dvt.fb,"DvtDiagramDefaults");
var im={skin:dvt.j.pf,emptyText:null,selectionMode:"none",animationOnDataChange:"none",animationOnDisplay:"none",maxZoom:1,highlightMatch:"all",nodeHighlightMode:"node",linkHighlightMode:"link",panning:"none",touchResponse:"auto",zooming:"none",_statusMessageStyle:new dvt.j(dvt.fb.Sm),styleDefaults:{animationDuration:500,hoverBehaviorDelay:200,_highlightAlpha:.1,nodeDefaults:{_containerStyle:new dvt.j("border-color:#abb3ba;background-color:#f9f9f9;border-width:.5px;border-radius:1px;padding-top:20px;padding-left:20px;padding-bottom:20px;padding-right:20px;"),labelStyle:dvt.fb.B6+
"color:#383A47",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",icon:{width:10,height:10,fillPattern:"none",shape:"circle"}},linkDefaults:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"solid"},hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",labelStyle:dvt.fb.B6+"color:#383A47",_hitDetectionOffset:4},promotedLink:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"dot",
strokeDasharray:"2,3"},color:"#778999",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",_hitDetectionOffset:4}}},jm={};function Vl(a,b,c,d){this.Init(a,b,c,d)}dvt.v.F(Vl,dvt.xq,"DvtDiagramDataAnimationHandler");Vl.prototype.Init=function(a,b,c,d){Vl.C.Init.call(this,a,b);this.tqa=c;this.Ddb=d};Vl.prototype.pb=function(){return dvt.Ta.Vr(this.tqa.D().styleDefaults.animationDuration)/1E3};
Vl.prototype.Ho=function(a,b){var c=!1;b&&0<b.length&&(c=b[0]instanceof Zl);if(c&&!this.u().I4()){var c=km(a),d=km(b),e,f,h={},k;for(k in c)if(e=c[k],f=d[k])if(!e.bj&&!f.bj||e.bj&&f.bj&&e.getId()==f.getId())f.tg(this,e);else{var l=e.bj?e.getData()._links.length:1,n=f.bj?f.getData()._links.length:1;l>n&&!h[e.getId()]?lm(this,e,d,h,!0):l<n&&!h[f.getId()]&&lm(this,f,c,h,!1)}else-1==dvt.na.lb(this.Ddb.tJ(),e.getId())&&e.Mj(this);for(k in d)e=c[k],f=d[k],e||-1!=dvt.na.lb(this.tqa.Cmb(),f.getId())||f.Oi(this)}else Vl.C.Ho.call(this,
a,b)};function lm(a,b,c,d,e){for(var f=[],h=b.getData()._links,k=0;k<h.length;k++){var l=c[h[k].id];l&&-1===dvt.na.lb(f,l)&&f.push(l)}if(0<f.length){if(e){if(f&&0!=f.length)for(c=0;c<f.length;c++)f[c].tg(a,b)}else if(f&&0!=f.length)for(c=dvt.na.copy(b.ad()),b.tg(a,f[0]),e=1;e<f.length;e++)h={id:"_fakeLink"+e+b.getId()},h=dvt.bc.Vd(h,b.getData()),h=new Zl(b.Ma().u(),b.Ma(),h,!0),h.ta(),h.de(c),h.tg(a,f[e],!0);d[b.getId()]=!0}}
function km(a){for(var b={},c=0;c<a.length;c++){var d=a[c];if(d.bj)for(var e=d.getData()._links,f=0;f<e.length;f++)b[e[f].id]=d;else b[d.getId()]=d}return b}function Kl(a,b,c){this.Init(a,b,c);this.L=c}dvt.v.F(Kl,dvt.H,"DvtDiagramEventManager");p=Kl.prototype;p.zq=function(a,b,c){a=this.L.D();"dim"==a.hoverBehavior&&(b=b.Zd?b.Zd():[],a.highlightedCategories=c?b.slice():null,c=dvt.$a.LI(a.highlightedCategories,c),b=dvt.Ta.Vr(a.styleDefaults.hoverBehaviorDelay),this.PJ.ag(c,am(this.L),b,"any"==a.highlightMatch))};
p.Zga=function(a,b){return new hm(a,b)};p.nl=function(a){var b=!0,c=a.keyCode,d=this.nf(),e=d instanceof em?d.Nv:null;c!=dvt.KeyboardEvent.Nh&&this.LD?(e.TW(a),a.preventDefault()):c==dvt.KeyboardEvent.Nh&&e instanceof dvt.Le?!a.shiftKey&&d.Kd()?(d.Qd(),e.TW(a),a.preventDefault(),this.LD=!0):(a.shiftKey&&this.LD?(this.vT(a,d),a.preventDefault()):(this.LD&&d.Tf(),b=Kl.C.nl.call(this,a)),this.LD=!1):c==dvt.KeyboardEvent.ki&&a.ctrlKey&&a.shiftKey?d&&d.im&&d.im(a):b=Kl.C.nl.call(this,a);return b};
p.QA=function(){var a=this.L.D();return"none"!==a.panning||"none"!==a.zooming?dvt.H.oG:a.touchResponse===dvt.H.Wy?dvt.H.Wy:dvt.H.YZ};p.$w=function(a){return this.io(a,dvt.Sd.CN)};p.rD=function(a){return a==dvt.Sd.CN?!1:Kl.C.rD.call(this,a)};function Ll(a,b){this.Init(a,b)}dvt.v.F(Ll,Gg,"DvtDiagramKeyboardHandler");
Ll.prototype.Si=function(a){var b=!1;switch(a.keyCode){case dvt.KeyboardEvent.ax:case dvt.KeyboardEvent.jv:b=!0;break;case dvt.KeyboardEvent.YA:case dvt.KeyboardEvent.KA:b=a.altKey?!0:!1;break;default:b=Ll.C.Si.call(this,a)}return b};Ll.prototype.mk=function(a){if(a.keyCode==dvt.KeyboardEvent.Nh){var b=this.yb.nf();if(b)return dvt.H.sc(a),b;b=Nl(this.Ma());if(0<b.length)return dvt.H.sc(a),this.oI(b)}return Ll.C.mk.call(this,a)};Ll.prototype.IN=function(a){return this.Ma().la(a)};
function Zl(a,b,c,d){this.Init(a,b,c,d)}dvt.v.F(Zl,Nd,"DvtDiagramLink");p=Zl.prototype;p.Init=function(a,b,c,d){Zl.C.Init.call(this,a,c.id,b);this.Nb=c;this.aJ(d);this.L.No()&&this.setCursor("pointer");this.WI(mm(this,b))};p.getData=function(){return this.Nb};p.getId=function(){return this.getData().id};p.Te=function(){return this.getData().startNode};p.Bd=function(){return this.getData().endNode};p.ug=function(){var a=null;this.Fb&&(a=this.Fb.aa());return a};p.wM=function(){return this.getData().style};
p.hA=function(){return this.getData().width};p.dF=function(){return this.getData().color};p.Tu=function(){return this.getData().startConnectorType};p.kt=function(){return this.getData().endConnectorType};p.m4=function(){return this.Tu()?Td.wva(this.Tu(),this.OA(),this.OA()):0};p.F3=function(){return this.kt()?Td.wva(this.kt(),this.OA(),this.OA()):0};
p.ta=function(){var a=this.Ma(),b=this.Cd(),c=a.la(this.Te()).Cd(),d=a.la(this.Bd()).Cd();if(b){var e=a.la(b).hD();b==c&&b==d?e.Hb(this,0):e.A(this)}else c||d?a.wl.A(this):a.Wp.A(this);b=this.getData();c=dvt.B.ca(a.u())?dvt.da.Jl:dvt.da.Ip;b.label&&(d=b.labelStyle,e=dvt.da.nr,a=new dvt.da(a.u(),b.label,0,0),a.Ab(new dvt.j(d)),a.wy(c),a.FA(e),b=dvt.j.nk((new dvt.j(b.labelStyle)).getWidth()),0<b&&dvt.Ba.fd(a,b,Infinity,this)||this.A(a),this.Fb=a);this.bg("img");this.mr();this.L.Za().nb(this,this)};
p.de=function(a){!this.SB&&a&&nm(this.Ma(),this.getData(),this);Zl.C.de.call(this,a)};
function nm(a,b,c){var d=c.SB;d||(d=["M",0,0,"L",0,0]);var e=b.id,f=b.color,h=b.width;a=b.style;c.Dx=c.WY("#000000",0,b._hitDetectionOffset);c.Hb(c.Dx,0);f=new dvt.xa(f,1,h);dvt.B.Wa()&&dvt.B.rq()&&1==dvt.B.eR()&&f.Mf(!0);d=new dvt.vb(c.u(),d,e);d.qa(null);d.Je(b.className);if(a&&a instanceof Object){b=dvt.Xc.Vt;"customStyle"==a._type?a.strokeDasharray&&(b=dvt.Xc.eD,a.strokeDasharray=af.Pqb(a.strokeDasharray)):b=af.PY(a._type);f.bo(b,a.strokeDasharray,a.strokeDashoffset);var k=dvt.bc.clone(a);dvt.na.forEach(["_type",
"strokeDasharray","strokeDashoffset"],function(a){delete k[a]});d.ea(k)}else b=af.PY(a),f.bo(b,af.M6(b),af.N6(b));d.Ga(f);c.bJ(d);c.Hb(d,1)}p.lc=function(a){Zl.C.lc.call(this,a);a?this.dC(this.Up,!0):this.mH();this.mr()};p.tb=function(){return this.Ma().No()&&"off"!=this.getData().selectable};
p.dC=function(a,b){if(a){this.Rl||(this.Rl=this.Nc().Ud());var c=this.Nc().Ud().clone();c.Nw&&c.Nw(this.getData().hoverInnerColor);this.Nc().Ga(c);Pd(this.Jj,c);Pd(this.Dj,c)}else this.Rl&&(this.Nc().Ga(this.Rl),Pd(this.Jj,this.Rl),Pd(this.Dj,this.Rl),this.Rl=null);this.Kg||(this.Kg=Qd(this,"#000000",1,0),this.Hb(this.Kg,0));var c=b?this.getData().selectionColor:this.getData().hoverOuterColor,d=this.Kg.Ud().clone();d.Nw(c);d.Xa(2+this.OA());this.DY(d,!0);this.Kg.Ga(d,2)};
p.mH=function(){this.Rl&&(this.Nc().Ga(this.Rl),Pd(this.Jj,this.Rl),Pd(this.Dj,this.Rl),this.Rl=null);this.Kg&&(this.removeChild(this.Kg),this.Kg.ya&&this.Kg.ya(),this.Kg=null)};p.DY=function(a,b){var c=this.Jha();if(c&&c instanceof Object)if("customStyle"==c._type){var d=null!=c.strokeDashoffset?dvt.j.nk(c.strokeDashoffset)+1:1;a.bo(dvt.Xc.eD,af.Blb(c.strokeDasharray),d)}else c=af.PY(c._type),a.bo(c,af.M6(c,b),af.N6(c,b));else Zl.C.DY.call(this,a,b)};
p.pd=function(){this.Up||(this.Up=!0,this.dC(!0,this.wb()))};p.Jc=function(){this.wb()?this.dC(!1,!0):this.mH();this.Up=!1};p.Qg=function(){var a=this.Ma().D().tooltip;return(a=a?a.renderer:null)?this.Ma().u().Df().fy(a,this.mn()):this.ne()};p.ne=function(){return this.bj?1<this.getData()._links.length?dvt.I.Ef(this.Ma().D(),"promotedLinks",dvt.I.q6,"PROMOTED_LINKS",this.getData()._links.length):dvt.I.Ef(this.Ma().D(),"promotedLink",dvt.I.q6,"PROMOTED_LINK",this.getData()._links.length):this.getData().shortDesc};
p.mn=function(){return{id:this.getId(),type:this.bj?"promotedLink":"link",label:this.getData().label,data:this.bj?this.getData()._links:this.getData(),component:this.Ma().D()._widgetConstructor}};p.Ed=function(){var a=[];this.tb()&&a.push(dvt.I.wa(dvt.I.Ia,this.wb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.bj&&a.push(dvt.I.wa(dvt.I.q6,"PROMOTED_LINK_ARIA_DESC"));return dvt.oa.Ik(this.ne(),a)};p.mr=function(){if(!dvt.B.ij()){var a=this.Ed();a&&this.Gd("label",a)}};
p.Fd=function(a){if(a.keyCode==dvt.KeyboardEvent.ki&&a.ctrlKey)return this;if(a.keyCode==dvt.KeyboardEvent.kh||a.keyCode==dvt.KeyboardEvent.Uf){var b=this.mV;b||(b=this.Ma().la(kd(this.Ma(),this)));var c=this,d=this.Ma().fF(b.getId()),e=this.Ma().Za().Cb;e&&e.oea&&(c=e.oea(b,this,a,d));c.mV=b;return c}return a.keyCode==dvt.KeyboardEvent.xf||a.keyCode==dvt.KeyboardEvent.Nf?(a=this.iba(a.keyCode)?this.Te():this.Bd(),this.Ma().la(a)):a.type==dvt.MouseEvent.Ce?this:null};
p.iba=function(a){var b=Wd(this),c=Xd(this),b=b.x<c.x?!0:!1;return a==dvt.KeyboardEvent.xf&&b||a==dvt.KeyboardEvent.Nf&&!b?!1:!0};p.Tf=function(){this.dd=!0;this.pd()};p.Qd=function(){this.dd=!1;this.Jc()};p.Kd=function(){return this.dd};p.Zd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};p.wwa=function(){var a=this.Ma().D().hiddenCategories;return a&&dvt.na.Hw(a,this.Zd())||!this.Ma().la(this.Te())||!this.Ma().la(this.Bd())?!0:!1};
p.tg=function(a,b,c){var d=b.ad(),e=this.ad(),f=new dvt.jd(this.u(),null,a.pb());dvt.na.He(d,e)||(this.de(d),d=dvt.G.Yt,0<e.length&&isNaN(e[0])&&(d=dvt.G.mm),f.ka.N(d,this,this.ad,this.de,e));b.Fb&&this.Fb&&(e=b.Fb.sb(),d=this.Fb.sb(),e.He(d)||(this.Fb.rb(e),f.ka.N(dvt.G.$i,this.Fb,this.Fb.sb,this.Fb.rb,d)));b.Nc()&&this.Nc()&&(b=b.Nc().Ud(),e=this.Nc().Ud(),b&&e&&b instanceof dvt.xa&&e instanceof dvt.xa&&(b.gc()!=e.gc()||b.getWidth()!=e.getWidth())&&(this.Nc().Ga(b),f.ka.N(dvt.G.ZJ,this.Nc(),this.Nc().Ud,
this.Nc().Ga,e)));if(c){var h=this;dvt.bb.Ib(f,function(){h.getParent().removeChild(h)})}a.add(f,1)};p.Mj=function(a){this.Ma().Wp.A(this);var b=this,c=new dvt.Wi(this.u(),this,a.pb());dvt.bb.Ib(c,function(){b.getParent().removeChild(b);b.ya()});a.add(c,0)};p.Oi=function(a){this.T(0);a.add(new dvt.hh(this.u(),this,a.pb()),2)};
p.bga=function(a,b){a&&(a==dvt.da.Ip?this.Fb.Sh():a==dvt.da.Mk?this.Fb.Xf():a==dvt.da.Jl&&this.Fb.Ah());b&&(b==dvt.da.nr?this.Fb.op():b==dvt.da.xi?this.Fb.Ng():b==dvt.da.ap?this.Fb.Uq():"baseline"==b&&this.Fb.QE())};p.WI=function(a){this.DB=a};p.Cd=function(){return this.DB};
function mm(a,b){function c(a,b){for(var c=[],d=b.la(a)?b.la(a).Cd():null;d;)c.push(d),d=b.la(d)?b.la(d).Cd():null;return c}for(var d=c(a.Te(),b),e=c(a.Bd(),b),f=0;f<d.length;f++)if(-1<dvt.na.lb(e,d[f]))return d[f];return null}function em(a,b,c){this.Init(a,b,c)}dvt.v.F(em,je,"DvtDiagramNode");p=em.prototype;p.Init=function(a,b,c){em.C.Init.call(this,a,c.id,b);this.Nb=c;this.L.No()&&this.setCursor("pointer")};p.getData=function(){return this.Nb};p.getId=function(){return this.Nb.id};p.ei=function(){return this.sB};
p.ug=function(){var a=null;this.Fb&&(a=this.hE?this.hE:this.Fb.aa());return a};p.lc=function(a){var b=this.wm();em.C.lc.call(this,a);this.L.D().selectionRenderer?bm(this,this.L.D().selectionRenderer,this.wm(),b):this.NI(a);this.mr()};p.NI=function(a){this.tt()&&this.tt().lc(a)};p.tb=function(){return this.Ma().No()&&"off"!=this.getData().selectable};p.iZ=function(){return this.ba};
p.ta=function(){var a=this.getData();if(this.L.D().renderer){if(bm(this,this.L.D().renderer,this.wm(),null),this.Bb()){var b=this.Ua().getBoundingClientRect(),c=this.qc?this.qc.Ua().getBoundingClientRect():null;this.Zh={left:c.left-b.left,right:b.right-c.right,top:c.top-b.top,bottom:b.bottom-c.bottom}}}else{if(this.Bb())om(this.L,a,this);else if(pm(this.L,a,this),b=this.L,c=a.icon){var d=c.width,e=c.height,f=c.color,h=c.borderRadius,b=c.source?new dvt.Hf(b.u(),d/2,e/2,d,e,h,c.source,c.sourceSelected,
c.sourceHover,c.sourceHoverSelected):new dvt.za(b.u(),c.shape,dvt.j.pf,d/2,e/2,d,e,h);"none"!=c.fillPattern?b.qa(new dvt.wc(c.fillPattern,f,f)):b.ib(f);null!=c.opacity&&b.T(c.opacity);c.borderColor&&b.Ga(new dvt.xa(c.borderColor,c.borderWidth));b.ea(c.style).Je(c.className);this.A(b);this.ba=b;if(this.Eb){var c=a.icon,f=this.Eb.getWidth(),d=this.Eb.getHeight(),e=c.width,h=c.height,k=.5*(f-e),l=.5*(d-h);if(void 0!==c.positionX)k=parseFloat(c.positionX),dvt.B.ca(this.u())&&(k=f-k-e);else{var n=c.halign;
"start"==n?n=dvt.B.ca(this.u())?"right":"left":"end"==n&&(n=dvt.B.ca(this.u())?"left":"right");k="left"==n?0:"right"==n?f-e:k}void 0!==c.positionY?l=parseFloat(c.positionY):"top"==c.valign?l=0:"bottom"==c.valign&&(l=d-h);this.ba.Na(k,l)}this.Eb||this.hN(b)}qm(this.tt(),a)}d=this.L;b=dvt.B.ca(d.u())?dvt.da.Jl:dvt.da.Ip;a.label&&(c=a.labelStyle,f=dvt.da.nr,d=new dvt.da(d.u(),a.label,0,0),d.Ab(new dvt.j(c)),d.wy(b),d.FA(f),b=dvt.j.nk((new dvt.j(a.labelStyle)).getWidth()),0<b&&dvt.Ba.fd(d,b,Infinity,
this)||this.A(d),this.Fb=d);b=null;this.Nv?this.Nv instanceof dvt.Le?(c=this.Nv.aa())&&(b=new dvt.Z(c.x,c.y,c.a,c.b)):(c=this.Nv.getBBox())&&(b=new dvt.Z(c.x,c.y,c.width,c.height)):this.Bb()?b=this.tU.xJ(this):(b=this.Eb?this.Eb.xJ(this):null)&&this.ba?b=b.uj(this.ba.xJ(this)):!b&&this.ba&&(b=this.ba.xJ(this));this.sB=b;b=this.L;this.rB&&(this.removeChild(this.rB),this.rB=null);this.Yl()&&"off"!=a.showDisclosure&&(c=b.D(),this.Bb()?(a=c._resources.collapse_ena,f=c._resources.collapse_ovr,d=c._resources.collapse_dwn):
(a=c._resources.expand_ena,f=c._resources.expand_ovr,d=c._resources.expand_dwn),c=new dvt.Image(b.u(),a.src,0,0,a.width,a.height),f=new dvt.Image(b.u(),f.src,0,0,f.width,f.height),d=new dvt.Image(b.u(),d.src,0,0,d.width,d.height),c=new dvt.ja(b.u(),c,f,d,null,null,this.qob,this),this.A(c),this.sB&&(a=dvt.B.ca(b.u())?this.sB.x+this.sB.a-a.width:this.sB.x,c.Na(a,this.sB.y)),this.rB=c);this.bg("img");this.mr();this.L.Za().nb(this,this)};
function bm(a,b,c,d){var e=a.L.D()._contextHandler;if(e){var f=a.getData(),h=null;if(a.Bb())var h=a.hD(),k=h.aa(),h={element:h.Ua(),w:k?k.a-k.x:null,h:k?k.b-k.y:null};c=e(a.Ua(),a.Nv,h,f,c,d);b=b(c);a.Nv&&b!=a.Nv&&(a.Nv.namespaceURI===dvt.K.RZ?a.A3().removeChild(a.Nv):a.removeChild(b),a.Nv=null);b&&b.namespaceURI===dvt.K.RZ?a.Nv||(dvt.K.rf(a.A3(),b),a.Nv=b):b instanceof dvt.Le?a.Nv||(a.A(b),a.Nv=b):b&&a.L.PN("dvt.Diagram: could not add custom node content for the node "+a.getId()+b,1)}else a.L.PN("dvt.Diagram: could not add custom node content - context handler is undefined",
1)}function pm(a,b,c){var d=dvt.bc.clone(b.backgroundStyle),e=[dvt.j.po,dvt.j.os,dvt.j.Mb,dvt.j.ub,dvt.j.Xi,dvt.j.dg],f=rm(d,b._backgroundStyle,e);if(!f.qVa()){var h=dvt.j.nk(f.M(dvt.j.po)),k=dvt.j.nk(f.M(dvt.j.os)),l=f.M(dvt.j.Mb),n=f.M(dvt.j.ub),m=dvt.j.nk(f.M(dvt.j.Xi)),f=dvt.j.nk(f.M(dvt.j.dg));a=new dvt.Rect(a.u(),0,0,h,k);a.ib(l);f&&(a.fi(f),a.ui(f));n&&a.Ga(new dvt.xa(n,1,m));d&&dvt.na.forEach(e,function(a){delete d[dvt.j.dM(a)]});a.ea(d).Je(b.backgroundClassName);c.A(a);c.hN(a);c.Eb=a}}
function qm(a,b){var c=b.hoverInnerColor,d=b.hoverOuterColor,e=b.selectionColor,f=new dvt.xa(c,1,4);f.Mf(!0);d=new dvt.xa(d,1,8);d.Mf(!0);var h=new dvt.xa(e,1,2);h.Mf(!0);var k=new dvt.xa(e,1,4);k.Mf(!0);c=new dvt.xa(c,1,4);c.Mf(!0);e=new dvt.xa(e,1,8);e.Mf(!0);a.cr(f,d).ds(h,k).Gt(c,e)}p.hN=function(a){this.xQ=a};p.tt=function(){if(!this.xQ&&this.sB){var a=new dvt.Rect(this.L.u(),this.sB.x,this.sB.y,this.sB.a,this.sB.b);a.Wb();this.hN(a);this.Hb(a,0);qm(a,this.getData());this.xQ=a}return this.xQ};
p.pd=function(){var a=this.wm();this.Up=!0;this.L.D().hoverRenderer?bm(this,this.L.D().hoverRenderer,this.wm(),a):this.ry(!0)};p.Jc=function(){var a=this.wm();this.Up=!1;this.L.D().hoverRenderer?bm(this,this.L.D().hoverRenderer,this.wm(),a):this.ry(!1)};p.ry=function(a){this.tt()&&(a?this.tt().pd():this.tt().Jc())};p.Qg=function(){var a=this.Ma().D().tooltip;return(a=a?a.renderer:null)?this.Ma().u().Df().fy(a,this.mn()):this.ne()};p.ne=function(){return this.getData().shortDesc};
p.mn=function(){return{id:this.getId(),type:"node",label:this.getData().label,data:this.getData(),component:this.Ma().D()._widgetConstructor}};p.Ed=function(){var a=[];this.tb()&&a.push(dvt.I.wa(dvt.I.Ia,this.wb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Yl()&&a.push(this.Bb()?dvt.I.wa(dvt.I.Ia,"STATE_EXPANDED"):dvt.I.wa(dvt.I.Ia,"STATE_COLLAPSED"));return dvt.oa.Ik(this.ne(),a)};p.mr=function(){if(!dvt.B.ij()){var a=this.Ed();a&&this.Gd("label",a)}};
p.Fd=function(a){var b=null;if(a.keyCode==dvt.KeyboardEvent.ki&&a.ctrlKey)b=this;else if((a.keyCode==dvt.KeyboardEvent.YA||dvt.KeyboardEvent.KA)&&a.altKey){var c=this.Ma().fF(this.getId()),d=this.Ma().Za().Cb;d&&d.dX&&(b=d.dX(this,a,c));b?b.mV=this:b=this}else a.keyCode==dvt.KeyboardEvent.ax?b=this.Bb()?this.Ae()[0]:this:a.keyCode==dvt.KeyboardEvent.jv?b=(b=this.Cd()?this.Ma().la(this.Cd()):null)?b:this:a.type==dvt.MouseEvent.Ce?b=this:(b=(b=this.Cd()?this.Ma().la(this.Cd()):null)?b.Ae():Nl(this.Ma()),
b=dvt.Cb.gF(this,a,b));return b};p.im=function(a){a.keyCode==dvt.KeyboardEvent.ki&&a.ctrlKey&&a.shiftKey&&this.Yl()&&this.Ma().ZI(this.getId(),!this.Bb())};p.Yl=function(){return null===this.getData().nodes||void 0===this.getData().nodes&&!this.Ma().D().childNodes?!1:!0};p.Tf=function(){var a=this.wm();this.dd=!0;this.L.D().focusRenderer?bm(this,this.L.D().focusRenderer,this.wm(),a):this.PC(!0)};
p.Qd=function(){this.Kd()&&(this.wm(),this.dd=!1,this.L.D().focusRenderer?bm(this,this.L.D().focusRenderer,this.getData(),this.wm()):this.PC(!1))};p.PC=function(a){this.ry(a)};p.Kd=function(){return this.dd};p.Zd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};p.wwa=function(){var a=this.Ma().D().hiddenCategories;return a&&dvt.na.Hw(a,this.Zd())?!0:!1};
p.tg=function(a,b){var c=new dvt.jd(this.u(),null,a.pb());if(this.Bb()||b.Bb())if(this.Bb()&&b.Bb())if(this.L.D().renderer)sm(this,a,b);else{tm(c,b,this);var d=b.tU,e=this.tU;e&&d&&(c.ka.N(dvt.G.oo,e,e.gd,e.qa,e.gd()),e.qa(d.gd()),c.ka.N(dvt.G.V,e,e.getWidth,e.Xa,e.getWidth()),e.Xa(d.getWidth()),c.ka.N(dvt.G.V,e,e.getHeight,e.qb,e.getHeight()),e.qb(d.getHeight()));dvt.B.ca(this.u())&&b.rB&&this.rB&&(d=b.rB.ra(),e=this.rB.ra(),d!=e&&(this.rB.ha(d),c.ka.N(dvt.G.V,this.rB,this.rB.ra,this.rB.ha,e)));
for(var d=[],e=[],f=this.cj,h=0;h<f.length;h++)d.push(this.Ma().la(f[h]));for(var f=b.cj,k=a.tqa.eUa(),h=0;h<f.length;h++)e.push(k[f[h]]);a.Ho(e,d)}else sm(this,a,b);else tm(c,b,this),b.ba&&this.ba&&(c.ka.N(dvt.G.wD,this.ba,this.ba.dA,this.ba.UI,this.ba.dA()),this.ba.UI(b.ba.dA())),b.Fb&&this.Fb&&(d=b.Fb.sb(),e=this.Fb.sb(),d.He(e)||(this.Fb.rb(d),c.ka.N(dvt.G.$i,this.Fb,this.Fb.sb,this.Fb.rb,e))),um(c,b.Eb,this.Eb),um(c,b.ba,this.ba);a.add(c,1)};
function sm(a,b,c){var d=c.ei(),e=a.ei();if(d.He(e)){var f=new dvt.jd(a.u(),null,b.pb());tm(f,c,a);b.add(f,1)}else{a.getParent().A(c);var h=e.a/d.a,k=d.a/e.a,f=new dvt.jd(a.u(),null,b.pb()),l=new dvt.R(a.ra()+.5*e.a,a.pa()+.5*e.b);f.ka.N(dvt.G.V,c,c.ra,c.ha,l.x-d.a*h*.5);f.ka.N(dvt.G.V,c,c.pa,c.va,l.y-d.b*h*.5);var d=new dvt.R(c.ra()+.5*d.a,c.pa()+.5*d.b),l=a.ra(),n=a.pa();a.ha(d.x-e.a*k*.5);a.va(d.y-e.a*k*.5);f.ka.N(dvt.G.V,a,a.ra,a.ha,l);f.ka.N(dvt.G.V,a,a.pa,a.va,n);b.add(f,1);e=new dvt.iJ(a.u(),
c,new dvt.R(h,h),b.pb());b.add(e,1);e=new dvt.Wi(a.u(),c,b.pb());b.add(e,1);dvt.bb.Ib(e,function(){a.getParent().removeChild(c)});a.th(k);a.Eg(k);k=new dvt.iJ(a.u(),a,new dvt.R(1,1),b.pb());b.add(k,1);a.T(0);k=new dvt.hh(a.u(),a,b.pb());b.add(k,1)}}function tm(a,b,c){if(c&&b){var d=b.ra();b=b.pa();var e=c.ra(),f=c.pa();d!=e&&(c.ha(d),a.ka.N(dvt.G.V,c,c.ra,c.ha,e));b!=f&&(c.va(b),a.ka.N(dvt.G.V,c,c.pa,c.va,f))}}function um(a,b,c){b&&c&&(a.ka.N(dvt.G.oo,c,c.gd,c.qa,c.gd()),c.qa(b.gd()))}
p.Mj=function(a){this.Ma().wl.A(this);var b=this,c=new dvt.Wi(this.u(),this,a.pb());dvt.bb.Ib(c,function(){b.getParent().removeChild(b);b.ya()});a.add(c,0)};p.Oi=function(a){this.T(0);a.add(new dvt.hh(this.u(),this,a.pb()),2)};p.wm=function(a){return{hovered:this.Up,selected:this.wb(),focused:this.dd,zoom:a?a:this.Ma().Qa.xg(),expanded:this.Bb()}};
p.bga=function(a,b){a&&(a==dvt.da.Ip?this.Fb.Sh():a==dvt.da.Mk?this.Fb.Xf():a==dvt.da.Jl&&this.Fb.Ah());b&&(b==dvt.da.nr?this.Fb.op():b==dvt.da.xi?this.Fb.Ng():b==dvt.da.ap?this.Fb.Uq():"baseline"==b&&this.Fb.QE())};
p.sp=function(){if(!this.Zh&&this.L.D().renderer){var a=this.Ua().getBoundingClientRect(),b=this.qc?this.qc.Ua().getBoundingClientRect():null;this.Zh={left:b.left-a.left,right:a.right-b.right,top:b.top-a.top,bottom:a.bottom-b.bottom}}else this.Zh||(a=rm(this.Nb.containerStyle,this.Nb._containerStyle,["padding-left","padding-right","padding-top","padding-bottom"]),this.Zh={left:a.Tg("padding-left"),right:a.Tg("padding-right"),top:a.Tg("padding-top"),bottom:a.Tg("padding-bottom")});return this.Zh};
p.Ae=function(){for(var a=[],b=this.cj?this.cj.length:-1,c=0;c<b;c++){var d=this.Ma().la(this.cj[c]);d&&a.push(d)}return a};p.WI=function(a){this.DB=a};p.Cd=function(){return this.DB};p.hD=function(){this.qc||(this.qc=new dvt.ma(this.u()),this.A(this.qc));return this.qc};p.qob=function(a){dvt.H.sc(a);this.L.ZI(this.getId(),!this.Bb())};
function om(a,b,c){c.tU&&(c.removeChild(c.tU),c.tU=null);var d=dvt.bc.clone(b.containerStyle),e=[dvt.j.Mb,dvt.j.ub,dvt.j.Xi,dvt.j.dg],f=rm(d,b._containerStyle,e),h=f.M(dvt.j.Mb),k=f.M(dvt.j.ub),l=dvt.j.nk(f.M(dvt.j.Xi)),f=dvt.j.nk(f.M(dvt.j.dg)),n=c.hD(),m=c.sp();n.Na(m.left,m.top);n=n.mq();a=new dvt.Rect(a.u(),0,0,n.a+m.left+m.right,n.b+m.top+m.bottom);a.ib(h);f&&(a.fi(f),a.ui(f));k&&a.Ga(new dvt.xa(k,1,l));d&&dvt.na.forEach(e,function(a){delete d[dvt.j.dM(a)]});a.ea(d).Je(b.containerClassName);
c.Hb(a,0);c.hN(a);c.tU=a}function rm(a,b,c){var d=new dvt.j;dvt.na.forEach(c,function(c){var f=null,h=dvt.j.dM(c);a&&null!=a[h]?f=a[h]:b&&(f=b.M(c));d.ea(c,f)});return d}function fm(a){this.Init(a)}ba("DvtDiagramAutomation",fm);dvt.v.F(fm,dvt.Rd,"DvtDiagramAutomation");fm.prototype.Init=function(a){this.L=a};fm.prototype.Cn=function(a){return(a=this.L.Za().mb(a))&&a instanceof em?"node["+this.L.uJ().indexOf(a.getId())+"]":a&&a instanceof Zl?"link["+this.L.tJ().indexOf(a.getId())+"]":null};
fm.prototype.ph=function(a){if(a==dvt.Rd.vD)return this.WF(this.L);var b=this.kQ(a);a=b.component;var b=b.index,c=null;"node"==a?c=this.Zj(b):"link"==a&&(c=vm(this,b));return c?c.Ua():null};fm.prototype.getDomElementForSubId=fm.prototype.ph;fm.prototype.kQ=function(a){var b=a,c=-1,d=a.substring(0,a.indexOf("["));d&&(b="node"==d||"link"==d?d:null,c=parseInt(a.substring(a.indexOf("[")+1,a.indexOf("]"))));return{component:b,index:c}};fm.prototype.Bg=function(){return this.L.Bg()};
fm.prototype.getNodeCount=fm.prototype.Bg;fm.prototype.Pu=function(){return this.L.Pu()};fm.prototype.getLinkCount=fm.prototype.Pu;fm.prototype.ud=function(a){if(a=this.Zj(a)){var b={};b.id=a.getId();b.selected=a.wb();b.tooltip=a.ne();b.label=a.getData().label;var c=a.getData().backgroundStyle;c&&c instanceof Object&&(c=dvt.j.tta(c));b.background=c;b.icon=this.y0(a.iZ());b.expanded=a.Bb();return b}return null};fm.prototype.getNode=fm.prototype.ud;
fm.prototype.jX=function(a){if(a=vm(this,a)){var b={};b.id=a.getId();b.selected=a.wb();b.tooltip=a.ne();b.label=a.getData().label;b.color=a.dF();b.width=a.hA();b.style=wm(a.wM());b.startNode=a.Te();b.endNode=a.Bd();b.startConnectorType=a.Tu();b.endConnectorType=a.kt();return b}return null};fm.prototype.getLink=fm.prototype.jX;
fm.prototype.lnb=function(a,b){var c=this.Zj(a),d=this.Zj(b);if(!c||!d)return null;c=c.getId();d=d.getId();return(d=this.L.qd("_plL"+c+"_L"+d))?(c={},c.id=d.getId(),c.selected=d.wb(),c.tooltip=d.ne(),c.color=d.dF(),c.width=d.hA(),c.style=wm(d.wM()),c.startNode=d.Te(),c.endNode=d.Bd(),c.startConnectorType=d.Tu(),c.endConnectorType=d.kt(),c.count=d.getData()._links.length,c):null};fm.prototype.getPromotedLink=fm.prototype.lnb;
function wm(a){return a&&a instanceof Object?"customStyle"==a._type?(a=dvt.bc.clone(a),delete a._type,dvt.j.tta(a)):a._type:a}fm.prototype.Xlb=function(){return this.L.nv};fm.prototype.getExpanded=fm.prototype.Xlb;fm.prototype.y0=function(a){if(a){var b={};b.shape=a instanceof dvt.za?a.he():"none";a.gd()&&(b.color=a.gd().gc());return b}return null};fm.prototype.Zj=function(a){var b=this.L.uJ();return 0<=a&&a<b.length?this.L.la(b[a]):null};
function vm(a,b){var c=a.L.tJ();return 0<=b&&b<c.length?a.L.qd(c[b]):null};
  return dvt;
});
