{"version":3,"names":["define","exports","jsxRuntime","preact","DataProviderHandlerUtils","static","detail","currentData","dataProvider","add","remove","update","keyIndexMap","Map","index","item","entries","set","key","mutatedData","_removeItemsFromDetail","_addItemsFromDetail","_updateItemsFromDetail","itemsToAdd","itemMetadataToAdd","items","returnItems","forEach","addItem","data","metadata","push","indices","addAtIndex","splice","beforeKeys","addIndices","_getIndexByKey","_addItemsAtIndices","addBeforeKeys","afterKeys","indexes","keys","treatedData","treatedMetaData","length","size","fetchResults","_fetchDataByKeys","map","itemContext","_addItemsBeforeKeys","_addItemsAtEnd","fetchedData","results","fetchByKeys","has","result","get","sort","a","b","indicesToRemove","_removeItemsAtIndices","_removeItemsAtKeys","itemsToUpdate","itemMetadataToUpdate","updateAtIndex","this","_updateItemsAtIndices","_updateItemsAtKeys","DataProviderHandler","constructor","addBusyState","callback","_handleMutateEvent","async","event","resolver","_addBusyState","updatedData","getUpdatedItemsFromMutationDetail","_currentData","_dataProvider","_callback","onDataUpdated","_handleRefreshEvent","_fetchDataAndNotify","addEventListener","destroy","undefined","removeEventListener","asyncIterable","fetchFirst","contextArray","slice","_fetchData","withDataProvider","WrappedComponent","dataProp","_a","Component","props","super","_handleDataUpdate","setState","state","componentDidMount","_initDataProviderHandler","componentDidUpdate","previousProps","_resetDataProviderHandler","componentWillUnmount","_releaseDataProviderHandler","render","passThroughProps","childProps","jsx","_dataProviderHandler","displayName","name","getDisplayName","Object","defineProperty","value"],"sources":["../debug/ojdataproviderhandler.js"],"mappings":"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"}