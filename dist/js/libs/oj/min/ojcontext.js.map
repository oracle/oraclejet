{"version":3,"names":["define","oj","Logger","ojcustomelementRegistry","Object","prototype","hasOwnProperty","call","BusyState","description","this","_description","_addedWaitTs","_getTs","_id","toString","Math","random","_registerLegacyNamespaceProp","defineProperties","id","get","enumerable","Function","buff","window","performance","now","Date","getTime","BusyContext","hostNode","context","Init","_nextTickPromise","getNextTickPromise","Promise","resolve","setImmediate","createSubclass","_defaultTimeout","Number","NaN","__preactPromisesMap","Map","setDefaultTimeout","timeout","isNaN","superclass","_hostNode","_context","_statesMap","_preactSet","Set","_mediator","getMasterWhenReadyPromise","_masterWhenReadyPromise","_captureWhenReadyPromiseResolver","bind","resolveMasterWhenReadyPromise","_masterWhenReadyPromiseResolver","_masterWhenReadyPromiseRejecter","rejectMasterWhenReadyPromise","error","getSlaveTimeoutPromise","master","generateErrorCallback","timer","slaveTimeoutPromise","reject","setTimeout","_slaveTimeoutPromiseTimers","push","race","finally","_clearAllSlaveTimeouts","slaveTimeoutPromiseTimers","i","length","clearTimeout","_log","statesMap","option","LEVEL_LOG","log","size","busyStates","_values","join","forEach","value","addBusyState","options","_getDebugScope","busyState","_DESCRIPTION","set","_addBusyStateToParent","_removeBusyState","dump","message","info","getBusyStates","clear","e","defineProperty","_OJ_RIP","whenReady","debugScope","mediator","bootstrapPromise","_BOOTSTRAP_MEDIATOR","promise","then","_evalBusyness","expiredText","isReady","Error","rtn","_doubleCheckPend","_hasNoBusyStates","delete","_doubleCheckBusyness","_syncDebounceBusyness","promiseDesc","preactPromise","has","add","resolver","_deliverThrottledUpdates","_rejectWhenReadyPromises","_resolveBusyStateForParent","applicationBootstrapComplete","notifyComplete","_getParentBusyContext","parentContext","getParentContext","getBusyContext","_parentNotified","opts","_parentResolveCallback","_getCompoundDescription","toSelector","node","selector","nodeName","hasAttribute","clazz","getAttribute","split","_debugScope","parentElement","msg","ComponentBinding","deliverChanges","_tracking","_readyPromise","_resolveCallback","oj_whenReady","_OJ_CONTEXT_INSTANCE","Symbol","Context","_node","getContext","getParentElement","n","_OJ_CONTEXT_ATTRIBUTE","_createContext","parent","_hasImplicitSlotContext","getPageContext","_pageContext","_busyContext","setBusyContextDefaultTimeout","_OJ_SURROGATE_ATTR","element","surrogate","document","getElementById","_ojReportBusy","slot","nodeType","Node","ELEMENT_NODE","meta","classList","contains","getMetadata","localName","slotName","slotsMeta","slots","slotMeta","implicitBusyContext","ctx","__addPreactPromise","__removePreactPromise"],"sources":["../debug/ojcontext.js"],"mappings":"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"}