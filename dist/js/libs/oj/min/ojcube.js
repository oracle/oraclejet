/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.Hb=function(a,b){this.Init();this.ya=a;this.Nj=b;this.ax()};o_("Cube",a.Hb,a);a.b.ta(a.Hb,a.b,"oj.Cube");a.Hb.prototype.Init=function(){a.Hb.u.Init.call(this)};a.Hb.prototype.Mq=function(){var a=this.z7(),b=[];Array.prototype.push.apply(b,a?a.Mq():this.Sh);for(a=2;a<this.Sh.length;a++)b.push(this.Sh[a]);return b};a.b.g("Cube.prototype.getAxes",{Mq:a.Hb.prototype.Mq});a.Hb.prototype.bT=function(){return this.Sh};a.Hb.prototype.Tq=
function(a){var b=this.z7();a=b.cza(a);for(a=b=b.vda(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};a.b.g("Cube.prototype.getValues",{Tq:a.Hb.prototype.Tq});a.Hb.prototype.setPage=function(a){this.hV=a instanceof Array?a:[a]};a.Hb.prototype.Hha=function(c,b,d,e,f){var g=this.Nj,k=this.e6(c);if(!k)return!1;c=null;d<g.length?c=this.e6(d):(c={axis:d,levels:[]},g.push(c));d=k.levels;g=c.levels;c=b<d.length?d[b]:null;if(!c)return!1;e>=g.length?(g.push(c),d.splice(b,
1)):f===a.Hb.EO.SWAP?(d[b]=g[e],g[e]=c):(f===a.Hb.EO.AFTER&&e++,g.splice(e,0,c),g===d&&e<b&&b++,d.splice(b,1));this.ax();return!0};a.b.g("Cube.prototype.pivot",{Hha:a.Hb.prototype.Hha});a.Hb.prototype.e6=function(a){for(var b=0;b<this.Nj.length;b++)if(this.Nj[b].axis===a)return this.Nj[b];return null};a.Hb.prototype.gM=function(){return this.Nj};a.b.g("Cube.prototype.getLayout",{gM:a.Hb.prototype.gM});a.Hb.EO={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.Hb.EO,a);a.Hb.prototype.vda=
function(a,b,d){var e=[];if(0===a.length)return b=d.slice(0),this.Fk(b);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[b]=g;d[b]<g+a;d[b]++)e.push(this.vda(f,b+1,d));return e};a.Hb.prototype.cza=function(a){var b=[];if(!a)return b;for(var d=Math.min(a.length,this.Sh.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.EI(f.start,f.count,e)):b.push(this.EI(f.start,1,e)):b.push(this.EI(0,
f.count,e)):b.push(this.EI(f,1,e))}return b};a.Hb.prototype.EI=function(a,b,d){d=this.Mq()[d].getExtent();if(a>=d||0>a)a=0;b=Math.min(b,d-a);return{start:a,index:a,count:b}};a.Hb.prototype.Fk=function(c){var b=this.mqa(c);return b&&(b=b.mu(),0<b.length&&(b=this.i[b[0].key]))?new a.Bi(b.value,c,b.wL,b.rows,b.Wt):new a.Bi(null,c,void 0,[])};a.Hb.prototype.Kja=function(){var a=this.Pta();this.hV=[];for(var b=0;b<a.length;b++)this.hq(a[b].axis,a[b].levels),this.hV.push({axis:a[b].axis,index:0});if(0===
a.length)for(a=this.bT(),b=0;b<a.length;b++)this.hq(a[b].axis,a[b].levels)};a.Hb.prototype.Pta=function(){for(var a=[],b=0;b<this.Nj.length;b++)1<this.Nj[b].axis&&a.push(this.Nj[b]);return a};a.Hb.prototype.bT=function(){for(var a=[],b=0;b<this.Nj.length;b++)2>this.Nj[b].axis&&a.push(this.Nj[b]);return a};a.Hb.prototype.ax=function(){this.Sh=[];this.i=[];this.GR=[];this.Kja();if(null!==this.ya)for(var c=0;c<this.ya.length;c++){for(var b=new a.xm,d=2;d<this.Sh.length;d++)b=this.Sh[d].$_(this.ya[c],
b);for(var b=b.mu(),e=0;e<b.length;e++){var d=b[e].key,f=this.GR[d];f||(f=this.GR[d]=this.hO(this.bT()));for(var g=new a.xm,k=f.Sh.length,d=0;d<k;d++)g=f.Sh[d].$_(this.ya[c],g);g=d=g.mu();if(void 0!==b[e].qea)for(g=[],k=0;k<d.length;k++)g.push(b[e]);f.XCa(d,g,this.ya[c])}}};a.Hb.prototype.XCa=function(a,b,d){for(var e=0;e<a.length;e++)this.i[a[e].key]=this.ooa(b[e],this.i[a[e].key],d)};a.Hb.prototype.z7=function(){return this.GR[this.rta(this.hV)]};a.Hb.prototype.rta=function(c){var b=new a.xm;if(c&&
0<c.length){c.sort(function(a,b){return a.axis-b.axis});for(var d=this.Sh,e=0;e<c.length;e++)b=d[c[e].axis].pG(c[e].index,b)}return b.mu()[0].key};a.Hb.Y9=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.Hb.prototype.Td=function(a,b,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.wL=b;e.rows=d;return e};a.Hb.Hg=function(c){return a.bb.Je(c.value)?!1:!isNaN(c.value)};a.Hb.prototype.ooa=function(c,b,d){var e=this.jO(c.qea),f=e.Gz,g=a.Hb.Y9(b),k=a.Hb.Y9(c),
l=g&&a.Hb.Hg(b),m=k&&a.Hb.Hg(c);switch(f){case a.Ai.SUM:return g&&k?l&&m?this.Td(b.value+c.value,f,b.rows,d,{}):this.Td(NaN,f,b.rows,d,{}):k&&!g?m?this.Td(c.value,f,[],d,{}):this.Td(NaN,f,[],d,{}):b;case a.Ai.AVERAGE:return g&&k?l&&m?this.Td((b.PA+c.value)/(b.rows.length+1),f,b.rows,d,{PA:b.PA+c.value}):this.Td(NaN,f,b.rows,d,{PA:b.PA}):k&&!g?m?this.Td(c.value,f,[],d,{PA:c.value}):this.Td(NaN,f,[],d,{PA:NaN}):b;case a.Ai.VARIANCE:case a.Ai.STDDEV:return g&&k?l&&m?(g=b.value+(c.value-b.value)/(b.rows.length+
1),this.Td(g,f,b.rows,d,{Wt:b.Wt+(c.value-b.value)*(c.value-g)})):this.Td(NaN,f,b.rows,d,{Wt:NaN}):k&&!g?m?this.Td(c.value,f,[],d,{Wt:0}):this.Td(NaN,f,[],d,{Wt:NaN}):b;case a.Ai.NONE:return this.Td(null,f,g?b.rows:[],d,{});case a.Ai.FIRST:return g?this.Td(b.value,f,b.rows,d,{}):k?this.Td(c.value,f,[],d,{}):b;case a.Ai.MIN:return g&&k?l&&m?this.Td(Math.min(b.value,c.value),f,b.rows,d,{}):this.Td(NaN,f,b.rows,d,{}):k&&!g?m?this.Td(c.value,f,[],d,{}):this.Td(NaN,f,[],d,{}):b;case a.Ai.MAX:return g&&
k?l&&m?this.Td(Math.max(b.value,c.value),f,b.rows,d,{}):this.Td(NaN,f,b.rows,d,{}):k&&!g?m?this.Td(c.value,f,[],d,{}):this.Td(NaN,f,[],d,{}):b;case a.Ai.COUNT:return g&&k?this.Td(b.value+1,f,b.rows,d,{}):k&&!g?this.Td(1,f,[],d,{}):b;case a.Ai.CUSTOM:return c=e.Qc.call(this,g?b.value:void 0,k?c.value:void 0),this.Td(c,f,g?b.rows:[],d,{})}};a.Hb.prototype.hq=function(c,b){c>=this.Sh.length&&Array.prototype.push.apply(this.Sh,Array(c-this.Sh.length+1));this.Sh[c]||(this.Sh[c]=new a.Ch(b,c,this));return this.Sh[c]};
a.Hb.prototype.mqa=function(c){for(var b=this.Mq(),d=new a.xm,e=0;e<c.length;e++)d=b[e].pG(c[e],d);return d};a.Hb.prototype.rx=function(){a.o.ld()};a.Hb.prototype.hO=function(){a.o.ld()};a.Hb.prototype.iO=function(){a.o.ld()};a.Hb.prototype.jO=function(){a.o.ld();return{}};a.Ai={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.Ai,a);a.hd=function(a,b,d,e){this.Init();this.jf=[];this.Nv=e;this.bra=
d;this.i={};this.i.value=a;this.i.label=b};o_("CubeAxisValue",a.hd,a);a.b.ta(a.hd,a.b,"oj.CubeAxisValue");a.hd.prototype.Init=function(){a.hd.u.Init.call(this)};a.hd.prototype.uw=function(){return this.bra};a.b.g("CubeAxisValue.prototype.getLevel",{uw:a.hd.prototype.uw});a.hd.prototype.getDepth=function(){return 1};a.b.g("CubeAxisValue.prototype.getDepth",{getDepth:a.hd.prototype.getDepth});a.hd.prototype.pfa=function(){for(var a=[],b=this.Nv;b&&b.Nv;)a.unshift(b),b=b.Nv;return a};a.b.g("CubeAxisValue.prototype.getParents",
{pfa:a.hd.prototype.pfa});a.hd.prototype.getChildren=function(){return this.jf};a.b.g("CubeAxisValue.prototype.getChildren",{getChildren:a.hd.prototype.getChildren});a.hd.prototype.getExtent=function(){if(-1<this.ry)return this.ry;if(this.jf&&0!==this.jf.length)for(var a=this.ry=0;a<this.getChildren().length;a++)this.ry+=this.getChildren()[a].getExtent();else this.ry=1;return this.ry};a.b.g("CubeAxisValue.prototype.getExtent",{getExtent:a.hd.prototype.getExtent});a.hd.prototype.getStart=function(){if(-1<
this.Sj)return this.Sj;if(!this.Nv)return 0;for(var a=this.Nv.getStart(),b=this.Nv.C7(this);b;)a+=b.getExtent(),b=this.Nv.C7(b);return this.Sj=a};a.b.g("CubeAxisValue.prototype.getStart",{getStart:a.hd.prototype.getStart});a.hd.prototype.ie=function(){return this.i.value};a.b.g("CubeAxisValue.prototype.getValue",{ie:a.hd.prototype.ie});a.hd.prototype.cY=function(){return this.i.label?this.i.label:this.ie()};a.b.g("CubeAxisValue.prototype.getLabel",{cY:a.hd.prototype.cY});a.hd.prototype.Lja=function(a){var b=
this.Nsa();if(null===b)return null;if(b.jA())return this.$sa(a);if(a=a[b.attribute])for(b=0;b<this.jf.length;b++)if(this.jf[b].ie()===a)return this.jf[b];return null};a.hd.prototype.$sa=function(a){for(var b=0;b<this.jf.length;b++){var d=this.jf[b].ie();if(a.hasOwnProperty(d)&&a[d]===d)return this.jf[b]}return null};a.hd.prototype.Nsa=function(){return this.jf&&0<this.jf.length?this.jf[0].uw():null};a.hd.prototype.Mja=function(a){return this.jS(a,0,this.jf.length-1)};a.hd.prototype.jS=function(a,
b,d){if(b>d)return null;var e=Math.floor((b+d)/2),f=this.jf[e],g=f.getStart();return g>a?this.jS(a,b,e-1):g+f.getExtent()-1<a?this.jS(a,e+1,d):f};a.hd.prototype.TN=function(c,b,d){for(var e=0;e<this.jf.length;e++)if(this.jf[e].ie()===c)return this.jf[e];c=new a.hd(c,b,d,this);this.jf.push(c);return c};a.hd.prototype.Nja=function(){var a={};a[this.uw().attribute]=this.ie();return a};a.hd.prototype.C7=function(a){for(var b=0;b<this.jf.length;b++)if(this.jf[b]===a){if(0<b)return this.jf[b-1];break}return null};
a.Ch=function(c,b,d){this.Init();this.axis=b;this.h$=[];for(b=0;b<c.length;b++)this.h$.push(d.iO(c[b],this));this.tC=d;this.Mg=new a.hd(null,null,null,null)};o_("CubeAxis",a.Ch,a);a.b.ta(a.Ch,a.b,"oj.CubeAxis");a.Ch.prototype.Init=function(){a.Ch.u.Init.call(this)};a.Ch.prototype.ip=function(){return this.h$};a.b.g("CubeAxis.prototype.getLevels",{ip:a.Ch.prototype.ip});a.Ch.prototype.getExtent=function(){return this.Mg.getExtent()};a.b.g("CubeAxis.prototype.getExtent",{getExtent:a.Ch.prototype.getExtent});
a.Ch.prototype.Tq=function(a){for(var b=[],d=this.Mg;d;)(d=d.Mja(a))&&b.push(d);return b};a.b.g("CubeAxis.prototype.getValues",{Tq:a.Ch.prototype.Tq});a.Ch.prototype.Uk=function(a){a=a?JSON.parse(a):{};for(var b=this.Mg,d=null;b;)d=b,b=b.Lja(a);return d?d.getStart():-1};a.b.g("CubeAxis.prototype.getIndex",{Uk:a.Ch.prototype.Uk});a.Ch.prototype.pG=function(a,b){return this.G_(a,this.ip().length-1,b)};a.Ch.prototype.G_=function(a,b,d){a=this.Tq(a);b=this.ip()[b];for(var e=0;e<a.length;e++){var f=a[e];
f.uw().jA()?d.SN(f.ie()):d.TO(f);if(f.uw()===b)break}return d};a.Ch.prototype.$_=function(a,b){return this.tC.rx(this,0,this.Mg,a,b,!0)};a.Bi=function(a,b,d,e,f){this.Init();this.i={};this.i.value=a;this.i.HHa=b;this.i.wL=d;this.i.rows=e;this.i.Wt=f};o_("CubeDataValue",a.Bi,a);a.b.ta(a.Bi,a.b,"oj.CubeDataValue");a.Bi.prototype.Init=function(){a.Bi.u.Init.call(this)};a.Bi.prototype.ie=function(){switch(this.i.wL){case a.Ai.STDDEV:return Math.sqrt(this.h8());case a.Ai.VARIANCE:return this.h8();default:return this.i.value}};
a.b.g("CubeDataValue.prototype.getValue",{ie:a.Bi.prototype.ie});a.Bi.prototype.jfa=function(){return this.i.HHa};a.b.g("CubeDataValue.prototype.getIndices",{jfa:a.Bi.prototype.jfa});a.Bi.prototype.wfa=function(){return this.i.rows};a.b.g("CubeDataValue.prototype.getRows",{wfa:a.Bi.prototype.wfa});a.Bi.prototype.Lea=function(){return this.i.wL};a.b.g("CubeDataValue.prototype.getAggregation",{Lea:a.Bi.prototype.Lea});a.Bi.prototype.h8=function(){if(isNaN(this.i.Wt))return NaN;var a=this.i.rows.length;
return 1<a?this.i.Wt/(a-1):0};a.wm=function(c,b){var d=b.row?b.row.start:0,e=b.row?b.row.count:0,f=b.column?b.column.start:0,g=b.column?b.column.count:0;a.o.Dq(d,null);a.o.Dq(e,null);a.o.Dq(f,null);a.o.Dq(g,null);this.tC=c;this.lW={row:d,column:f};this.Mg=this.tC.Tq([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.Mg))?this.Mg.length:1;0<g&&(e=d?this.Mg[0].length:1);this.hqa={row:e,column:g}};o_("CubeCellSet",a.wm,a);a.wm.prototype.getData=function(a){var b=a.row;a=a.column;return(b=
Array.isArray(this.Mg)?this.Mg[a-this.lW.column][b-this.lW.row]:this.Mg)?b.ie():null};a.b.g("CubeCellSet.prototype.getData",{getData:a.wm.prototype.getData});a.wm.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.x6(a,"row",2);b.keys.column=this.x6(a,"column",1);return b};a.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:a.wm.prototype.getMetadata});a.wm.prototype.x6=function(c,b,d){var e=this.tC.Mq();return void 0!==c[b]&&e.length>=d?(d=new a.xm,d=e[a.Lc.Q4(b)].pG(c[b],d),d.mu()[0].key):
null};a.wm.prototype.getStart=function(a){return this.lW[a]};a.b.g("CubeCellSet.prototype.getStart",{getStart:a.wm.prototype.getStart});a.wm.prototype.getCount=function(a){return this.hqa[a]};a.b.g("CubeCellSet.prototype.getCount",{getCount:a.wm.prototype.getCount});a.Di=function(c,b,d){this.Init();this.js=d;this.HQ();a.Di.u.constructor.call(this,c,b)};o_("DataValueAttributeCube",a.Di,a);a.b.ta(a.Di,a.Hb,"oj.DataValueAttributeCube");a.Di.prototype.ya=null;a.Di.prototype.Init=function(){a.Di.u.Init.call(this)};
a.Di.prototype.ax=function(){a.Di.u.ax.call(this)};a.Di.prototype.jO=function(a){return this.jy[a]};a.Di.prototype.iO=function(c,b){return c.dataValue?new a.nj(null,b,!0):new a.nj(c.attribute,b,!1)};a.Di.prototype.hO=function(c){return new a.Di(null,c,this.js)};a.Di.prototype.rx=function(a,b,d,e,f,g){if(b>=a.ip().length)return f;var k=a.ip()[b];if(k.jA())return this.Mza(a,d,e,b,f);d=d.TN(e[k.attribute],null,k);g&&f.TO(d);return this.rx(a,b+1,d,e,f,g)};a.Di.prototype.Mza=function(a,b,d,e,f){for(var g=
!0,k=0;k<this.js.length;k++){var l=this.js[k].attribute,m=this.js[k].label;d.hasOwnProperty(l)&&(m=b.TN(l,m,a.ip()[e]),f.SN(l,d[l]),this.rx(a,e+1,m,d,f,g),g=!1)}return f};a.Di.prototype.HQ=function(){this.jy=[];for(var c=0;c<this.js.length;c++){var b=this.js[c];this.jy[b.attribute]=b.aggregation?{Gz:b.aggregation,Qc:b.callback}:{Gz:a.Ai.SUM,Qc:b.callback}}};a.xm=function(){this.HU=[];this.i=[]};a.xm.prototype.TO=function(a){this.HU.push(a)};a.xm.prototype.SN=function(a,b){this.i.push({name:a,value:b})};
a.xm.prototype.mu=function(){var a=[],b=this.Voa();if(0===this.i.length)a.push({key:JSON.stringify(b)});else for(var d=0;d<this.i.length;d++){var e=g.extend(!0,{},b);e[this.i[d].name]=this.i[d].name;a.push({key:JSON.stringify(e),qea:this.i[d].name,value:this.i[d].value})}return a};a.xm.prototype.Voa=function(){for(var a={},b=0;b<this.HU.length;b++){var d=this.HU[b].Nja(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.Vg=function(a,b,d,e){this.tC=b;this.dC=a;this.Sj=void 0===d?0:d;this.fqa=
void 0===e?this.dC.getExtent():Math.min(e,this.dC.getExtent()-d);this.Q5=d+e-1};o_("CubeHeaderSet",a.Vg,a);a.Vg.prototype.getData=function(a,b){var d=this.Fk(a,b);return d?d.cY():null};a.b.g("CubeHeaderSet.prototype.getData",{getData:a.Vg.prototype.getData});a.Vg.prototype.getMetadata=function(c,b){var d=new a.xm,d=this.dC.G_(c,b,d);return(d=d.mu())&&0<d.length?{key:d[0].key}:null};a.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.Vg.prototype.getMetadata});a.Vg.prototype.getLevelCount=function(){return this.dC.ip().length};
a.b.g("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.Vg.prototype.getLevelCount});a.Vg.prototype.getExtent=function(a,b){var d=this.Fk(a,b),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.Sj&&(e-=this.Sj-d);f>this.Q5&&(e-=f-this.Q5);return{extent:e,more:{before:a>d,after:g}}};a.b.g("CubeHeaderSet.prototype.getExtent",{getExtent:a.Vg.prototype.getExtent});a.Vg.prototype.getDepth=function(a,b){return this.Fk(a,b).getDepth()};a.b.g("CubeHeaderSet.prototype.getDepth",{getDepth:a.Vg.prototype.getDepth});
a.Vg.prototype.getCount=function(){return this.fqa};a.b.g("CubeHeaderSet.prototype.getCount",{getCount:a.Vg.prototype.getCount});a.Vg.prototype.getStart=function(){return this.Sj};a.b.g("CubeHeaderSet.prototype.getStart",{getStart:a.Vg.prototype.getStart});a.Vg.prototype.Fk=function(a,b){void 0===b&&(b=0);var d=this.dC.Tq(a);return d&&d.length>b?d[b]:null};a.Lc=function(c){a.Lc.u.constructor.call(this,c)};o_("CubeDataGridDataSource",a.Lc,a);a.b.ta(a.Lc,a.Br,"oj.CubeDataGridDataSource");a.Lc.prototype.pia=
function(a){this.data=a;this.l6()};a.b.g("CubeDataGridDataSource.prototype.setCube",{pia:a.Lc.prototype.pia});a.Lc.prototype.setPage=function(a){this.data.setPage(a);this.l6()};a.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:a.Lc.prototype.setPage});a.Lc.prototype.l6=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.Lc.prototype.getCount=function(a){return(a=this.hq(a))?a.getExtent():0};a.b.g("CubeDataGridDataSource.prototype.getCount",{getCount:a.Lc.prototype.getCount});
a.Lc.prototype.getCountPrecision=function(){return"exact"};a.b.g("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.Lc.prototype.getCountPrecision});a.Lc.prototype.fetchHeaders=function(c,b,d){var e=new a.Vg(this.hq(c.axis),this.data,c.start,c.count);b.success.call(d?d.success:void 0,e,c)};a.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.Lc.prototype.fetchHeaders});a.Lc.prototype.fetchCells=function(c,b,d){for(var e={},f=0;f<c.length;f++){var g=void 0===
c[f].start?0:c[f].start;if("row"===c[f].axis){var k=void 0===c[f].count?this.data.Mq()[1].getExtent():c[f].count;e.row={start:g,count:k}}"column"===c[f].axis&&(k=void 0===c[f].count?this.data.Mq()[0].getExtent():c[f].count,e.column={start:g,count:k})}e=new a.wm(this.data,e);b.success.call(d?d.success:void 0,e,c)};a.b.g("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.Lc.prototype.fetchCells});a.Lc.prototype.keys=function(a){var b={},b=this.jc(a,"row",b),b=this.jc(a,"column",b);return Promise.resolve(b)};
a.b.g("CubeDataGridDataSource.prototype.keys",{keys:a.Lc.prototype.keys});a.Lc.prototype.jc=function(c,b,d){var e=this.hq(b);c=c[b];var f=new a.xm,f=e?e.pG(c,f):"";d[b]=f.mu()[0].key;return d};a.Lc.prototype.indexes=function(a){var b={},b=this.Gj(a,"row",b),b=this.Gj(a,"column",b);return Promise.resolve(b)};a.b.g("CubeDataGridDataSource.prototype.indexes",{indexes:a.Lc.prototype.indexes});a.Lc.prototype.Gj=function(a,b,d){d[b]=this.hq(b).Uk(a[b]);return d};a.Lc.prototype.sort=function(){a.o.ld()};
a.b.g("CubeDataGridDataSource.prototype.sort",{sort:a.Lc.prototype.sort});a.Lc.prototype.move=function(){a.o.ld()};a.b.g("CubeDataGridDataSource.prototype.move",{move:a.Lc.prototype.move});a.Lc.prototype.moveOK=function(){return"invalid"};a.b.g("CubeDataGridDataSource.prototype.moveOK",{moveOK:a.Lc.prototype.moveOK});a.Lc.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.Lc.prototype.getCapability});
a.Lc.Q4=function(a){return"row"===a?1:0};a.Lc.prototype.hq=function(c){c=a.Lc.Q4(c);var b=this.data.Mq();return b.length>c?b[c]:null};a.Ci=function(c,b,d){this.Init();this.js=d;this.$Da=d.valueAttr;this.fya=d.labelAttr;var e=d.defaultAggregation;this.n5=e?a.Ci.bta(e):{Gz:a.Ai.SUM};this.wQ=d.aggregation;this.HQ();a.Ci.u.constructor.call(this,c,b)};o_("DataColumnCube",a.Ci,a);a.b.ta(a.Ci,a.Hb,"oj.DataColumnCube");a.Ci.prototype.Init=function(){a.Ci.u.Init.call(this)};a.Ci.prototype.ax=function(){a.Ci.u.ax.call(this)};
a.Ci.prototype.jO=function(a){return this.jy[a]?this.jy[a]:this.n5};a.Ci.prototype.hO=function(c){return new a.Ci(null,c,this.js)};a.Ci.prototype.iO=function(c,b){return c.attribute===this.fya?new a.nj(c.attribute,b,!0):new a.nj(c.attribute,b,!1)};a.Ci.prototype.rx=function(a,b,d,e,f,g){if(b>=a.ip().length)return f;var k=a.ip()[b],l=e[k.attribute];d=d.TN(l,null,k);k.jA()?f.SN(l,e[this.$Da]):f.TO(d);return this.rx(a,b+1,d,e,f,g)};a.Ci.bta=function(c){return a.bb.Je(c)?{Gz:c}:{Gz:c.aggregation,Qc:c.callback}};
a.Ci.prototype.HQ=function(){this.jy=[];if(this.wQ)for(var a=0;a<this.wQ.length;a++){var b=this.wQ[a],d=b.aggregation;this.jy[b.value]=d?{Gz:d,Qc:b.callback}:this.n5}};a.nj=function(a,b,d){this.Init();this.attribute=a;this.F3=b;this.axis=b.axis;this.m5=d};o_("CubeLevel",a.nj,a);a.b.ta(a.nj,a.b,"oj.CubeLevel");a.nj.prototype.Init=function(){a.nj.u.Init.call(this)};a.nj.prototype.ie=function(a){if(a=this.F3.Tq(a))for(var b=0;b<a.length;b++)if(a[b].uw()===this)return a[b];return null};a.b.g("CubeLevel.prototype.getValue",
{ie:a.nj.prototype.ie});a.nj.prototype.jA=function(){return this.m5};a.b.g("CubeLevel.prototype.isDataValue",{jA:a.nj.prototype.jA});a.nj.prototype.m5=!1;a.nj.prototype.F3=null});