/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(b,f){b.Wa=function(a,b){this.Init();this.na=a;this.ih=b;this.Mr()};o_("Cube",b.Wa,b);b.b.ga(b.Wa,b.b,"oj.Cube");b.Wa.prototype.Init=function(){b.Wa.q.Init.call(this)};b.Wa.prototype.om=function(){var a=this.FW(),b=[];Array.prototype.push.apply(b,a?a.om():this.xf);for(a=2;a<this.xf.length;a++)b.push(this.xf[a]);return b};b.b.g("Cube.prototype.getAxes",{om:b.Wa.prototype.om});b.Wa.prototype.rJ=function(){return this.xf};b.Wa.prototype.wm=
function(a){var b=this.FW();a=b.uia(a);for(a=b=b.B1(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};b.b.g("Cube.prototype.getValues",{wm:b.Wa.prototype.wm});b.Wa.prototype.setPage=function(a){this.ZK=a instanceof Array?a:[a]};b.Wa.prototype.T4=function(a,d,c,e,f){var h=this.ih,k=this.zV(a);if(!k)return!1;a=null;c<h.length?a=this.zV(c):(a={axis:c,levels:[]},h.push(a));c=k.levels;h=a.levels;a=d<c.length?c[d]:null;if(!a)return!1;e>=h.length?(h.push(a),c.splice(d,
1)):f===b.Wa.FF.SWAP?(c[d]=h[e],h[e]=a):(f===b.Wa.FF.AFTER&&e++,h.splice(e,0,a),h===c&&e<d&&d++,c.splice(d,1));this.Mr();return!0};b.b.g("Cube.prototype.pivot",{T4:b.Wa.prototype.T4});b.Wa.prototype.zV=function(a){for(var b=0;b<this.ih.length;b++)if(this.ih[b].axis===a)return this.ih[b];return null};b.Wa.prototype.i3=function(){return this.ih};b.b.g("Cube.prototype.getLayout",{i3:b.Wa.prototype.i3});b.Wa.FF={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",b.Wa.FF,b);b.Wa.prototype.B1=
function(a,b,c){var e=[];if(0===a.length)return b=c.slice(0),this.rq(b);var f=a.slice(1),h=a[0].start;a=a[0].count;for(c[b]=h;c[b]<h+a;c[b]++)e.push(this.B1(f,b+1,c));return e};b.Wa.prototype.uia=function(a){var b=[];if(!a)return b;for(var c=Math.min(a.length,this.xf.length),e=0;e<c;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.yB(f.start,f.count,e)):b.push(this.yB(f.start,1,e)):b.push(this.yB(0,
f.count,e)):b.push(this.yB(f,1,e))}return b};b.Wa.prototype.yB=function(a,b,c){c=this.om()[c].Vb();if(a>=c||0>a)a=0;b=Math.min(b,c-a);return{start:a,index:a,count:b}};b.Wa.prototype.rq=function(a){var d=this.iba(a);return d&&(d=d.qp(),0<d.length&&(d=this.i[d[0].key]))?new b.$f(d.value,a,d.OD,d.rows,d.ep):new b.$f(null,a,void 0,[])};b.Wa.prototype.z6=function(){var a=this.mea();this.ZK=[];for(var b=0;b<a.length;b++)this.fq(a[b].axis,a[b].levels),this.ZK.push({axis:a[b].axis,index:0});if(0===a.length)for(a=
this.rJ(),b=0;b<a.length;b++)this.fq(a[b].axis,a[b].levels)};b.Wa.prototype.mea=function(){for(var a=[],b=0;b<this.ih.length;b++)1<this.ih[b].axis&&a.push(this.ih[b]);return a};b.Wa.prototype.rJ=function(){for(var a=[],b=0;b<this.ih.length;b++)2>this.ih[b].axis&&a.push(this.ih[b]);return a};b.Wa.prototype.Mr=function(){this.xf=[];this.i=[];this.hI=[];this.z6();if(null!==this.na)for(var a=0;a<this.na.length;a++){for(var d=new b.Ti,c=2;c<this.xf.length;c++)d=this.xf[c].mQ(this.na[a],d);for(var d=d.qp(),
e=0;e<d.length;e++){var c=d[e].key,f=this.hI[c];f||(f=this.hI[c]=this.lF(this.rJ()));for(var h=new b.Ti,k=f.xf.length,c=0;c<k;c++)h=f.xf[c].mQ(this.na[a],h);h=c=h.qp();if(void 0!==d[e].t2)for(h=[],k=0;k<c.length;k++)h.push(d[e]);f.Mla(c,h,this.na[a])}}};b.Wa.prototype.Mla=function(a,b,c){for(var e=0;e<a.length;e++)this.i[a[e].key]=this.z$(b[e],this.i[a[e].key],c)};b.Wa.prototype.FW=function(){return this.hI[this.Pda(this.ZK)]};b.Wa.prototype.Pda=function(a){var d=new b.Ti;if(a&&0<a.length){a.sort(function(a,
b){return a.axis-b.axis});for(var c=this.xf,e=0;e<a.length;e++)d=c[a[e].axis].vz(a[e].index,d)}return d.qp()[0].key};b.Wa.HY=function(a){return a?void 0!==a.value&&null!==a.value:!1};b.Wa.prototype.Cc=function(a,b,c,e,f){c.push(e);e={};for(var h in f)f.hasOwnProperty(h)&&(e[h]=f[h]);e.value=a;e.OD=b;e.rows=c;return e};b.Wa.Je=function(a){return b.Ea.od(a.value)?!1:!isNaN(a.value)};b.Wa.prototype.z$=function(a,d,c){var e=this.nF(a.t2),f=e.qu,h=b.Wa.HY(d),k=b.Wa.HY(a),l=h&&b.Wa.Je(d),m=k&&b.Wa.Je(a);
switch(f){case b.Zf.SUM:return h&&k?l&&m?this.Cc(d.value+a.value,f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Zf.AVERAGE:return h&&k?l&&m?this.Cc((d.Wu+a.value)/(d.rows.length+1),f,d.rows,c,{Wu:d.Wu+a.value}):this.Cc(NaN,f,d.rows,c,{Wu:d.Wu}):k&&!h?m?this.Cc(a.value,f,[],c,{Wu:a.value}):this.Cc(NaN,f,[],c,{Wu:NaN}):d;case b.Zf.VARIANCE:case b.Zf.STDDEV:return h&&k?l&&m?(h=d.value+(a.value-d.value)/(d.rows.length+1),this.Cc(h,f,d.rows,
c,{ep:d.ep+(a.value-d.value)*(a.value-h)})):this.Cc(NaN,f,d.rows,c,{ep:NaN}):k&&!h?m?this.Cc(a.value,f,[],c,{ep:0}):this.Cc(NaN,f,[],c,{ep:NaN}):d;case b.Zf.NONE:return this.Cc(null,f,h?d.rows:[],c,{});case b.Zf.FIRST:return h?this.Cc(d.value,f,d.rows,c,{}):k?this.Cc(a.value,f,[],c,{}):d;case b.Zf.MIN:return h&&k?l&&m?this.Cc(Math.min(d.value,a.value),f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Zf.MAX:return h&&k?l&&m?this.Cc(Math.max(d.value,
a.value),f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Zf.COUNT:return h&&k?this.Cc(d.value+1,f,d.rows,c,{}):k&&!h?this.Cc(1,f,[],c,{}):d;case b.Zf.CUSTOM:return a=e.Cb.call(this,h?d.value:void 0,k?a.value:void 0),this.Cc(a,f,h?d.rows:[],c,{})}};b.Wa.prototype.fq=function(a,d){a>=this.xf.length&&Array.prototype.push.apply(this.xf,Array(a-this.xf.length+1));this.xf[a]||(this.xf[a]=new b.ef(d,a,this));return this.xf[a]};b.Wa.prototype.iba=
function(a){for(var d=this.om(),c=new b.Ti,e=0;e<a.length;e++)c=d[e].vz(a[e],c);return c};b.Wa.prototype.as=function(){b.l.Yb()};b.Wa.prototype.lF=function(){b.l.Yb()};b.Wa.prototype.mF=function(){b.l.Yb()};b.Wa.prototype.nF=function(){b.l.Yb();return{}};b.Zf={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",b.Zf,b);b.ac=function(a,b,c,e){this.Init();this.yd=[];this.Iq=e;this.Uba=c;this.i={};this.i.value=
a;this.i.label=b};o_("CubeAxisValue",b.ac,b);b.b.ga(b.ac,b.b,"oj.CubeAxisValue");b.ac.prototype.Init=function(){b.ac.q.Init.call(this)};b.ac.prototype.jr=function(){return this.Uba};b.b.g("CubeAxisValue.prototype.getLevel",{jr:b.ac.prototype.jr});b.ac.prototype.me=function(){return 1};b.b.g("CubeAxisValue.prototype.getDepth",{me:b.ac.prototype.me});b.ac.prototype.k3=function(){for(var a=[],b=this.Iq;b&&b.Iq;)a.unshift(b),b=b.Iq;return a};b.b.g("CubeAxisValue.prototype.getParents",{k3:b.ac.prototype.k3});
b.ac.prototype.getChildren=function(){return this.yd};b.b.g("CubeAxisValue.prototype.getChildren",{getChildren:b.ac.prototype.getChildren});b.ac.prototype.Vb=function(){if(-1<this.dt)return this.dt;if(this.yd&&0!==this.yd.length)for(var a=this.dt=0;a<this.getChildren().length;a++)this.dt+=this.getChildren()[a].Vb();else this.dt=1;return this.dt};b.b.g("CubeAxisValue.prototype.getExtent",{Vb:b.ac.prototype.Vb});b.ac.prototype.ta=function(){if(-1<this.Lh)return this.Lh;if(!this.Iq)return 0;for(var a=
this.Iq.ta(),b=this.Iq.IW(this);b;)a+=b.Vb(),b=this.Iq.IW(b);return this.Lh=a};b.b.g("CubeAxisValue.prototype.getStart",{ta:b.ac.prototype.ta});b.ac.prototype.Jc=function(){return this.i.value};b.b.g("CubeAxisValue.prototype.getValue",{Jc:b.ac.prototype.Jc});b.ac.prototype.NN=function(){return this.i.label?this.i.label:this.Jc()};b.b.g("CubeAxisValue.prototype.getLabel",{NN:b.ac.prototype.NN});b.ac.prototype.A6=function(a){var b=this.oda();if(null===b)return null;if(b.Ju())return this.yda(a);if(a=
a[b.attribute])for(b=0;b<this.yd.length;b++)if(this.yd[b].Jc()===a)return this.yd[b];return null};b.ac.prototype.yda=function(a){for(var b=0;b<this.yd.length;b++){var c=this.yd[b].Jc();if(a.hasOwnProperty(c)&&a[c]===c)return this.yd[b]}return null};b.ac.prototype.oda=function(){return this.yd&&0<this.yd.length?this.yd[0].jr():null};b.ac.prototype.B6=function(a){return this.HI(a,0,this.yd.length-1)};b.ac.prototype.HI=function(a,b,c){if(b>c)return null;var e=Math.floor((b+c)/2),f=this.yd[e],h=f.ta();
return h>a?this.HI(a,b,e-1):h+f.Vb()-1<a?this.HI(a,e+1,c):f};b.ac.prototype.aF=function(a,d,c){for(var e=0;e<this.yd.length;e++)if(this.yd[e].Jc()===a)return this.yd[e];a=new b.ac(a,d,c,this);this.yd.push(a);return a};b.ac.prototype.C6=function(){var a={};a[this.jr().attribute]=this.Jc();return a};b.ac.prototype.IW=function(a){for(var b=0;b<this.yd.length;b++)if(this.yd[b]===a){if(0<b)return this.yd[b-1];break}return null};b.ef=function(a,d,c){this.Init();this.axis=d;this.PY=[];for(d=0;d<a.length;d++)this.PY.push(c.mF(a[d],
this));this.uw=c;this.Ao=new b.ac(null,null,null,null)};o_("CubeAxis",b.ef,b);b.b.ga(b.ef,b.b,"oj.CubeAxis");b.ef.prototype.Init=function(){b.ef.q.Init.call(this)};b.ef.prototype.Tk=function(){return this.PY};b.b.g("CubeAxis.prototype.getLevels",{Tk:b.ef.prototype.Tk});b.ef.prototype.Vb=function(){return this.Ao.Vb()};b.b.g("CubeAxis.prototype.getExtent",{Vb:b.ef.prototype.Vb});b.ef.prototype.wm=function(a){for(var b=[],c=this.Ao;c;)(c=c.B6(a))&&b.push(c);return b};b.b.g("CubeAxis.prototype.getValues",
{wm:b.ef.prototype.wm});b.ef.prototype.Ji=function(a){a=a?JSON.parse(a):{};for(var b=this.Ao,c=null;b;)c=b,b=b.A6(a);return c?c.ta():-1};b.b.g("CubeAxis.prototype.getIndex",{Ji:b.ef.prototype.Ji});b.ef.prototype.vz=function(a,b){return this.WP(a,this.Tk().length-1,b)};b.ef.prototype.WP=function(a,b,c){a=this.wm(a);b=this.Tk()[b];for(var e=0;e<a.length;e++){var f=a[e];f.jr().Ju()?c.$E(f.Jc()):c.OF(f);if(f.jr()===b)break}return c};b.ef.prototype.mQ=function(a,b){return this.uw.as(this,0,this.Ao,a,b,
!0)};b.$f=function(a,b,c,e,f){this.Init();this.i={};this.i.value=a;this.i.apa=b;this.i.OD=c;this.i.rows=e;this.i.ep=f};o_("CubeDataValue",b.$f,b);b.b.ga(b.$f,b.b,"oj.CubeDataValue");b.$f.prototype.Init=function(){b.$f.q.Init.call(this)};b.$f.prototype.Jc=function(){switch(this.i.OD){case b.Zf.STDDEV:return Math.sqrt(this.jX());case b.Zf.VARIANCE:return this.jX();default:return this.i.value}};b.b.g("CubeDataValue.prototype.getValue",{Jc:b.$f.prototype.Jc});b.$f.prototype.g3=function(){return this.i.apa};
b.b.g("CubeDataValue.prototype.getIndices",{g3:b.$f.prototype.g3});b.$f.prototype.p3=function(){return this.i.rows};b.b.g("CubeDataValue.prototype.getRows",{p3:b.$f.prototype.p3});b.$f.prototype.K2=function(){return this.i.OD};b.b.g("CubeDataValue.prototype.getAggregation",{K2:b.$f.prototype.K2});b.$f.prototype.jX=function(){if(isNaN(this.i.ep))return NaN;var a=this.i.rows.length;return 1<a?this.i.ep/(a-1):0};b.Si=function(a,d){var c=d.row?d.row.start:0,e=d.row?d.row.count:0,f=d.column?d.column.start:
0,h=d.column?d.column.count:0;b.l.gm(c,null);b.l.gm(e,null);b.l.gm(f,null);b.l.gm(h,null);this.uw=a;this.gM={row:c,column:f};this.Ao=this.uw.wm([{start:f,count:h},{start:c,count:e}]);h=this.Ao.length;0<h&&(e=this.Ao[0].length);this.eba={row:e,column:h}};o_("CubeCellSet",b.Si,b);b.Si.prototype.getData=function(a){return(a=this.Ao[a.column-this.gM.column][a.row-this.gM.row])?a.Jc():null};b.b.g("CubeCellSet.prototype.getData",{getData:b.Si.prototype.getData});b.Si.prototype.getMetadata=function(a){var b=
{keys:{}};b.keys.row=this.NV(a,"row",2);b.keys.column=this.NV(a,"column",1);return b};b.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:b.Si.prototype.getMetadata});b.Si.prototype.NV=function(a,d,c){var e=this.uw.om();return void 0!==a[d]&&e.length>=c?(c=new b.Ti,c=e[b.Ib.mU(d)].vz(a[d],c),c.qp()[0].key):null};b.Si.prototype.ta=function(a){return this.gM[a]};b.b.g("CubeCellSet.prototype.getStart",{ta:b.Si.prototype.ta});b.Si.prototype.R=function(a){return this.eba[a]};b.b.g("CubeCellSet.prototype.getCount",
{R:b.Si.prototype.R});b.bg=function(a,d,c){this.Init();this.Kn=c;this.nH();b.bg.q.constructor.call(this,a,d)};o_("DataValueAttributeCube",b.bg,b);b.b.ga(b.bg,b.Wa,"oj.DataValueAttributeCube");b.bg.prototype.na=null;b.bg.prototype.Init=function(){b.bg.q.Init.call(this)};b.bg.prototype.Mr=function(){b.bg.q.Mr.call(this)};b.bg.prototype.nF=function(a){return this.Vs[a]};b.bg.prototype.mF=function(a,d){return a.dataValue?new b.Pg(null,d,!0):new b.Pg(a.attribute,d,!1)};b.bg.prototype.lF=function(a){return new b.bg(null,
a,this.Kn)};b.bg.prototype.as=function(a,b,c,e,f,h){if(b>=a.Tk().length)return f;var k=a.Tk()[b];if(k.Ju())return this.Yia(a,c,e,b,f);c=c.aF(e[k.attribute],null,k);h&&f.OF(c);return this.as(a,b+1,c,e,f,h)};b.bg.prototype.Yia=function(a,b,c,e,f){for(var h=!0,k=0;k<this.Kn.length;k++){var l=this.Kn[k].attribute,m=this.Kn[k].label;c.hasOwnProperty(l)&&(m=b.aF(l,m,a.Tk()[e]),f.$E(l,c[l]),this.as(a,e+1,m,c,f,h),h=!1)}return f};b.bg.prototype.nH=function(){this.Vs=[];for(var a=0;a<this.Kn.length;a++){var d=
this.Kn[a];this.Vs[d.attribute]=d.aggregation?{qu:d.aggregation,Cb:d.callback}:{qu:b.Zf.SUM,Cb:d.callback}}};b.Ti=function(){this.EK=[];this.i=[]};b.Ti.prototype.OF=function(a){this.EK.push(a)};b.Ti.prototype.$E=function(a,b){this.i.push({name:a,value:b})};b.Ti.prototype.qp=function(){var a=[],b=this.daa();if(0===this.i.length)a.push({key:JSON.stringify(b)});else for(var c=0;c<this.i.length;c++){var e=f.extend(!0,{},b);e[this.i[c].name]=this.i[c].name;a.push({key:JSON.stringify(e),t2:this.i[c].name,
value:this.i[c].value})}return a};b.Ti.prototype.daa=function(){for(var a={},b=0;b<this.EK.length;b++){var c=this.EK[b].C6(),e;for(e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}return a};b.Pe=function(a,b,c,e){this.uw=b;this.dw=a;this.Lh=void 0===c?0:c;this.dba=void 0===e?this.dw.Vb():Math.min(e,this.dw.Vb()-c);this.nV=c+e-1};o_("CubeHeaderSet",b.Pe,b);b.Pe.prototype.getData=function(a,b){var c=this.rq(a,b);return c?c.NN():null};b.b.g("CubeHeaderSet.prototype.getData",{getData:b.Pe.prototype.getData});
b.Pe.prototype.getMetadata=function(a,d){var c=new b.Ti,c=this.dw.WP(a,d,c);return(c=c.qp())&&0<c.length?{key:c[0].key}:null};b.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:b.Pe.prototype.getMetadata});b.Pe.prototype.Ag=function(){return this.dw.Tk().length};b.b.g("CubeHeaderSet.prototype.getLevelCount",{Ag:b.Pe.prototype.Ag});b.Pe.prototype.Vb=function(a,b){var c=this.rq(a,b),e=c.Vb(),c=c.ta(),f=c+e-1,h=a<c+e-1;c<this.Lh&&(e-=this.Lh-c);f>this.nV&&(e-=f-this.nV);return{extent:e,more:{before:a>
c,after:h}}};b.b.g("CubeHeaderSet.prototype.getExtent",{Vb:b.Pe.prototype.Vb});b.Pe.prototype.me=function(a,b){return this.rq(a,b).me()};b.b.g("CubeHeaderSet.prototype.getDepth",{me:b.Pe.prototype.me});b.Pe.prototype.R=function(){return this.dba};b.b.g("CubeHeaderSet.prototype.getCount",{R:b.Pe.prototype.R});b.Pe.prototype.ta=function(){return this.Lh};b.b.g("CubeHeaderSet.prototype.getStart",{ta:b.Pe.prototype.ta});b.Pe.prototype.rq=function(a,b){void 0===b&&(b=0);var c=this.dw.wm(a);return c&&c.length>
b?c[b]:null};b.Ib=function(a){b.Ib.q.constructor.call(this,a)};o_("CubeDataGridDataSource",b.Ib,b);b.b.ga(b.Ib,b.Wm,"oj.CubeDataGridDataSource");b.Ib.prototype.o5=function(a){this.data=a;this.EV()};b.b.g("CubeDataGridDataSource.prototype.setCube",{o5:b.Ib.prototype.o5});b.Ib.prototype.setPage=function(a){this.data.setPage(a);this.EV()};b.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:b.Ib.prototype.setPage});b.Ib.prototype.EV=function(){this.handleEvent("change",{source:this,operation:"refresh"})};
b.Ib.prototype.R=function(a){return(a=this.fq(a))?a.Vb():0};b.b.g("CubeDataGridDataSource.prototype.getCount",{R:b.Ib.prototype.R});b.Ib.prototype.yg=function(){return"exact"};b.b.g("CubeDataGridDataSource.prototype.getCountPrecision",{yg:b.Ib.prototype.yg});b.Ib.prototype.Lf=function(a,d,c){var e=new b.Pe(this.fq(a.axis),this.data,a.start,a.count);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{Lf:b.Ib.prototype.Lf});b.Ib.prototype.xg=function(a,d,c){for(var e=
{},f=0;f<a.length;f++){var h=void 0===a[f].start?0:a[f].start;if("row"===a[f].axis){var k=void 0===a[f].count?this.data.om()[1].Vb():a[f].count;e.row={start:h,count:k}}"column"===a[f].axis&&(k=void 0===a[f].count?this.data.om()[0].Vb():a[f].count,e.column={start:h,count:k})}e=new b.Si(this.data,e);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchCells",{xg:b.Ib.prototype.xg});b.Ib.prototype.keys=function(a){var b={},b=this.Rn(a,"row",b),b=this.Rn(a,"column",b);
return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.keys",{keys:b.Ib.prototype.keys});b.Ib.prototype.Rn=function(a,d,c){var e=this.fq(d);a=a[d];var f=new b.Ti,f=e?e.vz(a,f):"";c[d]=f.qp()[0].key;return c};b.Ib.prototype.Dg=function(a){var b={},b=this.dh(a,"row",b),b=this.dh(a,"column",b);return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.indexes",{Dg:b.Ib.prototype.Dg});b.Ib.prototype.dh=function(a,b,c){c[b]=this.fq(b).Ji(a[b]);return c};b.Ib.prototype.sort=function(){b.l.Yb()};
b.b.g("CubeDataGridDataSource.prototype.sort",{sort:b.Ib.prototype.sort});b.Ib.prototype.move=function(){b.l.Yb()};b.b.g("CubeDataGridDataSource.prototype.move",{move:b.Ib.prototype.move});b.Ib.prototype.pd=function(){return"invalid"};b.b.g("CubeDataGridDataSource.prototype.moveOK",{pd:b.Ib.prototype.pd});b.Ib.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};b.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:b.Ib.prototype.getCapability});
b.Ib.mU=function(a){return"row"===a?1:0};b.Ib.prototype.fq=function(a){a=b.Ib.mU(a);var d=this.data.om();return d.length>a?d[a]:null};b.ag=function(a,d,c){this.Init();this.Kn=c;this.Ima=c.valueAttr;this.zha=c.labelAttr;var e=c.defaultAggregation;this.IU=e?b.ag.Ada(e):{qu:b.Zf.SUM};this.cH=c.aggregation;this.nH();b.ag.q.constructor.call(this,a,d)};o_("DataColumnCube",b.ag,b);b.b.ga(b.ag,b.Wa,"oj.DataColumnCube");b.ag.prototype.Init=function(){b.ag.q.Init.call(this)};b.ag.prototype.Mr=function(){b.ag.q.Mr.call(this)};
b.ag.prototype.nF=function(a){return this.Vs[a]?this.Vs[a]:this.IU};b.ag.prototype.lF=function(a){return new b.ag(null,a,this.Kn)};b.ag.prototype.mF=function(a,d){return a.attribute===this.zha?new b.Pg(a.attribute,d,!0):new b.Pg(a.attribute,d,!1)};b.ag.prototype.as=function(a,b,c,e,f,h){if(b>=a.Tk().length)return f;var k=a.Tk()[b],l=e[k.attribute];c=c.aF(l,null,k);k.Ju()?f.$E(l,e[this.Ima]):f.OF(c);return this.as(a,b+1,c,e,f,h)};b.ag.Ada=function(a){return b.Ea.od(a)?{qu:a}:{qu:a.aggregation,Cb:a.callback}};
b.ag.prototype.nH=function(){this.Vs=[];if(this.cH)for(var a=0;a<this.cH.length;a++){var b=this.cH[a],c=b.aggregation;this.Vs[b.value]=c?{qu:c,Cb:b.callback}:this.IU}};b.Pg=function(a,b,c){this.Init();this.attribute=a;this.pT=b;this.axis=b.axis;this.HU=c};o_("CubeLevel",b.Pg,b);b.b.ga(b.Pg,b.b,"oj.CubeLevel");b.Pg.prototype.Init=function(){b.Pg.q.Init.call(this)};b.Pg.prototype.Jc=function(a){if(a=this.pT.wm(a))for(var b=0;b<a.length;b++)if(a[b].jr()===this)return a[b];return null};b.b.g("CubeLevel.prototype.getValue",
{Jc:b.Pg.prototype.Jc});b.Pg.prototype.Ju=function(){return this.HU};b.b.g("CubeLevel.prototype.isDataValue",{Ju:b.Pg.prototype.Ju});b.Pg.prototype.HU=!1;b.Pg.prototype.pT=null});