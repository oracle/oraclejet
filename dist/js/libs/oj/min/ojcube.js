/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,f){a.Xa=function(b,a){this.Init();this.na=b;this.gh=a;this.Pr()};o_("Cube",a.Xa,a);a.b.ga(a.Xa,a.b,"oj.Cube");a.Xa.prototype.Init=function(){a.Xa.r.Init.call(this)};a.Xa.prototype.vm=function(){var b=this.NW(),a=[];Array.prototype.push.apply(a,b?b.vm():this.Bf);for(b=2;b<this.Bf.length;b++)a.push(this.Bf[b]);return a};a.b.g("Cube.prototype.getAxes",{vm:a.Xa.prototype.vm});a.Xa.prototype.pJ=function(){return this.Bf};a.Xa.prototype.Cm=
function(b){var a=this.NW();b=a.Oia(b);for(b=a=a.K1(b,0,[]);Array.isArray(b)&&1===b.length;)if(b=b[0],!Array.isArray(b))return b;return a};a.b.g("Cube.prototype.getValues",{Cm:a.Xa.prototype.Cm});a.Xa.prototype.setPage=function(b){this.YK=b instanceof Array?b:[b]};a.Xa.prototype.c5=function(b,d,c,e,f){var h=this.gh,k=this.HV(b);if(!k)return!1;b=null;c<h.length?b=this.HV(c):(b={axis:c,levels:[]},h.push(b));c=k.levels;h=b.levels;b=d<c.length?c[d]:null;if(!b)return!1;e>=h.length?(h.push(b),c.splice(d,
1)):f===a.Xa.FF.SWAP?(c[d]=h[e],h[e]=b):(f===a.Xa.FF.AFTER&&e++,h.splice(e,0,b),h===c&&e<d&&d++,c.splice(d,1));this.Pr();return!0};a.b.g("Cube.prototype.pivot",{c5:a.Xa.prototype.c5});a.Xa.prototype.HV=function(b){for(var a=0;a<this.gh.length;a++)if(this.gh[a].axis===b)return this.gh[a];return null};a.Xa.prototype.q3=function(){return this.gh};a.b.g("Cube.prototype.getLayout",{q3:a.Xa.prototype.q3});a.Xa.FF={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",a.Xa.FF,a);a.Xa.prototype.K1=
function(b,a,c){var e=[];if(0===b.length)return a=c.slice(0),this.vq(a);var f=b.slice(1),h=b[0].start;b=b[0].count;for(c[a]=h;c[a]<h+b;c[a]++)e.push(this.K1(f,a+1,c));return e};a.Xa.prototype.Oia=function(b){var a=[];if(!b)return a;for(var c=Math.min(b.length,this.Bf.length),e=0;e<c;e++){var f=b[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?a.push(this.AB(f.start,f.count,e)):a.push(this.AB(f.start,1,e)):a.push(this.AB(0,
f.count,e)):a.push(this.AB(f,1,e))}return a};a.Xa.prototype.AB=function(b,a,c){c=this.vm()[c].Vb();if(b>=c||0>b)b=0;a=Math.min(a,c-b);return{start:b,index:b,count:a}};a.Xa.prototype.vq=function(b){var d=this.Cba(b);return d&&(d=d.vp(),0<d.length&&(d=this.i[d[0].key]))?new a.ag(d.value,b,d.PD,d.rows,d.ip):new a.ag(null,b,void 0,[])};a.Xa.prototype.J6=function(){var b=this.Gea();this.YK=[];for(var a=0;a<b.length;a++)this.jq(b[a].axis,b[a].levels),this.YK.push({axis:b[a].axis,index:0});if(0===b.length)for(b=
this.pJ(),a=0;a<b.length;a++)this.jq(b[a].axis,b[a].levels)};a.Xa.prototype.Gea=function(){for(var b=[],a=0;a<this.gh.length;a++)1<this.gh[a].axis&&b.push(this.gh[a]);return b};a.Xa.prototype.pJ=function(){for(var b=[],a=0;a<this.gh.length;a++)2>this.gh[a].axis&&b.push(this.gh[a]);return b};a.Xa.prototype.Pr=function(){this.Bf=[];this.i=[];this.gI=[];this.J6();if(null!==this.na)for(var b=0;b<this.na.length;b++){for(var d=new a.Wi,c=2;c<this.Bf.length;c++)d=this.Bf[c].nQ(this.na[b],d);for(var d=d.vp(),
e=0;e<d.length;e++){var c=d[e].key,f=this.gI[c];f||(f=this.gI[c]=this.lF(this.pJ()));for(var h=new a.Wi,k=f.Bf.length,c=0;c<k;c++)h=f.Bf[c].nQ(this.na[b],h);h=c=h.vp();if(void 0!==d[e].B2)for(h=[],k=0;k<c.length;k++)h.push(d[e]);f.fma(c,h,this.na[b])}}};a.Xa.prototype.fma=function(b,a,c){for(var e=0;e<b.length;e++)this.i[b[e].key]=this.T$(a[e],this.i[b[e].key],c)};a.Xa.prototype.NW=function(){return this.gI[this.iea(this.YK)]};a.Xa.prototype.iea=function(b){var d=new a.Wi;if(b&&0<b.length){b.sort(function(b,
a){return b.axis-a.axis});for(var c=this.Bf,e=0;e<b.length;e++)d=c[b[e].axis].yz(b[e].index,d)}return d.vp()[0].key};a.Xa.PY=function(b){return b?void 0!==b.value&&null!==b.value:!1};a.Xa.prototype.Dc=function(b,a,c,e,f){c.push(e);e={};for(var h in f)f.hasOwnProperty(h)&&(e[h]=f[h]);e.value=b;e.PD=a;e.rows=c;return e};a.Xa.Ke=function(b){return a.Ea.qd(b.value)?!1:!isNaN(b.value)};a.Xa.prototype.T$=function(b,d,c){var e=this.nF(b.B2),f=e.uu,h=a.Xa.PY(d),k=a.Xa.PY(b),l=h&&a.Xa.Ke(d),m=k&&a.Xa.Ke(b);
switch(f){case a.$f.SUM:return h&&k?l&&m?this.Dc(d.value+b.value,f,d.rows,c,{}):this.Dc(NaN,f,d.rows,c,{}):k&&!h?m?this.Dc(b.value,f,[],c,{}):this.Dc(NaN,f,[],c,{}):d;case a.$f.AVERAGE:return h&&k?l&&m?this.Dc((d.Zu+b.value)/(d.rows.length+1),f,d.rows,c,{Zu:d.Zu+b.value}):this.Dc(NaN,f,d.rows,c,{Zu:d.Zu}):k&&!h?m?this.Dc(b.value,f,[],c,{Zu:b.value}):this.Dc(NaN,f,[],c,{Zu:NaN}):d;case a.$f.VARIANCE:case a.$f.STDDEV:return h&&k?l&&m?(h=d.value+(b.value-d.value)/(d.rows.length+1),this.Dc(h,f,d.rows,
c,{ip:d.ip+(b.value-d.value)*(b.value-h)})):this.Dc(NaN,f,d.rows,c,{ip:NaN}):k&&!h?m?this.Dc(b.value,f,[],c,{ip:0}):this.Dc(NaN,f,[],c,{ip:NaN}):d;case a.$f.NONE:return this.Dc(null,f,h?d.rows:[],c,{});case a.$f.FIRST:return h?this.Dc(d.value,f,d.rows,c,{}):k?this.Dc(b.value,f,[],c,{}):d;case a.$f.MIN:return h&&k?l&&m?this.Dc(Math.min(d.value,b.value),f,d.rows,c,{}):this.Dc(NaN,f,d.rows,c,{}):k&&!h?m?this.Dc(b.value,f,[],c,{}):this.Dc(NaN,f,[],c,{}):d;case a.$f.MAX:return h&&k?l&&m?this.Dc(Math.max(d.value,
b.value),f,d.rows,c,{}):this.Dc(NaN,f,d.rows,c,{}):k&&!h?m?this.Dc(b.value,f,[],c,{}):this.Dc(NaN,f,[],c,{}):d;case a.$f.COUNT:return h&&k?this.Dc(d.value+1,f,d.rows,c,{}):k&&!h?this.Dc(1,f,[],c,{}):d;case a.$f.CUSTOM:return b=e.Db.call(this,h?d.value:void 0,k?b.value:void 0),this.Dc(b,f,h?d.rows:[],c,{})}};a.Xa.prototype.jq=function(b,d){b>=this.Bf.length&&Array.prototype.push.apply(this.Bf,Array(b-this.Bf.length+1));this.Bf[b]||(this.Bf[b]=new a.hf(d,b,this));return this.Bf[b]};a.Xa.prototype.Cba=
function(b){for(var d=this.vm(),c=new a.Wi,e=0;e<b.length;e++)c=d[e].yz(b[e],c);return c};a.Xa.prototype.fs=function(){a.l.Yb()};a.Xa.prototype.lF=function(){a.l.Yb()};a.Xa.prototype.mF=function(){a.l.Yb()};a.Xa.prototype.nF=function(){a.l.Yb();return{}};a.$f={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.$f,a);a.ac=function(b,a,c,e){this.Init();this.zd=[];this.Mq=e;this.nca=c;this.i={};this.i.value=
b;this.i.label=a};o_("CubeAxisValue",a.ac,a);a.b.ga(a.ac,a.b,"oj.CubeAxisValue");a.ac.prototype.Init=function(){a.ac.r.Init.call(this)};a.ac.prototype.nr=function(){return this.nca};a.b.g("CubeAxisValue.prototype.getLevel",{nr:a.ac.prototype.nr});a.ac.prototype.oe=function(){return 1};a.b.g("CubeAxisValue.prototype.getDepth",{oe:a.ac.prototype.oe});a.ac.prototype.s3=function(){for(var b=[],a=this.Mq;a&&a.Mq;)b.unshift(a),a=a.Mq;return b};a.b.g("CubeAxisValue.prototype.getParents",{s3:a.ac.prototype.s3});
a.ac.prototype.getChildren=function(){return this.zd};a.b.g("CubeAxisValue.prototype.getChildren",{getChildren:a.ac.prototype.getChildren});a.ac.prototype.Vb=function(){if(-1<this.gt)return this.gt;if(this.zd&&0!==this.zd.length)for(var b=this.gt=0;b<this.getChildren().length;b++)this.gt+=this.getChildren()[b].Vb();else this.gt=1;return this.gt};a.b.g("CubeAxisValue.prototype.getExtent",{Vb:a.ac.prototype.Vb});a.ac.prototype.ta=function(){if(-1<this.Mh)return this.Mh;if(!this.Mq)return 0;for(var b=
this.Mq.ta(),a=this.Mq.QW(this);a;)b+=a.Vb(),a=this.Mq.QW(a);return this.Mh=b};a.b.g("CubeAxisValue.prototype.getStart",{ta:a.ac.prototype.ta});a.ac.prototype.Lc=function(){return this.i.value};a.b.g("CubeAxisValue.prototype.getValue",{Lc:a.ac.prototype.Lc});a.ac.prototype.ON=function(){return this.i.label?this.i.label:this.Lc()};a.b.g("CubeAxisValue.prototype.getLabel",{ON:a.ac.prototype.ON});a.ac.prototype.K6=function(b){var a=this.Ida();if(null===a)return null;if(a.Mu())return this.Sda(b);if(b=
b[a.attribute])for(a=0;a<this.zd.length;a++)if(this.zd[a].Lc()===b)return this.zd[a];return null};a.ac.prototype.Sda=function(b){for(var a=0;a<this.zd.length;a++){var c=this.zd[a].Lc();if(b.hasOwnProperty(c)&&b[c]===c)return this.zd[a]}return null};a.ac.prototype.Ida=function(){return this.zd&&0<this.zd.length?this.zd[0].nr():null};a.ac.prototype.L6=function(b){return this.FI(b,0,this.zd.length-1)};a.ac.prototype.FI=function(b,a,c){if(a>c)return null;var e=Math.floor((a+c)/2),f=this.zd[e],h=f.ta();
return h>b?this.FI(b,a,e-1):h+f.Vb()-1<b?this.FI(b,e+1,c):f};a.ac.prototype.aF=function(b,d,c){for(var e=0;e<this.zd.length;e++)if(this.zd[e].Lc()===b)return this.zd[e];b=new a.ac(b,d,c,this);this.zd.push(b);return b};a.ac.prototype.M6=function(){var b={};b[this.nr().attribute]=this.Lc();return b};a.ac.prototype.QW=function(b){for(var a=0;a<this.zd.length;a++)if(this.zd[a]===b){if(0<a)return this.zd[a-1];break}return null};a.hf=function(b,d,c){this.Init();this.axis=d;this.XY=[];for(d=0;d<b.length;d++)this.XY.push(c.mF(b[d],
this));this.ww=c;this.Ii=new a.ac(null,null,null,null)};o_("CubeAxis",a.hf,a);a.b.ga(a.hf,a.b,"oj.CubeAxis");a.hf.prototype.Init=function(){a.hf.r.Init.call(this)};a.hf.prototype.Xk=function(){return this.XY};a.b.g("CubeAxis.prototype.getLevels",{Xk:a.hf.prototype.Xk});a.hf.prototype.Vb=function(){return this.Ii.Vb()};a.b.g("CubeAxis.prototype.getExtent",{Vb:a.hf.prototype.Vb});a.hf.prototype.Cm=function(b){for(var a=[],c=this.Ii;c;)(c=c.L6(b))&&a.push(c);return a};a.b.g("CubeAxis.prototype.getValues",
{Cm:a.hf.prototype.Cm});a.hf.prototype.Mi=function(b){b=b?JSON.parse(b):{};for(var a=this.Ii,c=null;a;)c=a,a=a.K6(b);return c?c.ta():-1};a.b.g("CubeAxis.prototype.getIndex",{Mi:a.hf.prototype.Mi});a.hf.prototype.yz=function(b,a){return this.XP(b,this.Xk().length-1,a)};a.hf.prototype.XP=function(b,a,c){b=this.Cm(b);a=this.Xk()[a];for(var e=0;e<b.length;e++){var f=b[e];f.nr().Mu()?c.$E(f.Lc()):c.OF(f);if(f.nr()===a)break}return c};a.hf.prototype.nQ=function(b,a){return this.ww.fs(this,0,this.Ii,b,a,
!0)};a.ag=function(b,a,c,e,f){this.Init();this.i={};this.i.value=b;this.i.wpa=a;this.i.PD=c;this.i.rows=e;this.i.ip=f};o_("CubeDataValue",a.ag,a);a.b.ga(a.ag,a.b,"oj.CubeDataValue");a.ag.prototype.Init=function(){a.ag.r.Init.call(this)};a.ag.prototype.Lc=function(){switch(this.i.PD){case a.$f.STDDEV:return Math.sqrt(this.rX());case a.$f.VARIANCE:return this.rX();default:return this.i.value}};a.b.g("CubeDataValue.prototype.getValue",{Lc:a.ag.prototype.Lc});a.ag.prototype.o3=function(){return this.i.wpa};
a.b.g("CubeDataValue.prototype.getIndices",{o3:a.ag.prototype.o3});a.ag.prototype.x3=function(){return this.i.rows};a.b.g("CubeDataValue.prototype.getRows",{x3:a.ag.prototype.x3});a.ag.prototype.S2=function(){return this.i.PD};a.b.g("CubeDataValue.prototype.getAggregation",{S2:a.ag.prototype.S2});a.ag.prototype.rX=function(){if(isNaN(this.i.ip))return NaN;var b=this.i.rows.length;return 1<b?this.i.ip/(b-1):0};a.Vi=function(b,d){var c=d.row?d.row.start:0,e=d.row?d.row.count:0,f=d.column?d.column.start:
0,h=d.column?d.column.count:0;a.l.nm(c,null);a.l.nm(e,null);a.l.nm(f,null);a.l.nm(h,null);this.ww=b;this.fM={row:c,column:f};this.Ii=this.ww.Cm([{start:f,count:h},{start:c,count:e}]);h=this.Ii.length;0<h&&(e=this.Ii[0].length);this.yba={row:e,column:h}};o_("CubeCellSet",a.Vi,a);a.Vi.prototype.getData=function(b){return(b=this.Ii[b.column-this.fM.column][b.row-this.fM.row])?b.Lc():null};a.b.g("CubeCellSet.prototype.getData",{getData:a.Vi.prototype.getData});a.Vi.prototype.getMetadata=function(b){var a=
{keys:{}};a.keys.row=this.VV(b,"row",2);a.keys.column=this.VV(b,"column",1);return a};a.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:a.Vi.prototype.getMetadata});a.Vi.prototype.VV=function(b,d,c){var e=this.ww.vm();return void 0!==b[d]&&e.length>=c?(c=new a.Wi,c=e[a.Ib.uU(d)].yz(b[d],c),c.vp()[0].key):null};a.Vi.prototype.ta=function(b){return this.fM[b]};a.b.g("CubeCellSet.prototype.getStart",{ta:a.Vi.prototype.ta});a.Vi.prototype.R=function(b){return this.yba[b]};a.b.g("CubeCellSet.prototype.getCount",
{R:a.Vi.prototype.R});a.cg=function(b,d,c){this.Init();this.Qn=c;this.mH();a.cg.r.constructor.call(this,b,d)};o_("DataValueAttributeCube",a.cg,a);a.b.ga(a.cg,a.Xa,"oj.DataValueAttributeCube");a.cg.prototype.na=null;a.cg.prototype.Init=function(){a.cg.r.Init.call(this)};a.cg.prototype.Pr=function(){a.cg.r.Pr.call(this)};a.cg.prototype.nF=function(b){return this.Ys[b]};a.cg.prototype.mF=function(b,d){return b.dataValue?new a.Og(null,d,!0):new a.Og(b.attribute,d,!1)};a.cg.prototype.lF=function(b){return new a.cg(null,
b,this.Qn)};a.cg.prototype.fs=function(b,a,c,e,f,h){if(a>=b.Xk().length)return f;var k=b.Xk()[a];if(k.Mu())return this.rja(b,c,e,a,f);c=c.aF(e[k.attribute],null,k);h&&f.OF(c);return this.fs(b,a+1,c,e,f,h)};a.cg.prototype.rja=function(b,a,c,e,f){for(var h=!0,k=0;k<this.Qn.length;k++){var l=this.Qn[k].attribute,m=this.Qn[k].label;c.hasOwnProperty(l)&&(m=a.aF(l,m,b.Xk()[e]),f.$E(l,c[l]),this.fs(b,e+1,m,c,f,h),h=!1)}return f};a.cg.prototype.mH=function(){this.Ys=[];for(var b=0;b<this.Qn.length;b++){var d=
this.Qn[b];this.Ys[d.attribute]=d.aggregation?{uu:d.aggregation,Db:d.callback}:{uu:a.$f.SUM,Db:d.callback}}};a.Wi=function(){this.CK=[];this.i=[]};a.Wi.prototype.OF=function(b){this.CK.push(b)};a.Wi.prototype.$E=function(b,a){this.i.push({name:b,value:a})};a.Wi.prototype.vp=function(){var b=[],a=this.xaa();if(0===this.i.length)b.push({key:JSON.stringify(a)});else for(var c=0;c<this.i.length;c++){var e=f.extend(!0,{},a);e[this.i[c].name]=this.i[c].name;b.push({key:JSON.stringify(e),B2:this.i[c].name,
value:this.i[c].value})}return b};a.Wi.prototype.xaa=function(){for(var b={},a=0;a<this.CK.length;a++){var c=this.CK[a].M6(),e;for(e in c)c.hasOwnProperty(e)&&(b[e]=c[e])}return b};a.Re=function(b,a,c,e){this.ww=a;this.fw=b;this.Mh=void 0===c?0:c;this.xba=void 0===e?this.fw.Vb():Math.min(e,this.fw.Vb()-c);this.vV=c+e-1};o_("CubeHeaderSet",a.Re,a);a.Re.prototype.getData=function(b,a){var c=this.vq(b,a);return c?c.ON():null};a.b.g("CubeHeaderSet.prototype.getData",{getData:a.Re.prototype.getData});
a.Re.prototype.getMetadata=function(b,d){var c=new a.Wi,c=this.fw.XP(b,d,c);return(c=c.vp())&&0<c.length?{key:c[0].key}:null};a.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.Re.prototype.getMetadata});a.Re.prototype.Ag=function(){return this.fw.Xk().length};a.b.g("CubeHeaderSet.prototype.getLevelCount",{Ag:a.Re.prototype.Ag});a.Re.prototype.Vb=function(b,a){var c=this.vq(b,a),e=c.Vb(),c=c.ta(),f=c+e-1,h=b<c+e-1;c<this.Mh&&(e-=this.Mh-c);f>this.vV&&(e-=f-this.vV);return{extent:e,more:{before:b>
c,after:h}}};a.b.g("CubeHeaderSet.prototype.getExtent",{Vb:a.Re.prototype.Vb});a.Re.prototype.oe=function(b,a){return this.vq(b,a).oe()};a.b.g("CubeHeaderSet.prototype.getDepth",{oe:a.Re.prototype.oe});a.Re.prototype.R=function(){return this.xba};a.b.g("CubeHeaderSet.prototype.getCount",{R:a.Re.prototype.R});a.Re.prototype.ta=function(){return this.Mh};a.b.g("CubeHeaderSet.prototype.getStart",{ta:a.Re.prototype.ta});a.Re.prototype.vq=function(b,a){void 0===a&&(a=0);var c=this.fw.Cm(b);return c&&c.length>
a?c[a]:null};a.Ib=function(b){a.Ib.r.constructor.call(this,b)};o_("CubeDataGridDataSource",a.Ib,a);a.b.ga(a.Ib,a.bn,"oj.CubeDataGridDataSource");a.Ib.prototype.y5=function(b){this.data=b;this.MV()};a.b.g("CubeDataGridDataSource.prototype.setCube",{y5:a.Ib.prototype.y5});a.Ib.prototype.setPage=function(b){this.data.setPage(b);this.MV()};a.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:a.Ib.prototype.setPage});a.Ib.prototype.MV=function(){this.handleEvent("change",{source:this,operation:"refresh"})};
a.Ib.prototype.R=function(b){return(b=this.jq(b))?b.Vb():0};a.b.g("CubeDataGridDataSource.prototype.getCount",{R:a.Ib.prototype.R});a.Ib.prototype.yg=function(){return"exact"};a.b.g("CubeDataGridDataSource.prototype.getCountPrecision",{yg:a.Ib.prototype.yg});a.Ib.prototype.Of=function(b,d,c){var e=new a.Re(this.jq(b.axis),this.data,b.start,b.count);d.success.call(c?c.success:void 0,e,b)};a.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{Of:a.Ib.prototype.Of});a.Ib.prototype.xg=function(b,d,c){for(var e=
{},f=0;f<b.length;f++){var h=void 0===b[f].start?0:b[f].start;if("row"===b[f].axis){var k=void 0===b[f].count?this.data.vm()[1].Vb():b[f].count;e.row={start:h,count:k}}"column"===b[f].axis&&(k=void 0===b[f].count?this.data.vm()[0].Vb():b[f].count,e.column={start:h,count:k})}e=new a.Vi(this.data,e);d.success.call(c?c.success:void 0,e,b)};a.b.g("CubeDataGridDataSource.prototype.fetchCells",{xg:a.Ib.prototype.xg});a.Ib.prototype.keys=function(b){var a={},a=this.Xn(b,"row",a),a=this.Xn(b,"column",a);
return Promise.resolve(a)};a.b.g("CubeDataGridDataSource.prototype.keys",{keys:a.Ib.prototype.keys});a.Ib.prototype.Xn=function(b,d,c){var e=this.jq(d);b=b[d];var f=new a.Wi,f=e?e.yz(b,f):"";c[d]=f.vp()[0].key;return c};a.Ib.prototype.Dg=function(b){var a={},a=this.bh(b,"row",a),a=this.bh(b,"column",a);return Promise.resolve(a)};a.b.g("CubeDataGridDataSource.prototype.indexes",{Dg:a.Ib.prototype.Dg});a.Ib.prototype.bh=function(b,a,c){c[a]=this.jq(a).Mi(b[a]);return c};a.Ib.prototype.sort=function(){a.l.Yb()};
a.b.g("CubeDataGridDataSource.prototype.sort",{sort:a.Ib.prototype.sort});a.Ib.prototype.move=function(){a.l.Yb()};a.b.g("CubeDataGridDataSource.prototype.move",{move:a.Ib.prototype.move});a.Ib.prototype.rd=function(){return"invalid"};a.b.g("CubeDataGridDataSource.prototype.moveOK",{rd:a.Ib.prototype.rd});a.Ib.prototype.getCapability=function(b){switch(b){case "sort":return"none";case "move":return"none"}return null};a.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.Ib.prototype.getCapability});
a.Ib.uU=function(b){return"row"===b?1:0};a.Ib.prototype.jq=function(b){b=a.Ib.uU(b);var d=this.data.vm();return d.length>b?d[b]:null};a.bg=function(b,d,c){this.Init();this.Qn=c;this.bna=c.valueAttr;this.Tha=c.labelAttr;var e=c.defaultAggregation;this.QU=e?a.bg.Uda(e):{uu:a.$f.SUM};this.bH=c.aggregation;this.mH();a.bg.r.constructor.call(this,b,d)};o_("DataColumnCube",a.bg,a);a.b.ga(a.bg,a.Xa,"oj.DataColumnCube");a.bg.prototype.Init=function(){a.bg.r.Init.call(this)};a.bg.prototype.Pr=function(){a.bg.r.Pr.call(this)};
a.bg.prototype.nF=function(b){return this.Ys[b]?this.Ys[b]:this.QU};a.bg.prototype.lF=function(b){return new a.bg(null,b,this.Qn)};a.bg.prototype.mF=function(b,d){return b.attribute===this.Tha?new a.Og(b.attribute,d,!0):new a.Og(b.attribute,d,!1)};a.bg.prototype.fs=function(b,a,c,e,f,h){if(a>=b.Xk().length)return f;var k=b.Xk()[a],l=e[k.attribute];c=c.aF(l,null,k);k.Mu()?f.$E(l,e[this.bna]):f.OF(c);return this.fs(b,a+1,c,e,f,h)};a.bg.Uda=function(b){return a.Ea.qd(b)?{uu:b}:{uu:b.aggregation,Db:b.callback}};
a.bg.prototype.mH=function(){this.Ys=[];if(this.bH)for(var b=0;b<this.bH.length;b++){var a=this.bH[b],c=a.aggregation;this.Ys[a.value]=c?{uu:c,Db:a.callback}:this.QU}};a.Og=function(b,a,c){this.Init();this.attribute=b;this.vT=a;this.axis=a.axis;this.PU=c};o_("CubeLevel",a.Og,a);a.b.ga(a.Og,a.b,"oj.CubeLevel");a.Og.prototype.Init=function(){a.Og.r.Init.call(this)};a.Og.prototype.Lc=function(b){if(b=this.vT.Cm(b))for(var a=0;a<b.length;a++)if(b[a].nr()===this)return b[a];return null};a.b.g("CubeLevel.prototype.getValue",
{Lc:a.Og.prototype.Lc});a.Og.prototype.Mu=function(){return this.PU};a.b.g("CubeLevel.prototype.isDataValue",{Mu:a.Og.prototype.Mu});a.Og.prototype.PU=!1;a.Og.prototype.vT=null});