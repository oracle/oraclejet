/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtTreeView"],function(e,t,o,n,r){var l={properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},animationUpdateColor:{type:"string",value:""},colorLabel:{type:"string",value:""},displayLevels:{type:"number",value:1.7976931348623157e308},drilling:{type:"string",enumValues:["off","on"],value:"off"},expanded:{type:"KeySet",writeback:!0,value:"new ExpandAllKeySet()"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},highlightMatch:{type:"string",enumValues:["all","any"],value:"all"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},hoverBehaviorDelay:{type:"number",value:200},nodeDefaults:{type:"object",properties:{borderColor:{type:"string"},borderWidth:{type:"number",value:1},hoverColor:{type:"string"},labelDisplay:{type:"string",enumValues:["auto","horizontal","off","rotated"],value:"auto"},labelHalign:{type:"string",enumValues:["center","inner","outer"],value:"center"},labelMinLength:{type:"number",value:1},labelStyle:{type:"object"},selectedInnerColor:{type:"string"},selectedOuterColor:{type:"string"},showDisclosure:{type:"string",enumValues:["off","on"],value:"off"}}},nodes:{type:"Array<Object>|Promise"},rootNode:{type:"string",value:""},rootNodeContent:{type:"object",properties:{renderer:{type:"function"}}},rotation:{type:"string",enumValues:["off","on"],value:"on"},selection:{type:"Array<string>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"multiple"},sizeLabel:{type:"string",value:""},sorting:{type:"string",enumValues:["off","on"],value:"off"},startAngle:{type:"number",writeback:!0,value:90},tooltip:{type:"object",properties:{renderer:{type:"function"}}},touchResponse:{type:"string",enumValues:["auto","touchStart"],value:"auto"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelColor:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},labelSize:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipCollapse:{type:"string"},tooltipExpand:{type:"string"}}}},methods:{getNode:{},getContextByNode:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojRotateInput:{},ojBeforeDrill:{},ojDrill:{},ojBeforeExpand:{},ojExpand:{},ojBeforeCollapse:{},ojCollapse:{}},extension:{}};e.__registerWidget("oj.ojSunburst",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",animationUpdateColor:"",displayLevels:Number.MAX_VALUE,expanded:new e.ExpandAllKeySet,hiddenCategories:[],highlightedCategories:[],highlightMatch:"all",hoverBehavior:"none",hoverBehaviorDelay:200,tooltip:{renderer:null},selectionMode:"multiple",rotation:"on",sorting:"off",rootNodeContent:{renderer:null},startAngle:90,colorLabel:"",sizeLabel:"",drilling:"off",rootNode:"",nodes:null,nodeDefaults:{borderColor:"rgba(255,255,255,0.3)",borderWidth:1,showDisclosure:"off",labelHalign:"center",labelStyle:void 0,labelMinLength:1,labelDisplay:"auto",hoverColor:void 0,selectedInnerColor:void 0,selectedOuterColor:void 0},selection:[],touchResponse:"auto",rotateInput:null,beforeDrill:null,drill:null,beforeExpand:null,expand:null,beforeCollapse:null,collapse:null},_CreateDvtComponent:function(e,t,o){return r.Sunburst.newInstance(e,t,o)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-sunburst-node"==t?t="node"+this._GetStringFromIndexPath(e.indexPath):"oj-sunburst-tooltip"==t&&(t="tooltip"),t},_ConvertSubIdToLocator:function(e){var t={};return 0==e.indexOf("node")?(t.subId="oj-sunburst-node",t.indexPath=this._GetIndexPath(e)):"tooltip"==e&&(t.subId="oj-sunburst-tooltip"),t},_ProcessOptions:function(){this._super();var t=this.options.rootNodeContent;t&&t._renderer&&(t.renderer=this._GetTemplateRenderer(t._renderer,"rootNodeContent")),this.options.expanded||(this.options.expanded=new e.ExpandAllKeySet)},_GetComponentRendererOptions:function(){return["tooltip/renderer","rootNodeContent/renderer"]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sunburst"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sunburst"]={path:"animationDuration",property:"ANIM_DUR"},e["oj-sunburst-attribute-type-text"]={path:"styleDefaults/_attributeTypeTextStyle",property:"TEXT"},e["oj-sunburst-attribute-value-text"]={path:"styleDefaults/_attributeValueTextStyle",property:"TEXT"},e["oj-sunburst-drill-text"]={path:"styleDefaults/_drillTextStyle",property:"TEXT"},e["oj-sunburst-current-drill-text"]={path:"styleDefaults/_currentTextStyle",property:"TEXT"},e["oj-sunburst-node"]={path:"nodeDefaults/labelStyle",property:"TEXT"},e["oj-sunburst-node oj-hover"]={path:"nodeDefaults/hoverColor",property:"border-top-color"},e["oj-sunburst-node oj-selected"]=[{path:"nodeDefaults/selectedOuterColor",property:"border-top-color"},{path:"nodeDefaults/selectedInnerColor",property:"border-bottom-color"}],e},_GetEventTypes:function(){return["optionChange","rotateInput","beforeDrill","drill","beforeExpand","expand","beforeCollapse","collapse"]},_GetTranslationMap:function(){var e=this.options.translations,t=this._super();return t["DvtSunburstBundle.COLLAPSE"]=e.tooltipCollapse,t["DvtSunburstBundle.COLOR"]=e.labelColor,t["DvtSunburstBundle.EXPAND"]=e.tooltipExpand,t["DvtSunburstBundle.SIZE"]=e.labelSize,t["DvtUtilBundle.SUNBURST"]=e.componentName,t},_HandleEvent:function(e){var t=e.type,o={id:e.id,data:e.data};this._IsCustomElement()||(o.component=e.component),"rotation"===t?e.complete?this._UserOptionChange("startAngle",e.startAngle):this._trigger("rotateInput",null,{value:e.startAngle}):"drill"==t?e.id&&this._trigger("beforeDrill",null,o)&&(this._UserOptionChange("rootNode",e.id),this._Render(),this._trigger("drill",null,o)):"expand"==t?e.id&&this._trigger("beforeExpand",null,o)&&(this._UserOptionChange("expanded",e.expanded),this._Render(),this._trigger("expand",null,o)):"collapse"==t?e.id&&this._trigger("beforeCollapse",null,o)&&(this._UserOptionChange("expanded",e.expanded),this._Render(),this._trigger("collapse",null,o)):this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var t=this.options._resources;t.rotateCursor=e.Config.getResourceUrl("resources/internal-deps/dvt/sunburst/rotate.cur"),t.expand="oj-sunburst-expand-icon",t.expandOver="oj-sunburst-expand-icon oj-hover",t.expandDown="oj-sunburst-expand-icon oj-active",t.collapse="oj-sunburst-collapse-icon",t.collapseOver="oj-sunburst-collapse-icon oj-hover",t.collapseDown="oj-sunburst-collapse-icon oj-active"},getNode:function(e){return this._component.getAutomation().getNode(e)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-sunburst-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{root:["nodes"]}}}),l.extension._WIDGET_NAME="ojSunburst",e.CustomElementBridge.registerMetadata("oj-sunburst","dvtBaseComponent",l),e.CustomElementBridge.register("oj-sunburst",{metadata:e.CustomElementBridge.getMetadata("oj-sunburst")})});