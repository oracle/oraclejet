{"version":3,"names":["define","oj","ko","Config","Logger","HtmlUtils","Object","prototype","hasOwnProperty","call","GlobalChangeQueue","this","Init","_getParseBindingsReplacement","original","cache","bindingsString","bindingContext","node","options","factory","getExpressionEvaluator","evaluate","expression","rewrittenBindings","expressionRewriting","preProcessBindings","createEvaluator","_createKoEvaluatorViaCache","$data","$element","createSubclass","superclass","_trackers","_queue","registerComponentChanges","tracker","indexOf","push","_delayTimer","setTimeout","createCallback","_deliverChangesImpl","_delayPromise","Promise","resolve","_delayPromiseResolver","bind","deliverChanges","clearTimeout","getThrottlePromise","_resolveDelayPromise","trackers","i","length","changes","flushChanges","record","shift","applyChanges","BindingProviderImpl","_evaluatorCacheMap","WeakMap","_postprocessors","_preprocessors","_KoBindingCache","_OJ_EXTENDED","_OJ_CACHE_SCOPE","_changeQueue","_createReplacementEvaluatorForExtend","expressionText","evaluator","$context","Function","e","Error","message","_createEvaluatorViaCache","expr","cacheScope","scopeMap","key","get","set","func","_getBindingsString","wrapped","getBindingsString","nodeType","getAttribute","match","nodeValue","install","provider","bindingProvider","instanceName","getAccessors","error","custom","getWrapped","proto","method","delegate","methodsToWrap","forEach","name","prewrap","isHasBindings","arg0","type","ret","apply","arguments","postprocessHandlers","originalArgs","handler","args","Array","slice","ignoreDependencies","_wrap","n","wrappedProvider","accessors","valueAccessors","_createExtendAccessorsViaCache","components","isRegistered","tagName","toLowerCase","componentEval","component","_preWrapGetAccessors","preprocessNode","originalPreprocessor","preprocessor","obj","nodeName","isArray","originalNode","newNodes","instance","current","currentIndex","next","virtualElements","nextSibling","insertedNodes","splice","concat","nextIndex","_preprocessNewNodes","_wrapPreprocessNode","nativeTemplateEngine","templateSource","templateDocument","document","templateSources","domElement","nodes","importNode","_patchKoTemplateSourceDomElement","loaders","unshift","loadTemplate","templateConfig","callback","utils","parseHtmlFragment","element","HTMLElement","getTemplateContent","template","getElementById","defaultLoader","patched","parseMethod","_patchKoEvaluatorForCSP","addPostprocessor","postprocessor","keys","registerPreprocessor","extendBindingContext","context","alias","templateAlias","cacheKey","extension","$current","$root","undefined","$parent","$parents","extend","defineProperty","value","createBindingExpressionEvaluator","getGlobalChangeQueue"],"sources":["../debug/ojkoshared.js"],"mappings":";;;;;;;AAOAA,OAAO,CAAC,kBAAmB,WAAY,eAAgB,eAAgB,mBAAoB,SAAUC,EAAIC,EAAIC,EAAQC,EAAQC,GAAa,aAExIJ,EAAKA,GAAMK,OAAOC,UAAUC,eAAeC,KAAKR,EAAI,WAAaA,EAAY,QAAIA,EASjF,MAAMS,EAAoB,WACxBC,KAAKC,MACP,EA8eA,SAASC,EAA6BC,EAAUC,GAC9C,OAAO,SAAUC,EAAgBC,EAAgBC,EAAMC,GACrD,IAAIC,EAAUjB,EAAOkB,yBACrB,IAAKD,EACH,OAAON,EAASE,EAAgBC,EAAgBC,EAAMC,GAExD,IAAIG,EAKR,SAAoCC,EAAYJ,EAASC,EAASL,GAChE,IAAIO,EAAWP,EAAMQ,GACrB,IAAKD,EAAU,CACb,IAAIE,EAAoBtB,EAAGuB,oBAAoBC,mBAAmBH,EAAYJ,GAC9EG,EAAWF,EAAQO,gBAAgB,IAAMH,EAAoB,KAAKF,SAElEP,EAAMQ,GAAcD,CACtB,CACA,OAAOA,CACT,CAdmBM,CAA2BZ,EAAgBG,EAASC,EAASL,GAC5E,OAAOO,EAAS,CAACL,EAAeY,OAAS,CAAC,EAAGZ,EAAgB,CAAEa,SAAUZ,IAC3E,CACF,CApfAjB,EAAGK,OAAOyB,eAAerB,EAAmBT,EAAGK,OAAQ,sCAEvDI,EAAkBH,UAAUK,KAAO,WACjCF,EAAkBsB,WAAWpB,KAAKH,KAAKE,MACvCA,KAAKsB,UAAY,GACjBtB,KAAKuB,OAAS,EAChB,EAEAxB,EAAkBH,UAAU4B,yBAA2B,SAAUC,IACtB,IAArCzB,KAAKsB,UAAUI,QAAQD,KACzBzB,KAAKsB,UAAUK,KAAKF,GACfzB,KAAK4B,cACR5B,KAAK4B,YAAcC,WAAWvC,EAAGK,OAAOmC,eAAe9B,KAAMA,KAAK+B,qBAAsB,GACxF/B,KAAKgC,cAAgB,IAAIC,QACvB,SAAUC,GACRlC,KAAKmC,sBAAwBD,CAC/B,EAAEE,KAAKpC,QAIf,EAEAD,EAAkBH,UAAUyC,eAAiB,WACvCrC,KAAK4B,aACPU,aAAatC,KAAK4B,aAEpB5B,KAAK+B,qBACP,EAEAhC,EAAkBH,UAAU2C,mBAAqB,WAC/C,OAAOvC,KAAKgC,eAAiBC,QAAQC,SACvC,EAEAnC,EAAkBH,UAAUmC,oBAAsB,WAChD/B,KAAK4B,YAAc,KACnB5B,KAAKwC,uBACL,IAAIC,EAAWzC,KAAKsB,UACpBtB,KAAKsB,UAAY,GAEjB,IAAK,IAAIoB,EAAI,EAAGA,EAAID,EAASE,OAAQD,IAAK,CACxC,IAAIjB,EAAUgB,EAASC,GACvB1C,KAAKuB,OAAOI,KAAK,CAAEF,QAASA,EAASmB,QAASnB,EAAQoB,gBACxD,CAEA,KAAO7C,KAAKuB,OAAOoB,OAAS,GAAG,CAC7B,IAAIG,EAAS9C,KAAKuB,OAAOwB,QACzBD,EAAOrB,QAAQuB,aAAaF,EAAOF,QACrC,CACF,EAEA7C,EAAkBH,UAAU4C,qBAAuB,WAC7CxC,KAAKgC,gBACPhC,KAAKmC,wBACLnC,KAAKmC,sBAAwB,KAC7BnC,KAAKgC,cAAgB,KAEzB,EAycA,MAAMiB,GAAsB,IAnc5B,WACE,IAAIC,EAAqB,IAAIC,QACzBC,EAAkB,CAAC,EACnBC,EAAiB,CAAC,EAClBC,EAAkB,CAAC,EAEnBC,EAAe,cACfC,EAAkB,gBAElBC,EAAe,IAAI1D,EAuUvB,SAAS2D,EAAqCC,GAK5C,IAQIC,EARAnD,EAAUjB,EAAOkB,yBACrB,GAAID,EAAS,CACX,IAAIE,EAAWF,EAAQO,gBAAgB2C,GAAgBhD,SACvD,OAAO,SAAUkD,EAAU1C,GACzB,OAAOR,EAAS,CAACkD,EAAUA,EAAS3C,OAAS,CAAC,EAAG,CAAEC,SAAUA,IAC/D,CACF,CAGA,IAGEyC,EAAY,IAAIE,SACd,WACA,WACA,kDAAoDH,EAAiB,KAEzE,CAAE,MAAOI,GACP,MAAM,IAAIC,MAAMD,EAAEE,QAAU,mBAAqBN,EAAiB,IACpE,CACA,OAAOC,CACT,CAEA,SAASM,EAAyBzD,EAAS0D,EAAM7D,GAE/C,IAAKA,EACH,OAAOG,EAAQ0D,EAAM7D,GAGvB,IAAI8D,EACAC,EAAWnB,EAEXoB,EAAMhE,EAAekD,IAAoBlD,GAE7C8D,EAAaC,EAASE,IAAID,MAExBF,EAAa,CAAC,EACdC,EAASG,IAAIF,EAAKF,IAEpB,IAAIK,EAAOL,EAAWD,GAKtB,OAJKM,IACHA,EAAOhE,EAAQ0D,EAAM7D,GACrB8D,EAAWD,GAAQM,GAEdA,CACT,CAEA,SAASC,EAAmBnE,EAAMoE,EAASrE,GACzC,IAAImE,EAAOE,EAAQC,kBACnB,GAAIH,EACF,OAAOA,EAAK3E,KAAK6E,EAASpE,EAAMD,GAGlC,OAAQC,EAAKsE,UACX,KAAK,EACH,OAAOtE,EAAKuE,aAAa,aAE3B,KAAK,EACH,IAAIC,EAAQxE,EAAKyE,UAAUD,MAAM,+BACjC,OAAOA,EAAQA,EAAM,GAAK,KAE5B,QACE,OAAO,KAEb,CA1YA/E,KAAKiF,QAAU,WACb,IAAIC,EAAW3F,EAAG4F,gBACdC,EAAe,WACfT,EAAUO,EAASE,GAEnBC,EAAe,sBACnB,IAAKV,EAAQU,GAKX,OAJA5F,EAAO6F,MACL,kIAGKtF,KAGT,IAAIuF,EAAS,CACXC,WAAY,WACV,OAAOb,CACT,GAEFO,EAASE,GAAgBG,EAEzB,IAiMIE,EACAC,EACAC,EAnMAC,EAAgB,GAyBpB,OAxBAA,EAAcjE,KAAK0D,EAAc,kBAAmB,eAEpDO,EAAcC,QAAQ,SAAUC,GAC9BP,EAAOO,GAwGX,SAAenB,EAASmB,EAAMC,GAC5B,IAAIC,EAAyB,oBAATF,EAEpB,OAAO,SAAUG,GACf,GAAID,EAAe,CACjB,IAAIE,EAAOD,EAAKpB,SAChB,GAAa,IAATqB,GAAuB,IAATA,EAChB,OAAO,CAEX,CACA,IAAIP,EAAWI,EAAQD,EAAMnB,EAAQmB,IAEjCK,EAAMR,EAAWA,EAASS,MAAMzB,EAAS0B,WAAa,KACtDC,EAAsBlD,EAAgB0C,GAE1C,GAA2B,MAAvBQ,EAA6B,CAC/B,IAAIC,EAAeF,UACnBC,EAAoBT,QAAQ,SAAUW,GACpC,IAAIC,EAAOC,MAAM9G,UAAU+G,MAAM7G,KAAKyG,GACtCE,EAAK9E,KAAKwE,EAAKxB,GAEfwB,EAAM5G,EAAGqH,mBAAmBJ,EAAS,KAAMC,EAC7C,EACF,CACA,OAAON,CACT,CACF,CAlImBU,CAAMlC,EAASmB,EAAM,SAAUgB,EAAG3G,GAQ/C,OAAI2G,IAAMzB,EACDlF,EAqPf,SAA8BA,EAAU4G,GACtC,OAAO,SAAUxG,EAAMD,GACrB,GAAIA,EAAeiD,GAAe,CAChC,IAAIlD,EAAiBqE,EAAmBnE,EAAMwG,EAAiBzG,GAI3D0G,EAAY3G,EAyBtB,SAAwCA,EAAgBC,GAWtD,OAAO4D,EAVO,SAAUC,GAOtB,OAAOT,EAAqC,IAHpBnE,EAAGuB,oBAAoBC,mBAAmBoD,EAAM,CACtE8C,gBAAgB,IAEoD,IACxE,EAEyC5G,EAAgBC,EAC3D,CApCU4G,CAA+B7G,EAAgBC,EAA/C4G,CAA+D5G,EAAgBC,GAC/E,KAQJ,GAAsB,IAAlBA,EAAKsE,UAAkBtF,EAAG4H,WAAWC,aAAa7G,EAAK8G,QAAQC,eAAgB,CACjF,IACIC,EADoBpH,EAASL,KAAKiH,EAAiBxG,EAAMD,GACvBkH,UAClCD,KAEFP,EAAYA,GAAa,CAAC,GAChBQ,UAAYD,EAE1B,CACA,OAAOP,CACT,CACA,OAAO7G,EAASL,KAAKiH,EAAiBxG,EAAMD,EAC9C,CACF,CAjRamH,CAAqBtH,EAAUwE,EACxC,EACF,GACAY,EAAOmC,eAsHT,SAA6B/C,GAC3B,IAAIgD,EAAuBhD,EAAQ+C,eACnC,OAAO,SAAUnH,GACf,IAAIqH,EACAzB,EACA0B,EAAM,KAcV,OAbsB,IAAlBtH,EAAKsE,WACP+C,EAAevE,EAAe9C,EAAKuH,SAASR,gBAEzCM,IACHA,EAAeD,EACfE,EAAMlD,GAEJiD,IACFzB,EAAM5G,EAAGqH,mBAAmBgB,EAAcC,EAAK,CAACtH,KAE9CmG,MAAMqB,QAAQ5B,KAChBA,EAMN,SAA6B6B,EAAcC,GACzC,IAAI/C,EAAW3F,EAAG4F,gBAAgB+C,SAC9B/B,EAAM8B,EAAStB,MAAM,GACrBwB,EAAUF,EAAS,GACnBG,EAAe,EACf1F,EAAI,EAER,KAAO0F,GAAgB,GAAG,CAExB,IAAIC,EAAO9I,EAAG+I,gBAAgBC,YAAYJ,GAC1C,GAAIA,IAAYH,EAAc,CAC5B,IAAIQ,EAAgBtD,EAASwC,eAAeS,GACxCzB,MAAMqB,QAAQS,KAEhBrC,EAAIsC,OAAOrC,MAAMD,EAAK,CAACzD,EAAG,GAAGgG,OAAOF,IAEpC9F,GAAK8F,EAAc7F,OAAS,EAEhC,CAEAD,GAAK,EACL,IAAIiG,EAAYP,EAAe,EAG/B1F,IAFA0F,GAHAD,EAAUE,GAGeJ,EAASvG,QAAQyG,EAASQ,IAAc,GAE7CA,CACtB,CAEA,OAAOxC,CACT,CAlCYyC,CAAoBrI,EAAM4F,IAE3BA,CACT,CACF,CA3I0B0C,CAAoBlE,GA+KxCc,EAAQlG,EAAGuJ,qBAAqBlJ,UAEhC+F,EAAWF,EADXC,EAAS,wBAGbD,EAAMC,GAAU,SAAUqD,EAAgBzI,EAAgBE,EAASwI,GACjE,OAAOrD,EAAS7F,KACdE,KACA+I,EACAzI,EACAE,EACAwI,GAAoBC,SAExB,EAKF,WACE,MAAMxD,EAAQlG,EAAG2J,gBAAgBC,WAAWvJ,UACtC8F,EAAS,QACTC,EAAWF,EAAMC,GAEvBD,EAAMC,GAAU,WACd,MAAM0D,EAAQzD,EAASS,MAAMpG,KAAMqG,WACnC,OAAO+C,GAA4B,KAAnBA,EAAMvE,SAAkBoE,SAASI,WAAWD,GAAO,GAAQA,CAC7E,CACF,CAtMEE,GA+MA/J,EAAG4H,WAAWoC,QAAQC,QAAQ,CAC5BC,aAAc,SAAU3D,EAAM4D,EAAgBC,GAC5C,IAAIP,EACJ,GAA8B,iBAAnBM,EACTN,EAAQ7J,EAAGqK,MAAMC,kBAAkBH,EAAgBT,eAC9C,GAAIS,EAAeI,QAAS,CACjC,IAAIA,EAAUJ,EAAeI,QAC7B,GAAIA,aAAmBC,YACrBX,EAAQ1J,EAAUsK,mBAAmBF,OAChC,IAAuB,iBAAZA,EAOhB,MAAM,IAAI9F,MAAM,yBAAyB8F,KANzC,IAAIG,EAAWhB,SAASiB,eAAeJ,GACvC,IAAKG,EACH,MAAM,IAAIjG,MAAM,+BAA+B8F,KAEjDV,EAAQ1J,EAAUsK,mBAAmBC,EAGvC,CACF,CAEIb,EACF7J,EAAG4H,WAAWgD,cAAcV,aAAa3D,EAAMsD,EAAOO,GAGtDA,EAAS,KAEb,IA0HN,SAAiCvJ,GAC/B,IACIgK,EADAlC,EAAW3I,EAAG4F,gBAAgB+C,SAE9BmC,EAAc,sBAClB,KAAOnC,IAAakC,GAAS,CAC3B,IAAIjK,EAAW+H,EAASmC,GACpBlK,GACFiK,GAAU,EACVlC,EAASmC,GAAenK,EAA6BC,EAASiC,KAAK8F,GAAW9H,IAE9E8H,EAAWA,EAAS1C,WAAa0C,EAAS1C,aAAe,IAE7D,CACK4E,GACH3K,EAAO6F,MACL,sMAIN,CApXIgF,CAAwBhH,GAEjBtD,IACT,EAEAA,KAAKuK,iBAAmB,SAAUC,GACrB7K,OAAO8K,KAAKD,GAClB3E,QAAQ,SAAUvB,GACrBlB,EAAgBkB,GAAOlB,EAAgBkB,IAAQ,GAC/ClB,EAAgBkB,GAAK3C,KAAK6I,EAAclG,GAC1C,EACF,EAEAtE,KAAK0K,qBAAuB,SAAUrD,EAASO,GAC7CvE,EAAegE,GAAWO,CAC5B,EAEA5H,KAAK4E,kBAAoB,SAAUrE,EAAMoE,EAASrE,GAChD,OAAOoE,EAAmBnE,EAAMoE,EAASrE,EAC3C,EAEAN,KAAK2K,qBAAuB,SAAUC,EAASzC,EAAS0C,EAAOC,EAAeC,GAC5E,IAAIC,EAAY,CACdC,SAAU9C,EACV+C,WAAOC,EACPC,aAASD,EACTE,cAAUF,GAkBZ,OAfIN,IACFG,EAAUH,GAAS1C,GAEjB2C,IACFE,EAAUF,GAAiB3C,GAEzByC,EACFI,EAAYJ,EAAQU,OAAON,GAE3BA,EAAU9J,MAAQ,CAAC,EAGrBvB,OAAO4L,eAAeP,EAAWxH,EAAiB,CAAEgI,MAAOT,IAC3DpL,OAAO4L,eAAeP,EAAWzH,EAAc,CAAEiI,OAAO,IAEjDR,CACT,EAEAhL,KAAKyL,iCAAmC,SAAU9H,EAAgBrD,GAChE,GAAIA,EAAeiD,GACjB,OAAOG,EAAqCC,GAE9C,IAQIC,EARAnD,EAAUjB,EAAOkB,yBACrB,GAAID,EAAS,CACX,IAAIE,EAAWF,EAAQO,gBAAgB2C,GAAgBhD,SACvD,OAAO,SAAUkD,GACf,OAAOlD,EAAS,CAACkD,EAAS3C,OAAS,CAAC,EAAG2C,GACzC,CACF,CAGA,IAGED,EAAY,IAAIE,SACd,WACA,yCAA2CH,EAAiB,MAEhE,CAAE,MAAOI,GACP,MAAM,IAAIC,MAAMD,EAAEE,QAAU,mBAAqBN,EAAiB,IACpE,CACA,OAAOC,CACT,EAEA5D,KAAKgB,gBAAkB,SAAUJ,EAAYN,GAC3C,OAAO4D,EACLlE,KAAKyL,iCACL7K,EACAN,EAEJ,EAEAN,KAAK0L,qBAAuB,WAC1B,OAAOjI,CACT,CA4QF,GA6C2DwB,UAE3D,OAAOhC,CAET"}