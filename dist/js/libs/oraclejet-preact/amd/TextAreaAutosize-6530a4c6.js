define(["exports","preact/jsx-runtime","preact","preact/compat","./hooks/UNSAFE_useFormContext","./hooks/UNSAFE_useFormFieldContext","./hooks/UNSAFE_useFocusableTextField","./UNSAFE_Label","./UNSAFE_TextField","./hooks/UNSAFE_useTextField","./UNSAFE_UserAssistance","./hooks/UNSAFE_useLengthFilter","preact/hooks","./TextFieldInput-672b8754"],(function(e,t,s,n,i,o,l,a,r,d,u,c,x,g){"use strict";const h=({isReadonly:e,enabledElementRef:t,readonlyElementRef:s,minRows:n=2,maxRows:i,value:o})=>{x.useLayoutEffect((()=>{const o=e?s:t;if(null===o.current)return;const l=o.current,a=(e=>{const t=window.getComputedStyle(e),s=t.lineHeight;return"normal"===s?1.2*parseFloat(t.fontSize):parseFloat(s)})(l);l.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const t=window.getComputedStyle(e);return{paddingHeight:parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),borderHeight:parseFloat(t.borderTop)+parseFloat(t.borderBottom)}})(l),u=a*n+r+d,c=l.scrollHeight+d;var x=0;if(void 0===i)x=c<u?u:c;else if(i>n){const e=a*i+r+d;x=c>e?e:c<u?u:c}else x=u;l.style.height=x+.5+"px"}),[o,n,i,e])},F=n.forwardRef((({assistiveText:e,autoComplete:n="off",autoFocus:x=!1,helpSourceLink:F,helpSourceText:m,id:p,isDisabled:b,isReadonly:v,isRequired:f=!1,isRequiredShown:R,label:A,labelEdge:L,labelStartWidth:j,maxLength:y,maxLengthUnit:E,maxRows:S,messages:T,minRows:w=2,placeholder:U,role:C,textAlign:I,userAssistanceDensity:O,value:k,onInput:D,onCommit:N},_)=>{const{isDisabled:P,isReadonly:H,labelEdge:q,labelStartWidth:B,textAlign:M,userAssistanceDensity:W}=i.useFormContext(),z=null!=b?b:P,G=null!=v?v:H,J=null!=L?L:q,K=null!=j?j:B,Q=null!=I?I:M,V=null!=O?O:W,{enabledElementRef:X,readonlyElementRef:Y,focusProps:Z,isFocused:$}=l.useFocusableTextField({isDisabled:z,isReadonly:G,ref:_}),{formFieldContext:ee,inputProps:te,labelProps:se,textFieldProps:ne,userAssistanceProps:ie}=d.useTextField({id:p,isDisabled:z,isFocused:$,isReadonly:G,labelEdge:J,messages:T,value:k,variant:"textarea"}),{isMaxLengthExceeded:oe,valueLength:le,onFilteredInput:ae}=c.useLengthFilter({maxLength:y,maxLengthUnit:E,value:k,onInput:D,onCommit:N}),re="none"!==J?t.jsx(a.Label,Object.assign({},se,{children:A})):void 0,de={label:"none"!==J?re:void 0,labelEdge:"none"!==J?J:void 0,labelStartWidth:"none"!==J?K:void 0},ue="none"===J?A:void 0,ce=z||G?"efficient"!==V?void 0:t.jsx(u.InlineUserAssistance,Object.assign({userAssistanceDensity:V},ie)):t.jsx(u.InlineUserAssistance,Object.assign({assistiveText:e,helpSourceLink:F,helpSourceText:m,messages:T,isRequiredShown:R,userAssistanceDensity:V},ie));if(h({isReadonly:G,enabledElementRef:X,readonlyElementRef:Y,minRows:w,maxRows:S,value:k}),G)return t.jsx(o.FormFieldContext.Provider,Object.assign({value:ee},{children:t.jsx(r.ReadonlyTextField,Object.assign({role:"presentation",inlineUserAssistance:ce,variant:"textarea"},de,{children:t.jsx(r.ReadonlyTextFieldInput,{ariaLabel:ue,ariaLabelledby:se.id,as:"textarea",elementRef:Y,rows:w,autoFocus:x,id:p,textAlign:Q,value:k,hasInsideLabel:void 0!==A&&"inside"===J})}))}));const xe=t.jsxs(s.Fragment,{children:[t.jsx(g.TextFieldInput,Object.assign({as:"textarea",ariaLabel:ue,autoComplete:n,autoFocus:x,hasInsideLabel:void 0!==re&&"inside"===J,isRequired:f,inputRef:X,onInput:ae,onCommit:N,placeholder:U,role:C,rows:w,textAlign:Q,value:k},te)),void 0!==y&&t.jsx(r.MaxLengthLiveRegion,Object.assign({},{isMaxLengthExceeded:oe,maxLength:y,valueLength:le}))]});return t.jsx(o.FormFieldContext.Provider,Object.assign({value:ee},{children:t.jsx(r.TextField,Object.assign({mainContent:xe,inlineUserAssistance:ce,onBlur:null==Z?void 0:Z.onfocusout,onFocus:null==Z?void 0:Z.onfocusin},ne,de))}))}));e.TextAreaAutosize=F}));
//# sourceMappingURL=TextAreaAutosize-6530a4c6.js.map
