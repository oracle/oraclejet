{"version":3,"file":"useFocusWithin-96764125.js","sources":["../../src/hooks/UNSAFE_useFocusWithin/useFocusWithin.ts"],"sourcesContent":["import { useCallback, useState } from 'preact/hooks';\n\ntype FocusEvents = {\n  onBlurWithin?: (e: FocusEvent) => void;\n  onFocusWithin?: (e: FocusEvent) => void;\n};\n\ntype UseFocusWithinProps = FocusEvents & {\n  isDisabled?: boolean;\n};\n\nexport function useFocusWithin({\n  isDisabled,\n  onBlurWithin,\n  onFocusWithin\n}: UseFocusWithinProps = {}) {\n  const [isFocused, setIsFocused] = useState(false);\n  const onfocusin = useCallback(\n    (event: FocusEvent) => {\n      if (!isFocused) {\n        onFocusWithin?.(event);\n        setIsFocused(true);\n      }\n    },\n    [onFocusWithin, isFocused]\n  );\n  const onfocusout = useCallback(\n    (event: FocusEvent) => {\n      // Trigger focus event changes only when the focus goes outside of the current\n      // target. Ignore focus changes within the current target\n      if (\n        isFocused &&\n        (event.relatedTarget == null ||\n          !(event.currentTarget as HTMLElement).contains(event.relatedTarget as HTMLElement))\n      ) {\n        onBlurWithin?.(event);\n        setIsFocused(false);\n      }\n    },\n    [onBlurWithin, isFocused]\n  );\n\n  return isDisabled\n    ? {\n        isFocused: false,\n        focusProps: {}\n      }\n    : {\n        isFocused,\n        focusProps: {\n          onfocusin,\n          onfocusout\n        }\n      };\n}\n"],"names":["isDisabled","onBlurWithin","onFocusWithin","isFocused","setIsFocused","useState","onfocusin","useCallback","event","onfocusout","relatedTarget","currentTarget","contains","focusProps"],"mappings":"+EAWM,UAAyBA,WAC7BA,EAD6BC,aAE7BA,EAF6BC,cAG7BA,GACuB,IACvB,MAAOC,EAAWC,GAAgBC,EAAQA,UAAC,GACrCC,EAAYC,eACfC,IACML,IACHD,MAAAA,GAAAA,EAAgBM,GAChBJ,GAAa,MAGjB,CAACF,EAAeC,IAEZM,EAAaF,eAChBC,KAIGL,GACwB,MAAvBK,EAAME,eACHF,EAAMG,cAA8BC,SAASJ,EAAME,iBAEvDT,MAAAA,GAAAA,EAAeO,GACfJ,GAAa,MAGjB,CAACH,EAAcE,IAGjB,OAAOH,EACH,CACEG,WAAW,EACXU,WAAY,IAEd,CACEV,UAAAA,EACAU,WAAY,CACVP,UAAAA,EACAG,WAAAA"}