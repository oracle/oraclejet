function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}define(["exports","./tslib.es6-15721dfa","preact/jsx-runtime","preact","preact/hooks",'module',"./hooks/UNSAFE_useUser","./utils/UNSAFE_classNames","./hooks/UNSAFE_useTooltip","./utils/UNSAFE_mergeProps","./classNames-f6826ecb"],(function(e,t,r,a,s,o,i,l,n,d,c){"use strict";const u=({isSelected:e,isDisabled:t,isReadOnly:a})=>{const s=`${e?"selected":"unselected"}${t&&"Disabled"||a&&"Readonly"||""}`,o=b[`${s}Color`],i=b[`${s}BorderColor`];return r.jsx("svg",Object.assign({viewBox:"0 0 36 36",height:"100%",width:"100%",class:b.base},{children:r.jsxs("g",{children:[r.jsx("path",{class:o,d:"m18 1 5.0061 11.9524 12.9939 1.0344-9.9 8.4215 3.0246 12.5917-11.1246-6.7476-11.12461 6.7476 3.02461-12.5917-9.9-8.4215 12.9939-1.0344z"}),r.jsx("path",{class:i,d:"m23.0061 12.9524-5.0061-11.9524-5.0061 11.9524-12.9939 1.0344 9.9 8.4215-3.02461 12.5917 11.12461-6.7476 11.1246 6.7476-3.0246-12.5917 9.9-8.4215zm10.5043 1.8394-8.5262 7.2528 2.6077 10.8562-9.5919-5.818-9.59192 5.818 2.60772-10.8562-8.52615-7.2528 11.19115-.891 4.3192-10.31227 4.3192 10.31227z"})]})}))},b={base:"b1fpmsq7",selectedColor:"s1ub3kc",selectedBorderColor:"s11mpjof",unselectedColor:"uh6i9jh",unselectedBorderColor:"uwvnsek",selectedReadonlyColor:"s10t37jt",selectedReadonlyBorderColor:"s1onntbs",unselectedReadonlyColor:"u2vyvvv",unselectedReadonlyBorderColor:"u9973ms",selectedDisabledColor:"s1bebe5q",unselectedDisabledColor:"u1eb2oqr",selectedDisabledBorderColor:"s1euhvz3",unselectedDisabledBorderColor:"usuv7wt"},p=({fillRatio:e,isDisabled:t,isReadonly:s})=>{const{direction:o}=i.useUser(),l="rtl"===o;return 1===e||0===e?r.jsx(u,{isSelected:1===e,isDisabled:t,isReadOnly:s}):r.jsxs(a.Fragment,{children:[r.jsx("div",Object.assign({class:y.base,style:{clipPath:`inset(0% ${l?100*(1-e):0}% 0% ${l?0:100*e}%)`}},{children:r.jsx(u,{isSelected:!1,isDisabled:t,isReadOnly:s})})),r.jsx("div",Object.assign({class:y.base,style:{clipPath:`inset(0% ${l?0:100*(1-e)}% 0% ${l?100*(1-e):0}%)`}},{children:r.jsx(u,{isSelected:!0,isDisabled:t,isReadOnly:s})}))]})},y={base:"b1htd91l"};function m(e,t,r,a,s){const o=a.current;if(!o||0===o.width)return-1;let i=t*(e-o.x)/o.width;const l=i/r;return i=l<.5?0:Math.ceil(l)*r,s?t-i:i}function h(e){if(!e)return{width:0,x:0};const t=e.getBoundingClientRect();return{width:Math.round(t.width),x:Math.round(t.x+window.scrollX)}}const v={base:"b97wbq7",interactive:"i1vpcap0",lg:"l152t3gc",md:"m19upflt",sm:"s33yyxs",item:"i16crsb0"};e.RatingGauge=function(e){var{max:o=5,value:l=0,size:u="md",step:b=1,isReadonly:y,isDisabled:f}=e,x=t.__rest(e,["max","value","size","step","isReadonly","isDisabled"]);const g=s.useRef(null),j=s.useRef(h(null)),A=!y&&!f;s.useEffect((()=>{j.current=h(g.current)}),[u,o]);const R=((e,t,r,a,o,l,n)=>{const d=s.useRef(),{direction:c}=i.useUser();if(!o)return{};const u="rtl"===c;return{onPointerUp:r=>{const s=m(r.pageX,e,t,a,u);-1!==s&&(null==l||l({value:s}))},onBlur:()=>{null==l||l({value:r})},onPointerMove:r=>{const s=m(r.pageX,e,t,a,u);-1!==s&&s!=d.current&&(null==n||n({value:s}),d.current=s)},onKeyUp:a=>{const s=a.key;if("Tab"===s)return;if("Enter"===s)return void(null==l||l({value:r}));let o;switch(s){case"ArrowLeft":o=Math.max(0,r-t);break;case"ArrowRight":o=Math.min(e,r+t);break;case"Home":o=0;break;case"End":o=e}void 0!==o&&(null==n||n({value:o}),d.current=o),a.preventDefault(),a.stopPropagation()},onPointerLeave:()=>{null==n||n({value:void 0}),d.current=void 0}}})(o,b,l,j,A,x.onCommit,x.onInput),{tooltipContent:C,tooltipProps:w}=function({max:e,value:t,isReadonly:r,isDisabled:a,tooltip:o,datatip:i,ariaDescribedBy:l,width:d}){const[c,u]=s.useState(!1),b=r&&!a?"tooltip":"datatip",p=Math.max(1,Math.ceil(t)),y="tooltip"===b?0:(p-Math.ceil(e/2))*d/e,{tooltipContent:m,tooltipProps:h}=n.useTooltipControlled({text:"tooltip"===b?o:i,isOpen:c,anchor:{x:"element",y:"element"},position:"bottom",offset:{mainAxis:8,crossAxis:y},isDisabled:a,onToggle:({value:e})=>u(e),variant:b});return l&&(h["aria-describedby"]=l),{tooltipContent:m,tooltipProps:h}}({max:o,value:l,isReadonly:y,isDisabled:f,tooltip:x.tooltip,datatip:x.datatip,width:j.current.width,ariaDescribedBy:x.ariaDescribedBy}),D=d.mergeProps(R,w),_=(e=>e.accessibleLabel?e.accessibleLabel:e.tooltip&&e.isReadonly&&!e.isDisabled?e.tooltip:void 0)({accessibleLabel:x.accessibleLabel,tooltip:x.tooltip,isReadonly:y,isDisabled:f});return r.jsxs(a.Fragment,{children:[r.jsx("div",Object.assign({ref:g,class:c.classNames([v.base,A?v.interactive:void 0]),"aria-label":_,role:"slider","aria-valuemin":"0","aria-valuenow":l,"aria-valuemax":o,"aria-valuetext":l,"aria-labelledby":x.ariaLabelledBy,tabIndex:f?void 0:0,"aria-disabled":f?"true":void 0},D,{children:_toConsumableArray(Array(o)).map(((e,t)=>{const a=Math.min(Math.max(0,l-t),1);return r.jsx("div",Object.assign({className:c.classNames([v[u],v.item])},{children:r.jsx(p,{fillRatio:a,isDisabled:f,isReadonly:y})}))}))})),C]})}}));
//# sourceMappingURL=RatingGauge-fa909645.js.map
