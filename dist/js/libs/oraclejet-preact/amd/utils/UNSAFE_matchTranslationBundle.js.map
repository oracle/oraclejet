{"version":3,"file":"UNSAFE_matchTranslationBundle.js","sources":["../../../src/utils/UNSAFE_matchTranslationBundle/matchTranslationBundle.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\n\n/**\n * @returns the best match for user's preferred locale or null if none is found\n * @param preferredLocales - a list of user's preferred locales ordered from the most preferred to the least preferred\n * @param supportedLocales - a set of locales supported by the application\n * @ignore\n */\nexport function matchTranslationBundle(\n  preferredLocales: Array<string>,\n  supportedLocales: Set<string>\n): string | null {\n  let match = null;\n\n  for (let l = 0; match === null && l < preferredLocales.length; l++) {\n    const locale = preferredLocales[l];\n    if (supportedLocales.has(locale)) {\n      match = locale;\n    } else {\n      match = _findPartialMatch(locale, supportedLocales);\n    }\n  }\n  return match;\n}\n\nfunction _findPartialMatch(locale: String, supportedLocales: Set<String>): string | null {\n  let match = null;\n  const sep = '-';\n  const parts = locale.split(sep);\n\n  while (match === null && parts.length > 1) {\n    parts.pop();\n    const partial = parts.join(sep);\n    if (supportedLocales.has(partial)) {\n      match = partial;\n    }\n  }\n\n  return match;\n}\n"],"names":["_findPartialMatch","locale","supportedLocales","match","parts","split","length","pop","partial","join","has","preferredLocales","l"],"mappings":"6CA+BA,SAASA,EAAkBC,EAAgBC,GACzC,IAAIC,EAAQ,KACZ,MACMC,EAAQH,EAAOI,MADT,KAGZ,KAAiB,OAAVF,GAAkBC,EAAME,OAAS,GAAG,CACzCF,EAAMG,MACN,MAAMC,EAAUJ,EAAMK,KALZ,KAMNP,EAAiBQ,IAAIF,KACvBL,EAAQK,GAIZ,OAAOL,2BA9BO,SACdQ,EACAT,GAEA,IAAIC,EAAQ,KAEZ,IAAK,IAAIS,EAAI,EAAa,OAAVT,GAAkBS,EAAID,EAAiBL,OAAQM,IAAK,CAClE,MAAMX,EAASU,EAAiBC,GAE9BT,EADED,EAAiBQ,IAAIT,GACfA,EAEAD,EAAkBC,EAAQC,GAGtC,OAAOC"}